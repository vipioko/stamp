var Hb=t=>{throw TypeError(t)};var ny=(t,e,n)=>e.has(t)||Hb("Cannot "+n);var q=(t,e,n)=>(ny(t,e,"read from private field"),n?n.call(t):e.get(t)),at=(t,e,n)=>e.has(t)?Hb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),De=(t,e,n,r)=>(ny(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),kn=(t,e,n)=>(ny(t,e,"access private method"),n);var Gh=(t,e,n,r)=>({set _(s){De(t,e,s,n)},get _(){return q(t,e,r)}});function OM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function VN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var FN={exports:{}},xp={},UN={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var th=Symbol.for("react.element"),MM=Symbol.for("react.portal"),LM=Symbol.for("react.fragment"),VM=Symbol.for("react.strict_mode"),FM=Symbol.for("react.profiler"),UM=Symbol.for("react.provider"),$M=Symbol.for("react.context"),BM=Symbol.for("react.forward_ref"),zM=Symbol.for("react.suspense"),WM=Symbol.for("react.memo"),HM=Symbol.for("react.lazy"),qb=Symbol.iterator;function qM(t){return t===null||typeof t!="object"?null:(t=qb&&t[qb]||t["@@iterator"],typeof t=="function"?t:null)}var $N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BN=Object.assign,zN={};function Ac(t,e,n){this.props=t,this.context=e,this.refs=zN,this.updater=n||$N}Ac.prototype.isReactComponent={};Ac.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ac.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function WN(){}WN.prototype=Ac.prototype;function dw(t,e,n){this.props=t,this.context=e,this.refs=zN,this.updater=n||$N}var hw=dw.prototype=new WN;hw.constructor=dw;BN(hw,Ac.prototype);hw.isPureReactComponent=!0;var Gb=Array.isArray,HN=Object.prototype.hasOwnProperty,fw={current:null},qN={key:!0,ref:!0,__self:!0,__source:!0};function GN(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)HN.call(e,r)&&!qN.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:th,type:t,key:i,ref:a,props:s,_owner:fw.current}}function GM(t,e){return{$$typeof:th,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mw(t){return typeof t=="object"&&t!==null&&t.$$typeof===th}function KM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Kb=/\/+/g;function ry(t,e){return typeof t=="object"&&t!==null&&t.key!=null?KM(""+t.key):e.toString(36)}function If(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case th:case MM:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+ry(a,0):r,Gb(s)?(n="",t!=null&&(n=t.replace(Kb,"$&/")+"/"),If(s,e,n,"",function(u){return u})):s!=null&&(mw(s)&&(s=GM(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Kb,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",Gb(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+ry(i,l);a+=If(i,e,n,c,s)}else if(c=qM(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+ry(i,l++),a+=If(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Kh(t,e,n){if(t==null)return t;var r=[],s=0;return If(t,r,"","",function(i){return e.call(n,i,s++)}),r}function QM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Kn={current:null},Pf={transition:null},YM={ReactCurrentDispatcher:Kn,ReactCurrentBatchConfig:Pf,ReactCurrentOwner:fw};function KN(){throw Error("act(...) is not supported in production builds of React.")}qe.Children={map:Kh,forEach:function(t,e,n){Kh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kh(t,function(){e++}),e},toArray:function(t){return Kh(t,function(e){return e})||[]},only:function(t){if(!mw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};qe.Component=Ac;qe.Fragment=LM;qe.Profiler=FM;qe.PureComponent=dw;qe.StrictMode=VM;qe.Suspense=zM;qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YM;qe.act=KN;qe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=BN({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=fw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)HN.call(e,c)&&!qN.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:th,type:t.type,key:s,ref:i,props:r,_owner:a}};qe.createContext=function(t){return t={$$typeof:$M,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UM,_context:t},t.Consumer=t};qe.createElement=GN;qe.createFactory=function(t){var e=GN.bind(null,t);return e.type=t,e};qe.createRef=function(){return{current:null}};qe.forwardRef=function(t){return{$$typeof:BM,render:t}};qe.isValidElement=mw;qe.lazy=function(t){return{$$typeof:HM,_payload:{_status:-1,_result:t},_init:QM}};qe.memo=function(t,e){return{$$typeof:WM,type:t,compare:e===void 0?null:e}};qe.startTransition=function(t){var e=Pf.transition;Pf.transition={};try{t()}finally{Pf.transition=e}};qe.unstable_act=KN;qe.useCallback=function(t,e){return Kn.current.useCallback(t,e)};qe.useContext=function(t){return Kn.current.useContext(t)};qe.useDebugValue=function(){};qe.useDeferredValue=function(t){return Kn.current.useDeferredValue(t)};qe.useEffect=function(t,e){return Kn.current.useEffect(t,e)};qe.useId=function(){return Kn.current.useId()};qe.useImperativeHandle=function(t,e,n){return Kn.current.useImperativeHandle(t,e,n)};qe.useInsertionEffect=function(t,e){return Kn.current.useInsertionEffect(t,e)};qe.useLayoutEffect=function(t,e){return Kn.current.useLayoutEffect(t,e)};qe.useMemo=function(t,e){return Kn.current.useMemo(t,e)};qe.useReducer=function(t,e,n){return Kn.current.useReducer(t,e,n)};qe.useRef=function(t){return Kn.current.useRef(t)};qe.useState=function(t){return Kn.current.useState(t)};qe.useSyncExternalStore=function(t,e,n){return Kn.current.useSyncExternalStore(t,e,n)};qe.useTransition=function(){return Kn.current.useTransition()};qe.version="18.3.1";UN.exports=qe;var p=UN.exports;const W=VN(p),pw=OM({__proto__:null,default:W},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XM=p,ZM=Symbol.for("react.element"),JM=Symbol.for("react.fragment"),eL=Object.prototype.hasOwnProperty,tL=XM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nL={key:!0,ref:!0,__self:!0,__source:!0};function QN(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)eL.call(e,r)&&!nL.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:ZM,type:t,key:i,ref:a,props:s,_owner:tL.current}}xp.Fragment=JM;xp.jsx=QN;xp.jsxs=QN;FN.exports=xp;var o=FN.exports,YN={exports:{}},kr={},XN={exports:{}},ZN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,L){var G=V.length;V.push(L);e:for(;0<G;){var ue=G-1>>>1,oe=V[ue];if(0<s(oe,L))V[ue]=L,V[G]=oe,G=ue;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var L=V[0],G=V.pop();if(G!==L){V[0]=G;e:for(var ue=0,oe=V.length,ge=oe>>>1;ue<ge;){var Te=2*(ue+1)-1,We=V[Te],it=Te+1,X=V[it];if(0>s(We,G))it<oe&&0>s(X,We)?(V[ue]=X,V[it]=G,ue=it):(V[ue]=We,V[Te]=G,ue=Te);else if(it<oe&&0>s(X,G))V[ue]=X,V[it]=G,ue=it;else break e}}return L}function s(V,L){var G=V.sortIndex-L.sortIndex;return G!==0?G:V.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,f=null,m=3,y=!1,x=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(V){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=V)r(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(u)}}function T(V){if(g=!1,E(V),!x)if(n(c)!==null)x=!0,Y(I);else{var L=n(u);L!==null&&le(T,L.startTime-V)}}function I(V,L){x=!1,g&&(g=!1,b(N),N=-1),y=!0;var G=m;try{for(E(L),f=n(c);f!==null&&(!(f.expirationTime>L)||V&&!A());){var ue=f.callback;if(typeof ue=="function"){f.callback=null,m=f.priorityLevel;var oe=ue(f.expirationTime<=L);L=t.unstable_now(),typeof oe=="function"?f.callback=oe:f===n(c)&&r(c),E(L)}else r(c);f=n(c)}if(f!==null)var ge=!0;else{var Te=n(u);Te!==null&&le(T,Te.startTime-L),ge=!1}return ge}finally{f=null,m=G,y=!1}}var O=!1,C=null,N=-1,P=5,R=-1;function A(){return!(t.unstable_now()-R<P)}function D(){if(C!==null){var V=t.unstable_now();R=V;var L=!0;try{L=C(!0,V)}finally{L?j():(O=!1,C=null)}}else O=!1}var j;if(typeof w=="function")j=function(){w(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,re=B.port2;B.port1.onmessage=D,j=function(){re.postMessage(null)}}else j=function(){_(D,0)};function Y(V){C=V,O||(O=!0,j())}function le(V,L){N=_(function(){V(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,Y(I))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var G=m;m=L;try{return V()}finally{m=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,L){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var G=m;m=V;try{return L()}finally{m=G}},t.unstable_scheduleCallback=function(V,L,G){var ue=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ue+G:ue):G=ue,V){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=G+oe,V={id:h++,callback:L,priorityLevel:V,startTime:G,expirationTime:oe,sortIndex:-1},G>ue?(V.sortIndex=G,e(u,V),n(c)===null&&V===n(u)&&(g?(b(N),N=-1):g=!0,le(T,G-ue))):(V.sortIndex=oe,e(c,V),x||y||(x=!0,Y(I))),V},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(V){var L=m;return function(){var G=m;m=L;try{return V.apply(this,arguments)}finally{m=G}}}})(ZN);XN.exports=ZN;var rL=XN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sL=p,jr=rL;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JN=new Set,hd={};function Xa(t,e){uc(t,e),uc(t+"Capture",e)}function uc(t,e){for(hd[t]=e,t=0;t<e.length;t++)JN.add(e[t])}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hv=Object.prototype.hasOwnProperty,iL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qb={},Yb={};function oL(t){return hv.call(Yb,t)?!0:hv.call(Qb,t)?!1:iL.test(t)?Yb[t]=!0:(Qb[t]=!0,!1)}function aL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lL(t,e,n,r){if(e===null||typeof e>"u"||aL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qn(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nn[t]=new Qn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nn[e]=new Qn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nn[t]=new Qn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nn[t]=new Qn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nn[t]=new Qn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nn[t]=new Qn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nn[t]=new Qn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nn[t]=new Qn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nn[t]=new Qn(t,5,!1,t.toLowerCase(),null,!1,!1)});var gw=/[\-:]([a-z])/g;function yw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gw,yw);Nn[e]=new Qn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gw,yw);Nn[e]=new Qn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gw,yw);Nn[e]=new Qn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nn[t]=new Qn(t,1,!1,t.toLowerCase(),null,!1,!1)});Nn.xlinkHref=new Qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nn[t]=new Qn(t,1,!1,t.toLowerCase(),null,!0,!0)});function vw(t,e,n,r){var s=Nn.hasOwnProperty(e)?Nn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lL(e,n,s,r)&&(n=null),r||s===null?oL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Oi=sL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qh=Symbol.for("react.element"),Cl=Symbol.for("react.portal"),Il=Symbol.for("react.fragment"),xw=Symbol.for("react.strict_mode"),fv=Symbol.for("react.profiler"),eC=Symbol.for("react.provider"),tC=Symbol.for("react.context"),ww=Symbol.for("react.forward_ref"),mv=Symbol.for("react.suspense"),pv=Symbol.for("react.suspense_list"),_w=Symbol.for("react.memo"),Zi=Symbol.for("react.lazy"),nC=Symbol.for("react.offscreen"),Xb=Symbol.iterator;function mu(t){return t===null||typeof t!="object"?null:(t=Xb&&t[Xb]||t["@@iterator"],typeof t=="function"?t:null)}var Dt=Object.assign,sy;function Pu(t){if(sy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sy=e&&e[1]||""}return`
`+sy+t}var iy=!1;function oy(t,e){if(!t||iy)return"";iy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{iy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Pu(t):""}function cL(t){switch(t.tag){case 5:return Pu(t.type);case 16:return Pu("Lazy");case 13:return Pu("Suspense");case 19:return Pu("SuspenseList");case 0:case 2:case 15:return t=oy(t.type,!1),t;case 11:return t=oy(t.type.render,!1),t;case 1:return t=oy(t.type,!0),t;default:return""}}function gv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Il:return"Fragment";case Cl:return"Portal";case fv:return"Profiler";case xw:return"StrictMode";case mv:return"Suspense";case pv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tC:return(t.displayName||"Context")+".Consumer";case eC:return(t._context.displayName||"Context")+".Provider";case ww:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _w:return e=t.displayName||null,e!==null?e:gv(t.type)||"Memo";case Zi:e=t._payload,t=t._init;try{return gv(t(e))}catch{}}return null}function uL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gv(e);case 8:return e===xw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Do(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dL(t){var e=rC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yh(t){t._valueTracker||(t._valueTracker=dL(t))}function sC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function rm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yv(t,e){var n=e.checked;return Dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Zb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Do(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iC(t,e){e=e.checked,e!=null&&vw(t,"checked",e,!1)}function vv(t,e){iC(t,e);var n=Do(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xv(t,e.type,n):e.hasOwnProperty("defaultValue")&&xv(t,e.type,Do(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xv(t,e,n){(e!=="number"||rm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ju=Array.isArray;function Ul(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Do(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function wv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return Dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function e1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(ju(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Do(n)}}function oC(t,e){var n=Do(e.value),r=Do(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function t1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _v(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xh,lC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xh=Xh||document.createElement("div"),Xh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hL=["Webkit","ms","Moz","O"];Object.keys(zu).forEach(function(t){hL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zu[e]=zu[t]})});function cC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zu.hasOwnProperty(t)&&zu[t]?(""+e).trim():e+"px"}function uC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=cC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var fL=Dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bv(t,e){if(e){if(fL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function Ev(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sv=null;function bw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tv=null,$l=null,Bl=null;function n1(t){if(t=sh(t)){if(typeof Tv!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=Sp(e),Tv(t.stateNode,t.type,e))}}function dC(t){$l?Bl?Bl.push(t):Bl=[t]:$l=t}function hC(){if($l){var t=$l,e=Bl;if(Bl=$l=null,n1(t),e)for(t=0;t<e.length;t++)n1(e[t])}}function fC(t,e){return t(e)}function mC(){}var ay=!1;function pC(t,e,n){if(ay)return t(e,n);ay=!0;try{return fC(t,e,n)}finally{ay=!1,($l!==null||Bl!==null)&&(mC(),hC())}}function md(t,e){var n=t.stateNode;if(n===null)return null;var r=Sp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var Nv=!1;if(Ei)try{var pu={};Object.defineProperty(pu,"passive",{get:function(){Nv=!0}}),window.addEventListener("test",pu,pu),window.removeEventListener("test",pu,pu)}catch{Nv=!1}function mL(t,e,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Wu=!1,sm=null,im=!1,Cv=null,pL={onError:function(t){Wu=!0,sm=t}};function gL(t,e,n,r,s,i,a,l,c){Wu=!1,sm=null,mL.apply(pL,arguments)}function yL(t,e,n,r,s,i,a,l,c){if(gL.apply(this,arguments),Wu){if(Wu){var u=sm;Wu=!1,sm=null}else throw Error(Q(198));im||(im=!0,Cv=u)}}function Za(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function r1(t){if(Za(t)!==t)throw Error(Q(188))}function vL(t){var e=t.alternate;if(!e){if(e=Za(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return r1(s),t;if(i===r)return r1(s),e;i=i.sibling}throw Error(Q(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function yC(t){return t=vL(t),t!==null?vC(t):null}function vC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vC(t);if(e!==null)return e;t=t.sibling}return null}var xC=jr.unstable_scheduleCallback,s1=jr.unstable_cancelCallback,xL=jr.unstable_shouldYield,wL=jr.unstable_requestPaint,Wt=jr.unstable_now,_L=jr.unstable_getCurrentPriorityLevel,Ew=jr.unstable_ImmediatePriority,wC=jr.unstable_UserBlockingPriority,om=jr.unstable_NormalPriority,bL=jr.unstable_LowPriority,_C=jr.unstable_IdlePriority,wp=null,Bs=null;function EL(t){if(Bs&&typeof Bs.onCommitFiberRoot=="function")try{Bs.onCommitFiberRoot(wp,t,void 0,(t.current.flags&128)===128)}catch{}}var vs=Math.clz32?Math.clz32:NL,SL=Math.log,TL=Math.LN2;function NL(t){return t>>>=0,t===0?32:31-(SL(t)/TL|0)|0}var Zh=64,Jh=4194304;function Ru(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function am(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Ru(l):(i&=a,i!==0&&(r=Ru(i)))}else a=n&~s,a!==0?r=Ru(a):i!==0&&(r=Ru(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vs(e),s=1<<n,r|=t[n],e&=~s;return r}function CL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-vs(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=CL(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Iv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bC(){var t=Zh;return Zh<<=1,!(Zh&4194240)&&(Zh=64),t}function ly(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function nh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vs(e),t[e]=n}function PL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-vs(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Sw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var wt=0;function EC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var SC,Tw,TC,NC,CC,Pv=!1,ef=[],vo=null,xo=null,wo=null,pd=new Map,gd=new Map,to=[],jL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function i1(t,e){switch(t){case"focusin":case"focusout":vo=null;break;case"dragenter":case"dragleave":xo=null;break;case"mouseover":case"mouseout":wo=null;break;case"pointerover":case"pointerout":pd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gd.delete(e.pointerId)}}function gu(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=sh(e),e!==null&&Tw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function RL(t,e,n,r,s){switch(e){case"focusin":return vo=gu(vo,t,e,n,r,s),!0;case"dragenter":return xo=gu(xo,t,e,n,r,s),!0;case"mouseover":return wo=gu(wo,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return pd.set(i,gu(pd.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,gd.set(i,gu(gd.get(i)||null,t,e,n,r,s)),!0}return!1}function IC(t){var e=va(t.target);if(e!==null){var n=Za(e);if(n!==null){if(e=n.tag,e===13){if(e=gC(n),e!==null){t.blockedOn=e,CC(t.priority,function(){TC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Sv=r,n.target.dispatchEvent(r),Sv=null}else return e=sh(n),e!==null&&Tw(e),t.blockedOn=n,!1;e.shift()}return!0}function o1(t,e,n){jf(t)&&n.delete(e)}function kL(){Pv=!1,vo!==null&&jf(vo)&&(vo=null),xo!==null&&jf(xo)&&(xo=null),wo!==null&&jf(wo)&&(wo=null),pd.forEach(o1),gd.forEach(o1)}function yu(t,e){t.blockedOn===e&&(t.blockedOn=null,Pv||(Pv=!0,jr.unstable_scheduleCallback(jr.unstable_NormalPriority,kL)))}function yd(t){function e(s){return yu(s,t)}if(0<ef.length){yu(ef[0],t);for(var n=1;n<ef.length;n++){var r=ef[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vo!==null&&yu(vo,t),xo!==null&&yu(xo,t),wo!==null&&yu(wo,t),pd.forEach(e),gd.forEach(e),n=0;n<to.length;n++)r=to[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<to.length&&(n=to[0],n.blockedOn===null);)IC(n),n.blockedOn===null&&to.shift()}var zl=Oi.ReactCurrentBatchConfig,lm=!0;function AL(t,e,n,r){var s=wt,i=zl.transition;zl.transition=null;try{wt=1,Nw(t,e,n,r)}finally{wt=s,zl.transition=i}}function DL(t,e,n,r){var s=wt,i=zl.transition;zl.transition=null;try{wt=4,Nw(t,e,n,r)}finally{wt=s,zl.transition=i}}function Nw(t,e,n,r){if(lm){var s=jv(t,e,n,r);if(s===null)vy(t,e,r,cm,n),i1(t,r);else if(RL(s,t,e,n,r))r.stopPropagation();else if(i1(t,r),e&4&&-1<jL.indexOf(t)){for(;s!==null;){var i=sh(s);if(i!==null&&SC(i),i=jv(t,e,n,r),i===null&&vy(t,e,r,cm,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else vy(t,e,r,null,n)}}var cm=null;function jv(t,e,n,r){if(cm=null,t=bw(r),t=va(t),t!==null)if(e=Za(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cm=t,null}function PC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_L()){case Ew:return 1;case wC:return 4;case om:case bL:return 16;case _C:return 536870912;default:return 16}default:return 16}}var fo=null,Cw=null,Rf=null;function jC(){if(Rf)return Rf;var t,e=Cw,n=e.length,r,s="value"in fo?fo.value:fo.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Rf=s.slice(t,1<r?1-r:void 0)}function kf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function tf(){return!0}function a1(){return!1}function Ar(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?tf:a1,this.isPropagationStopped=a1,this}return Dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tf)},persist:function(){},isPersistent:tf}),e}var Dc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iw=Ar(Dc),rh=Dt({},Dc,{view:0,detail:0}),OL=Ar(rh),cy,uy,vu,_p=Dt({},rh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vu&&(vu&&t.type==="mousemove"?(cy=t.screenX-vu.screenX,uy=t.screenY-vu.screenY):uy=cy=0,vu=t),cy)},movementY:function(t){return"movementY"in t?t.movementY:uy}}),l1=Ar(_p),ML=Dt({},_p,{dataTransfer:0}),LL=Ar(ML),VL=Dt({},rh,{relatedTarget:0}),dy=Ar(VL),FL=Dt({},Dc,{animationName:0,elapsedTime:0,pseudoElement:0}),UL=Ar(FL),$L=Dt({},Dc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),BL=Ar($L),zL=Dt({},Dc,{data:0}),c1=Ar(zL),WL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qL[t])?!!e[t]:!1}function Pw(){return GL}var KL=Dt({},rh,{key:function(t){if(t.key){var e=WL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=kf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?HL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pw,charCode:function(t){return t.type==="keypress"?kf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),QL=Ar(KL),YL=Dt({},_p,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u1=Ar(YL),XL=Dt({},rh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pw}),ZL=Ar(XL),JL=Dt({},Dc,{propertyName:0,elapsedTime:0,pseudoElement:0}),e4=Ar(JL),t4=Dt({},_p,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),n4=Ar(t4),r4=[9,13,27,32],jw=Ei&&"CompositionEvent"in window,Hu=null;Ei&&"documentMode"in document&&(Hu=document.documentMode);var s4=Ei&&"TextEvent"in window&&!Hu,RC=Ei&&(!jw||Hu&&8<Hu&&11>=Hu),d1=" ",h1=!1;function kC(t,e){switch(t){case"keyup":return r4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pl=!1;function i4(t,e){switch(t){case"compositionend":return AC(e);case"keypress":return e.which!==32?null:(h1=!0,d1);case"textInput":return t=e.data,t===d1&&h1?null:t;default:return null}}function o4(t,e){if(Pl)return t==="compositionend"||!jw&&kC(t,e)?(t=jC(),Rf=Cw=fo=null,Pl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return RC&&e.locale!=="ko"?null:e.data;default:return null}}var a4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!a4[t.type]:e==="textarea"}function DC(t,e,n,r){dC(r),e=um(e,"onChange"),0<e.length&&(n=new Iw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qu=null,vd=null;function l4(t){HC(t,0)}function bp(t){var e=kl(t);if(sC(e))return t}function c4(t,e){if(t==="change")return e}var OC=!1;if(Ei){var hy;if(Ei){var fy="oninput"in document;if(!fy){var m1=document.createElement("div");m1.setAttribute("oninput","return;"),fy=typeof m1.oninput=="function"}hy=fy}else hy=!1;OC=hy&&(!document.documentMode||9<document.documentMode)}function p1(){qu&&(qu.detachEvent("onpropertychange",MC),vd=qu=null)}function MC(t){if(t.propertyName==="value"&&bp(vd)){var e=[];DC(e,vd,t,bw(t)),pC(l4,e)}}function u4(t,e,n){t==="focusin"?(p1(),qu=e,vd=n,qu.attachEvent("onpropertychange",MC)):t==="focusout"&&p1()}function d4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bp(vd)}function h4(t,e){if(t==="click")return bp(e)}function f4(t,e){if(t==="input"||t==="change")return bp(e)}function m4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ws=typeof Object.is=="function"?Object.is:m4;function xd(t,e){if(ws(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!hv.call(e,s)||!ws(t[s],e[s]))return!1}return!0}function g1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function y1(t,e){var n=g1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=g1(n)}}function LC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function VC(){for(var t=window,e=rm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=rm(t.document)}return e}function Rw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function p4(t){var e=VC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&LC(n.ownerDocument.documentElement,n)){if(r!==null&&Rw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=y1(n,i);var a=y1(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var g4=Ei&&"documentMode"in document&&11>=document.documentMode,jl=null,Rv=null,Gu=null,kv=!1;function v1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kv||jl==null||jl!==rm(r)||(r=jl,"selectionStart"in r&&Rw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gu&&xd(Gu,r)||(Gu=r,r=um(Rv,"onSelect"),0<r.length&&(e=new Iw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=jl)))}function nf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Rl={animationend:nf("Animation","AnimationEnd"),animationiteration:nf("Animation","AnimationIteration"),animationstart:nf("Animation","AnimationStart"),transitionend:nf("Transition","TransitionEnd")},my={},FC={};Ei&&(FC=document.createElement("div").style,"AnimationEvent"in window||(delete Rl.animationend.animation,delete Rl.animationiteration.animation,delete Rl.animationstart.animation),"TransitionEvent"in window||delete Rl.transitionend.transition);function Ep(t){if(my[t])return my[t];if(!Rl[t])return t;var e=Rl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in FC)return my[t]=e[n];return t}var UC=Ep("animationend"),$C=Ep("animationiteration"),BC=Ep("animationstart"),zC=Ep("transitionend"),WC=new Map,x1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ko(t,e){WC.set(t,e),Xa(e,[t])}for(var py=0;py<x1.length;py++){var gy=x1[py],y4=gy.toLowerCase(),v4=gy[0].toUpperCase()+gy.slice(1);Ko(y4,"on"+v4)}Ko(UC,"onAnimationEnd");Ko($C,"onAnimationIteration");Ko(BC,"onAnimationStart");Ko("dblclick","onDoubleClick");Ko("focusin","onFocus");Ko("focusout","onBlur");Ko(zC,"onTransitionEnd");uc("onMouseEnter",["mouseout","mouseover"]);uc("onMouseLeave",["mouseout","mouseover"]);uc("onPointerEnter",["pointerout","pointerover"]);uc("onPointerLeave",["pointerout","pointerover"]);Xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x4=new Set("cancel close invalid load scroll toggle".split(" ").concat(ku));function w1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yL(r,e,void 0,t),t.currentTarget=null}function HC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;w1(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;w1(s,l,u),i=c}}}if(im)throw t=Cv,im=!1,Cv=null,t}function It(t,e){var n=e[Lv];n===void 0&&(n=e[Lv]=new Set);var r=t+"__bubble";n.has(r)||(qC(e,t,2,!1),n.add(r))}function yy(t,e,n){var r=0;e&&(r|=4),qC(n,t,r,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function wd(t){if(!t[rf]){t[rf]=!0,JN.forEach(function(n){n!=="selectionchange"&&(x4.has(n)||yy(n,!1,t),yy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rf]||(e[rf]=!0,yy("selectionchange",!1,e))}}function qC(t,e,n,r){switch(PC(e)){case 1:var s=AL;break;case 4:s=DL;break;default:s=Nw}n=s.bind(null,e,n,t),s=void 0,!Nv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function vy(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=va(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}pC(function(){var u=i,h=bw(n),f=[];e:{var m=WC.get(t);if(m!==void 0){var y=Iw,x=t;switch(t){case"keypress":if(kf(n)===0)break e;case"keydown":case"keyup":y=QL;break;case"focusin":x="focus",y=dy;break;case"focusout":x="blur",y=dy;break;case"beforeblur":case"afterblur":y=dy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=l1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=LL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=ZL;break;case UC:case $C:case BC:y=UL;break;case zC:y=e4;break;case"scroll":y=OL;break;case"wheel":y=n4;break;case"copy":case"cut":case"paste":y=BL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=u1}var g=(e&4)!==0,_=!g&&t==="scroll",b=g?m!==null?m+"Capture":null:m;g=[];for(var w=u,E;w!==null;){E=w;var T=E.stateNode;if(E.tag===5&&T!==null&&(E=T,b!==null&&(T=md(w,b),T!=null&&g.push(_d(w,T,E)))),_)break;w=w.return}0<g.length&&(m=new y(m,x,null,n,h),f.push({event:m,listeners:g}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==Sv&&(x=n.relatedTarget||n.fromElement)&&(va(x)||x[Si]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=u,x=x?va(x):null,x!==null&&(_=Za(x),x!==_||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=u),y!==x)){if(g=l1,T="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=u1,T="onPointerLeave",b="onPointerEnter",w="pointer"),_=y==null?m:kl(y),E=x==null?m:kl(x),m=new g(T,w+"leave",y,n,h),m.target=_,m.relatedTarget=E,T=null,va(h)===u&&(g=new g(b,w+"enter",x,n,h),g.target=E,g.relatedTarget=_,T=g),_=T,y&&x)t:{for(g=y,b=x,w=0,E=g;E;E=gl(E))w++;for(E=0,T=b;T;T=gl(T))E++;for(;0<w-E;)g=gl(g),w--;for(;0<E-w;)b=gl(b),E--;for(;w--;){if(g===b||b!==null&&g===b.alternate)break t;g=gl(g),b=gl(b)}g=null}else g=null;y!==null&&_1(f,m,y,g,!1),x!==null&&_!==null&&_1(f,_,x,g,!0)}}e:{if(m=u?kl(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var I=c4;else if(f1(m))if(OC)I=f4;else{I=d4;var O=u4}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(I=h4);if(I&&(I=I(t,u))){DC(f,I,n,h);break e}O&&O(t,m,u),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&xv(m,"number",m.value)}switch(O=u?kl(u):window,t){case"focusin":(f1(O)||O.contentEditable==="true")&&(jl=O,Rv=u,Gu=null);break;case"focusout":Gu=Rv=jl=null;break;case"mousedown":kv=!0;break;case"contextmenu":case"mouseup":case"dragend":kv=!1,v1(f,n,h);break;case"selectionchange":if(g4)break;case"keydown":case"keyup":v1(f,n,h)}var C;if(jw)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Pl?kC(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(RC&&n.locale!=="ko"&&(Pl||N!=="onCompositionStart"?N==="onCompositionEnd"&&Pl&&(C=jC()):(fo=h,Cw="value"in fo?fo.value:fo.textContent,Pl=!0)),O=um(u,N),0<O.length&&(N=new c1(N,t,null,n,h),f.push({event:N,listeners:O}),C?N.data=C:(C=AC(n),C!==null&&(N.data=C)))),(C=s4?i4(t,n):o4(t,n))&&(u=um(u,"onBeforeInput"),0<u.length&&(h=new c1("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=C))}HC(f,e)})}function _d(t,e,n){return{instance:t,listener:e,currentTarget:n}}function um(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=md(t,n),i!=null&&r.unshift(_d(t,i,s)),i=md(t,e),i!=null&&r.push(_d(t,i,s))),t=t.return}return r}function gl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _1(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=md(n,i),c!=null&&a.unshift(_d(n,c,l))):s||(c=md(n,i),c!=null&&a.push(_d(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var w4=/\r\n?/g,_4=/\u0000|\uFFFD/g;function b1(t){return(typeof t=="string"?t:""+t).replace(w4,`
`).replace(_4,"")}function sf(t,e,n){if(e=b1(e),b1(t)!==e&&n)throw Error(Q(425))}function dm(){}var Av=null,Dv=null;function Ov(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Mv=typeof setTimeout=="function"?setTimeout:void 0,b4=typeof clearTimeout=="function"?clearTimeout:void 0,E1=typeof Promise=="function"?Promise:void 0,E4=typeof queueMicrotask=="function"?queueMicrotask:typeof E1<"u"?function(t){return E1.resolve(null).then(t).catch(S4)}:Mv;function S4(t){setTimeout(function(){throw t})}function xy(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),yd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);yd(e)}function _o(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function S1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Oc=Math.random().toString(36).slice(2),Vs="__reactFiber$"+Oc,bd="__reactProps$"+Oc,Si="__reactContainer$"+Oc,Lv="__reactEvents$"+Oc,T4="__reactListeners$"+Oc,N4="__reactHandles$"+Oc;function va(t){var e=t[Vs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Si]||n[Vs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=S1(t);t!==null;){if(n=t[Vs])return n;t=S1(t)}return e}t=n,n=t.parentNode}return null}function sh(t){return t=t[Vs]||t[Si],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function kl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function Sp(t){return t[bd]||null}var Vv=[],Al=-1;function Qo(t){return{current:t}}function Pt(t){0>Al||(t.current=Vv[Al],Vv[Al]=null,Al--)}function Tt(t,e){Al++,Vv[Al]=t.current,t.current=e}var Oo={},Un=Qo(Oo),lr=Qo(!1),Aa=Oo;function dc(t,e){var n=t.type.contextTypes;if(!n)return Oo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function cr(t){return t=t.childContextTypes,t!=null}function hm(){Pt(lr),Pt(Un)}function T1(t,e,n){if(Un.current!==Oo)throw Error(Q(168));Tt(Un,e),Tt(lr,n)}function GC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Q(108,uL(t)||"Unknown",s));return Dt({},n,r)}function fm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oo,Aa=Un.current,Tt(Un,t),Tt(lr,lr.current),!0}function N1(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=GC(t,e,Aa),r.__reactInternalMemoizedMergedChildContext=t,Pt(lr),Pt(Un),Tt(Un,t)):Pt(lr),Tt(lr,n)}var hi=null,Tp=!1,wy=!1;function KC(t){hi===null?hi=[t]:hi.push(t)}function C4(t){Tp=!0,KC(t)}function Yo(){if(!wy&&hi!==null){wy=!0;var t=0,e=wt;try{var n=hi;for(wt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hi=null,Tp=!1}catch(s){throw hi!==null&&(hi=hi.slice(t+1)),xC(Ew,Yo),s}finally{wt=e,wy=!1}}return null}var Dl=[],Ol=0,mm=null,pm=0,Br=[],zr=0,Da=null,pi=1,gi="";function ma(t,e){Dl[Ol++]=pm,Dl[Ol++]=mm,mm=t,pm=e}function QC(t,e,n){Br[zr++]=pi,Br[zr++]=gi,Br[zr++]=Da,Da=t;var r=pi;t=gi;var s=32-vs(r)-1;r&=~(1<<s),n+=1;var i=32-vs(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,pi=1<<32-vs(e)+s|n<<s|r,gi=i+t}else pi=1<<i|n<<s|r,gi=t}function kw(t){t.return!==null&&(ma(t,1),QC(t,1,0))}function Aw(t){for(;t===mm;)mm=Dl[--Ol],Dl[Ol]=null,pm=Dl[--Ol],Dl[Ol]=null;for(;t===Da;)Da=Br[--zr],Br[zr]=null,gi=Br[--zr],Br[zr]=null,pi=Br[--zr],Br[zr]=null}var Nr=null,Sr=null,Rt=!1,fs=null;function YC(t,e){var n=Hr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function C1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nr=t,Sr=_o(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nr=t,Sr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Da!==null?{id:pi,overflow:gi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Hr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nr=t,Sr=null,!0):!1;default:return!1}}function Fv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Uv(t){if(Rt){var e=Sr;if(e){var n=e;if(!C1(t,e)){if(Fv(t))throw Error(Q(418));e=_o(n.nextSibling);var r=Nr;e&&C1(t,e)?YC(r,n):(t.flags=t.flags&-4097|2,Rt=!1,Nr=t)}}else{if(Fv(t))throw Error(Q(418));t.flags=t.flags&-4097|2,Rt=!1,Nr=t}}}function I1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nr=t}function of(t){if(t!==Nr)return!1;if(!Rt)return I1(t),Rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ov(t.type,t.memoizedProps)),e&&(e=Sr)){if(Fv(t))throw XC(),Error(Q(418));for(;e;)YC(t,e),e=_o(e.nextSibling)}if(I1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Sr=_o(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Sr=null}}else Sr=Nr?_o(t.stateNode.nextSibling):null;return!0}function XC(){for(var t=Sr;t;)t=_o(t.nextSibling)}function hc(){Sr=Nr=null,Rt=!1}function Dw(t){fs===null?fs=[t]:fs.push(t)}var I4=Oi.ReactCurrentBatchConfig;function xu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function af(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function P1(t){var e=t._init;return e(t._payload)}function ZC(t){function e(b,w){if(t){var E=b.deletions;E===null?(b.deletions=[w],b.flags|=16):E.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function s(b,w){return b=To(b,w),b.index=0,b.sibling=null,b}function i(b,w,E){return b.index=E,t?(E=b.alternate,E!==null?(E=E.index,E<w?(b.flags|=2,w):E):(b.flags|=2,w)):(b.flags|=1048576,w)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,w,E,T){return w===null||w.tag!==6?(w=Cy(E,b.mode,T),w.return=b,w):(w=s(w,E),w.return=b,w)}function c(b,w,E,T){var I=E.type;return I===Il?h(b,w,E.props.children,T,E.key):w!==null&&(w.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Zi&&P1(I)===w.type)?(T=s(w,E.props),T.ref=xu(b,w,E),T.return=b,T):(T=Ff(E.type,E.key,E.props,null,b.mode,T),T.ref=xu(b,w,E),T.return=b,T)}function u(b,w,E,T){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=Iy(E,b.mode,T),w.return=b,w):(w=s(w,E.children||[]),w.return=b,w)}function h(b,w,E,T,I){return w===null||w.tag!==7?(w=Ra(E,b.mode,T,I),w.return=b,w):(w=s(w,E),w.return=b,w)}function f(b,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Cy(""+w,b.mode,E),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qh:return E=Ff(w.type,w.key,w.props,null,b.mode,E),E.ref=xu(b,null,w),E.return=b,E;case Cl:return w=Iy(w,b.mode,E),w.return=b,w;case Zi:var T=w._init;return f(b,T(w._payload),E)}if(ju(w)||mu(w))return w=Ra(w,b.mode,E,null),w.return=b,w;af(b,w)}return null}function m(b,w,E,T){var I=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return I!==null?null:l(b,w,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Qh:return E.key===I?c(b,w,E,T):null;case Cl:return E.key===I?u(b,w,E,T):null;case Zi:return I=E._init,m(b,w,I(E._payload),T)}if(ju(E)||mu(E))return I!==null?null:h(b,w,E,T,null);af(b,E)}return null}function y(b,w,E,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return b=b.get(E)||null,l(w,b,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Qh:return b=b.get(T.key===null?E:T.key)||null,c(w,b,T,I);case Cl:return b=b.get(T.key===null?E:T.key)||null,u(w,b,T,I);case Zi:var O=T._init;return y(b,w,E,O(T._payload),I)}if(ju(T)||mu(T))return b=b.get(E)||null,h(w,b,T,I,null);af(w,T)}return null}function x(b,w,E,T){for(var I=null,O=null,C=w,N=w=0,P=null;C!==null&&N<E.length;N++){C.index>N?(P=C,C=null):P=C.sibling;var R=m(b,C,E[N],T);if(R===null){C===null&&(C=P);break}t&&C&&R.alternate===null&&e(b,C),w=i(R,w,N),O===null?I=R:O.sibling=R,O=R,C=P}if(N===E.length)return n(b,C),Rt&&ma(b,N),I;if(C===null){for(;N<E.length;N++)C=f(b,E[N],T),C!==null&&(w=i(C,w,N),O===null?I=C:O.sibling=C,O=C);return Rt&&ma(b,N),I}for(C=r(b,C);N<E.length;N++)P=y(C,b,N,E[N],T),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?N:P.key),w=i(P,w,N),O===null?I=P:O.sibling=P,O=P);return t&&C.forEach(function(A){return e(b,A)}),Rt&&ma(b,N),I}function g(b,w,E,T){var I=mu(E);if(typeof I!="function")throw Error(Q(150));if(E=I.call(E),E==null)throw Error(Q(151));for(var O=I=null,C=w,N=w=0,P=null,R=E.next();C!==null&&!R.done;N++,R=E.next()){C.index>N?(P=C,C=null):P=C.sibling;var A=m(b,C,R.value,T);if(A===null){C===null&&(C=P);break}t&&C&&A.alternate===null&&e(b,C),w=i(A,w,N),O===null?I=A:O.sibling=A,O=A,C=P}if(R.done)return n(b,C),Rt&&ma(b,N),I;if(C===null){for(;!R.done;N++,R=E.next())R=f(b,R.value,T),R!==null&&(w=i(R,w,N),O===null?I=R:O.sibling=R,O=R);return Rt&&ma(b,N),I}for(C=r(b,C);!R.done;N++,R=E.next())R=y(C,b,N,R.value,T),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?N:R.key),w=i(R,w,N),O===null?I=R:O.sibling=R,O=R);return t&&C.forEach(function(D){return e(b,D)}),Rt&&ma(b,N),I}function _(b,w,E,T){if(typeof E=="object"&&E!==null&&E.type===Il&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Qh:e:{for(var I=E.key,O=w;O!==null;){if(O.key===I){if(I=E.type,I===Il){if(O.tag===7){n(b,O.sibling),w=s(O,E.props.children),w.return=b,b=w;break e}}else if(O.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Zi&&P1(I)===O.type){n(b,O.sibling),w=s(O,E.props),w.ref=xu(b,O,E),w.return=b,b=w;break e}n(b,O);break}else e(b,O);O=O.sibling}E.type===Il?(w=Ra(E.props.children,b.mode,T,E.key),w.return=b,b=w):(T=Ff(E.type,E.key,E.props,null,b.mode,T),T.ref=xu(b,w,E),T.return=b,b=T)}return a(b);case Cl:e:{for(O=E.key;w!==null;){if(w.key===O)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(b,w.sibling),w=s(w,E.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=Iy(E,b.mode,T),w.return=b,b=w}return a(b);case Zi:return O=E._init,_(b,w,O(E._payload),T)}if(ju(E))return x(b,w,E,T);if(mu(E))return g(b,w,E,T);af(b,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(b,w.sibling),w=s(w,E),w.return=b,b=w):(n(b,w),w=Cy(E,b.mode,T),w.return=b,b=w),a(b)):n(b,w)}return _}var fc=ZC(!0),JC=ZC(!1),gm=Qo(null),ym=null,Ml=null,Ow=null;function Mw(){Ow=Ml=ym=null}function Lw(t){var e=gm.current;Pt(gm),t._currentValue=e}function $v(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wl(t,e){ym=t,Ow=Ml=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ar=!0),t.firstContext=null)}function Yr(t){var e=t._currentValue;if(Ow!==t)if(t={context:t,memoizedValue:e,next:null},Ml===null){if(ym===null)throw Error(Q(308));Ml=t,ym.dependencies={lanes:0,firstContext:t}}else Ml=Ml.next=t;return e}var xa=null;function Vw(t){xa===null?xa=[t]:xa.push(t)}function eI(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Vw(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ti(t,r)}function Ti(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ji=!1;function Fw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,rt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ti(t,n)}return s=r.interleaved,s===null?(e.next=e,Vw(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ti(t,n)}function Af(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sw(t,n)}}function j1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vm(t,e,n,r){var s=t.updateQueue;Ji=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,h=u=c=null,l=i;do{var m=l.lane,y=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,g=l;switch(m=e,y=n,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(y,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,m=typeof x=="function"?x.call(y,f,m):x,m==null)break e;f=Dt({},f,m);break e;case 2:Ji=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=y,c=f):h=h.next=y,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ma|=a,t.lanes=a,t.memoizedState=f}}function R1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Q(191,s));s.call(r)}}}var ih={},zs=Qo(ih),Ed=Qo(ih),Sd=Qo(ih);function wa(t){if(t===ih)throw Error(Q(174));return t}function Uw(t,e){switch(Tt(Sd,e),Tt(Ed,t),Tt(zs,ih),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_v(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_v(e,t)}Pt(zs),Tt(zs,e)}function mc(){Pt(zs),Pt(Ed),Pt(Sd)}function nI(t){wa(Sd.current);var e=wa(zs.current),n=_v(e,t.type);e!==n&&(Tt(Ed,t),Tt(zs,n))}function $w(t){Ed.current===t&&(Pt(zs),Pt(Ed))}var kt=Qo(0);function xm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _y=[];function Bw(){for(var t=0;t<_y.length;t++)_y[t]._workInProgressVersionPrimary=null;_y.length=0}var Df=Oi.ReactCurrentDispatcher,by=Oi.ReactCurrentBatchConfig,Oa=0,At=null,on=null,hn=null,wm=!1,Ku=!1,Td=0,P4=0;function An(){throw Error(Q(321))}function zw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ws(t[n],e[n]))return!1;return!0}function Ww(t,e,n,r,s,i){if(Oa=i,At=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Df.current=t===null||t.memoizedState===null?A4:D4,t=n(r,s),Ku){i=0;do{if(Ku=!1,Td=0,25<=i)throw Error(Q(301));i+=1,hn=on=null,e.updateQueue=null,Df.current=O4,t=n(r,s)}while(Ku)}if(Df.current=_m,e=on!==null&&on.next!==null,Oa=0,hn=on=At=null,wm=!1,e)throw Error(Q(300));return t}function Hw(){var t=Td!==0;return Td=0,t}function As(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?At.memoizedState=hn=t:hn=hn.next=t,hn}function Xr(){if(on===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=on.next;var e=hn===null?At.memoizedState:hn.next;if(e!==null)hn=e,on=t;else{if(t===null)throw Error(Q(310));on=t,t={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},hn===null?At.memoizedState=hn=t:hn=hn.next=t}return hn}function Nd(t,e){return typeof e=="function"?e(t):e}function Ey(t){var e=Xr(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=on,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var h=u.lane;if((Oa&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,At.lanes|=h,Ma|=h}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,ws(r,e.memoizedState)||(ar=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,At.lanes|=i,Ma|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sy(t){var e=Xr(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);ws(i,e.memoizedState)||(ar=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function rI(){}function sI(t,e){var n=At,r=Xr(),s=e(),i=!ws(r.memoizedState,s);if(i&&(r.memoizedState=s,ar=!0),r=r.queue,qw(aI.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||hn!==null&&hn.memoizedState.tag&1){if(n.flags|=2048,Cd(9,oI.bind(null,n,r,s,e),void 0,null),fn===null)throw Error(Q(349));Oa&30||iI(n,e,s)}return s}function iI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function oI(t,e,n,r){e.value=n,e.getSnapshot=r,lI(e)&&cI(t)}function aI(t,e,n){return n(function(){lI(e)&&cI(t)})}function lI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ws(t,n)}catch{return!0}}function cI(t){var e=Ti(t,1);e!==null&&xs(e,t,1,-1)}function k1(t){var e=As();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nd,lastRenderedState:t},e.queue=t,t=t.dispatch=k4.bind(null,At,t),[e.memoizedState,t]}function Cd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uI(){return Xr().memoizedState}function Of(t,e,n,r){var s=As();At.flags|=t,s.memoizedState=Cd(1|e,n,void 0,r===void 0?null:r)}function Np(t,e,n,r){var s=Xr();r=r===void 0?null:r;var i=void 0;if(on!==null){var a=on.memoizedState;if(i=a.destroy,r!==null&&zw(r,a.deps)){s.memoizedState=Cd(e,n,i,r);return}}At.flags|=t,s.memoizedState=Cd(1|e,n,i,r)}function A1(t,e){return Of(8390656,8,t,e)}function qw(t,e){return Np(2048,8,t,e)}function dI(t,e){return Np(4,2,t,e)}function hI(t,e){return Np(4,4,t,e)}function fI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mI(t,e,n){return n=n!=null?n.concat([t]):null,Np(4,4,fI.bind(null,e,t),n)}function Gw(){}function pI(t,e){var n=Xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gI(t,e){var n=Xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yI(t,e,n){return Oa&21?(ws(n,e)||(n=bC(),At.lanes|=n,Ma|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ar=!0),t.memoizedState=n)}function j4(t,e){var n=wt;wt=n!==0&&4>n?n:4,t(!0);var r=by.transition;by.transition={};try{t(!1),e()}finally{wt=n,by.transition=r}}function vI(){return Xr().memoizedState}function R4(t,e,n){var r=So(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xI(t))wI(e,n);else if(n=eI(t,e,n,r),n!==null){var s=Gn();xs(n,t,r,s),_I(n,e,r)}}function k4(t,e,n){var r=So(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xI(t))wI(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,ws(l,a)){var c=e.interleaved;c===null?(s.next=s,Vw(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=eI(t,e,s,r),n!==null&&(s=Gn(),xs(n,t,r,s),_I(n,e,r))}}function xI(t){var e=t.alternate;return t===At||e!==null&&e===At}function wI(t,e){Ku=wm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _I(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sw(t,n)}}var _m={readContext:Yr,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},A4={readContext:Yr,useCallback:function(t,e){return As().memoizedState=[t,e===void 0?null:e],t},useContext:Yr,useEffect:A1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Of(4194308,4,fI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Of(4194308,4,t,e)},useInsertionEffect:function(t,e){return Of(4,2,t,e)},useMemo:function(t,e){var n=As();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=As();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=R4.bind(null,At,t),[r.memoizedState,t]},useRef:function(t){var e=As();return t={current:t},e.memoizedState=t},useState:k1,useDebugValue:Gw,useDeferredValue:function(t){return As().memoizedState=t},useTransition:function(){var t=k1(!1),e=t[0];return t=j4.bind(null,t[1]),As().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=At,s=As();if(Rt){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),fn===null)throw Error(Q(349));Oa&30||iI(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,A1(aI.bind(null,r,i,t),[t]),r.flags|=2048,Cd(9,oI.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=As(),e=fn.identifierPrefix;if(Rt){var n=gi,r=pi;n=(r&~(1<<32-vs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Td++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=P4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},D4={readContext:Yr,useCallback:pI,useContext:Yr,useEffect:qw,useImperativeHandle:mI,useInsertionEffect:dI,useLayoutEffect:hI,useMemo:gI,useReducer:Ey,useRef:uI,useState:function(){return Ey(Nd)},useDebugValue:Gw,useDeferredValue:function(t){var e=Xr();return yI(e,on.memoizedState,t)},useTransition:function(){var t=Ey(Nd)[0],e=Xr().memoizedState;return[t,e]},useMutableSource:rI,useSyncExternalStore:sI,useId:vI,unstable_isNewReconciler:!1},O4={readContext:Yr,useCallback:pI,useContext:Yr,useEffect:qw,useImperativeHandle:mI,useInsertionEffect:dI,useLayoutEffect:hI,useMemo:gI,useReducer:Sy,useRef:uI,useState:function(){return Sy(Nd)},useDebugValue:Gw,useDeferredValue:function(t){var e=Xr();return on===null?e.memoizedState=t:yI(e,on.memoizedState,t)},useTransition:function(){var t=Sy(Nd)[0],e=Xr().memoizedState;return[t,e]},useMutableSource:rI,useSyncExternalStore:sI,useId:vI,unstable_isNewReconciler:!1};function ls(t,e){if(t&&t.defaultProps){e=Dt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Dt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cp={isMounted:function(t){return(t=t._reactInternals)?Za(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gn(),s=So(t),i=wi(r,s);i.payload=e,n!=null&&(i.callback=n),e=bo(t,i,s),e!==null&&(xs(e,t,s,r),Af(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gn(),s=So(t),i=wi(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=bo(t,i,s),e!==null&&(xs(e,t,s,r),Af(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gn(),r=So(t),s=wi(n,r);s.tag=2,e!=null&&(s.callback=e),e=bo(t,s,r),e!==null&&(xs(e,t,r,n),Af(e,t,r))}};function D1(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!xd(n,r)||!xd(s,i):!0}function bI(t,e,n){var r=!1,s=Oo,i=e.contextType;return typeof i=="object"&&i!==null?i=Yr(i):(s=cr(e)?Aa:Un.current,r=e.contextTypes,i=(r=r!=null)?dc(t,s):Oo),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function O1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cp.enqueueReplaceState(e,e.state,null)}function zv(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Fw(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Yr(i):(i=cr(e)?Aa:Un.current,s.context=dc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Bv(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Cp.enqueueReplaceState(s,s.state,null),vm(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function pc(t,e){try{var n="",r=e;do n+=cL(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ty(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var M4=typeof WeakMap=="function"?WeakMap:Map;function EI(t,e,n){n=wi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Em||(Em=!0,ex=r),Wv(t,e)},n}function SI(t,e,n){n=wi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Wv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Wv(t,e),typeof r!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function M1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new M4;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Y4.bind(null,t,e,n),e.then(t,t))}function L1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function V1(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wi(-1,1),e.tag=2,bo(n,e,1))),n.lanes|=1),t)}var L4=Oi.ReactCurrentOwner,ar=!1;function Wn(t,e,n,r){e.child=t===null?JC(e,null,n,r):fc(e,t.child,n,r)}function F1(t,e,n,r,s){n=n.render;var i=e.ref;return Wl(e,s),r=Ww(t,e,n,r,i,s),n=Hw(),t!==null&&!ar?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ni(t,e,s)):(Rt&&n&&kw(e),e.flags|=1,Wn(t,e,r,s),e.child)}function U1(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!t0(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,TI(t,e,i,r,s)):(t=Ff(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:xd,n(a,r)&&t.ref===e.ref)return Ni(t,e,s)}return e.flags|=1,t=To(i,r),t.ref=e.ref,t.return=e,e.child=t}function TI(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(xd(i,r)&&t.ref===e.ref)if(ar=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ar=!0);else return e.lanes=t.lanes,Ni(t,e,s)}return Hv(t,e,n,r,s)}function NI(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(Vl,_r),_r|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Tt(Vl,_r),_r|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Tt(Vl,_r),_r|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Tt(Vl,_r),_r|=r;return Wn(t,e,s,n),e.child}function CI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hv(t,e,n,r,s){var i=cr(n)?Aa:Un.current;return i=dc(e,i),Wl(e,s),n=Ww(t,e,n,r,i,s),r=Hw(),t!==null&&!ar?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ni(t,e,s)):(Rt&&r&&kw(e),e.flags|=1,Wn(t,e,n,s),e.child)}function $1(t,e,n,r,s){if(cr(n)){var i=!0;fm(e)}else i=!1;if(Wl(e,s),e.stateNode===null)Mf(t,e),bI(e,n,r),zv(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Yr(u):(u=cr(n)?Aa:Un.current,u=dc(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&O1(e,a,r,u),Ji=!1;var m=e.memoizedState;a.state=m,vm(e,r,a,s),c=e.memoizedState,l!==r||m!==c||lr.current||Ji?(typeof h=="function"&&(Bv(e,n,h,r),c=e.memoizedState),(l=Ji||D1(e,n,l,r,m,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,tI(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ls(e.type,l),a.props=u,f=e.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Yr(c):(c=cr(n)?Aa:Un.current,c=dc(e,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==c)&&O1(e,a,r,c),Ji=!1,m=e.memoizedState,a.state=m,vm(e,r,a,s);var x=e.memoizedState;l!==f||m!==x||lr.current||Ji?(typeof y=="function"&&(Bv(e,n,y,r),x=e.memoizedState),(u=Ji||D1(e,n,u,r,m,x,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,x,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,x,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),a.props=r,a.state=x,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return qv(t,e,n,r,i,s)}function qv(t,e,n,r,s,i){CI(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&N1(e,n,!1),Ni(t,e,i);r=e.stateNode,L4.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=fc(e,t.child,null,i),e.child=fc(e,null,l,i)):Wn(t,e,l,i),e.memoizedState=r.state,s&&N1(e,n,!0),e.child}function II(t){var e=t.stateNode;e.pendingContext?T1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&T1(t,e.context,!1),Uw(t,e.containerInfo)}function B1(t,e,n,r,s){return hc(),Dw(s),e.flags|=256,Wn(t,e,n,r),e.child}var Gv={dehydrated:null,treeContext:null,retryLane:0};function Kv(t){return{baseLanes:t,cachePool:null,transitions:null}}function PI(t,e,n){var r=e.pendingProps,s=kt.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Tt(kt,s&1),t===null)return Uv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=jp(a,r,0,null),t=Ra(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Kv(n),e.memoizedState=Gv,t):Kw(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return V4(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=To(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=To(l,i):(i=Ra(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?Kv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Gv,r}return i=t.child,t=i.sibling,r=To(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Kw(t,e){return e=jp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function lf(t,e,n,r){return r!==null&&Dw(r),fc(e,t.child,null,n),t=Kw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function V4(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Ty(Error(Q(422))),lf(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=jp({mode:"visible",children:r.children},s,0,null),i=Ra(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&fc(e,t.child,null,a),e.child.memoizedState=Kv(a),e.memoizedState=Gv,i);if(!(e.mode&1))return lf(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(Q(419)),r=Ty(i,r,void 0),lf(t,e,a,r)}if(l=(a&t.childLanes)!==0,ar||l){if(r=fn,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ti(t,s),xs(r,t,s,-1))}return e0(),r=Ty(Error(Q(421))),lf(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=X4.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Sr=_o(s.nextSibling),Nr=e,Rt=!0,fs=null,t!==null&&(Br[zr++]=pi,Br[zr++]=gi,Br[zr++]=Da,pi=t.id,gi=t.overflow,Da=e),e=Kw(e,r.children),e.flags|=4096,e)}function z1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$v(t.return,e,n)}function Ny(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function jI(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Wn(t,e,r.children,n),r=kt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&z1(t,n,e);else if(t.tag===19)z1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Tt(kt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&xm(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ny(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&xm(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ny(e,!0,n,null,i);break;case"together":Ny(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ni(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ma|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=To(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=To(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function F4(t,e,n){switch(e.tag){case 3:II(e),hc();break;case 5:nI(e);break;case 1:cr(e.type)&&fm(e);break;case 4:Uw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Tt(gm,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Tt(kt,kt.current&1),e.flags|=128,null):n&e.child.childLanes?PI(t,e,n):(Tt(kt,kt.current&1),t=Ni(t,e,n),t!==null?t.sibling:null);Tt(kt,kt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jI(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Tt(kt,kt.current),r)break;return null;case 22:case 23:return e.lanes=0,NI(t,e,n)}return Ni(t,e,n)}var RI,Qv,kI,AI;RI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qv=function(){};kI=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,wa(zs.current);var i=null;switch(n){case"input":s=yv(t,s),r=yv(t,r),i=[];break;case"select":s=Dt({},s,{value:void 0}),r=Dt({},r,{value:void 0}),i=[];break;case"textarea":s=wv(t,s),r=wv(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=dm)}bv(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hd.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hd.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&It("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};AI=function(t,e,n,r){n!==r&&(e.flags|=4)};function wu(t,e){if(!Rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function U4(t,e,n){var r=e.pendingProps;switch(Aw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(e),null;case 1:return cr(e.type)&&hm(),Dn(e),null;case 3:return r=e.stateNode,mc(),Pt(lr),Pt(Un),Bw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(of(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fs!==null&&(rx(fs),fs=null))),Qv(t,e),Dn(e),null;case 5:$w(e);var s=wa(Sd.current);if(n=e.type,t!==null&&e.stateNode!=null)kI(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Dn(e),null}if(t=wa(zs.current),of(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Vs]=e,r[bd]=i,t=(e.mode&1)!==0,n){case"dialog":It("cancel",r),It("close",r);break;case"iframe":case"object":case"embed":It("load",r);break;case"video":case"audio":for(s=0;s<ku.length;s++)It(ku[s],r);break;case"source":It("error",r);break;case"img":case"image":case"link":It("error",r),It("load",r);break;case"details":It("toggle",r);break;case"input":Zb(r,i),It("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},It("invalid",r);break;case"textarea":e1(r,i),It("invalid",r)}bv(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&sf(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&sf(r.textContent,l,t),s=["children",""+l]):hd.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&It("scroll",r)}switch(n){case"input":Yh(r),Jb(r,i,!0);break;case"textarea":Yh(r),t1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=dm)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Vs]=e,t[bd]=r,RI(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ev(n,r),n){case"dialog":It("cancel",t),It("close",t),s=r;break;case"iframe":case"object":case"embed":It("load",t),s=r;break;case"video":case"audio":for(s=0;s<ku.length;s++)It(ku[s],t);s=r;break;case"source":It("error",t),s=r;break;case"img":case"image":case"link":It("error",t),It("load",t),s=r;break;case"details":It("toggle",t),s=r;break;case"input":Zb(t,r),s=yv(t,r),It("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Dt({},r,{value:void 0}),It("invalid",t);break;case"textarea":e1(t,r),s=wv(t,r),It("invalid",t);break;default:s=r}bv(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?uC(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lC(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&fd(t,c):typeof c=="number"&&fd(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hd.hasOwnProperty(i)?c!=null&&i==="onScroll"&&It("scroll",t):c!=null&&vw(t,i,c,a))}switch(n){case"input":Yh(t),Jb(t,r,!1);break;case"textarea":Yh(t),t1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Do(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ul(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ul(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=dm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dn(e),null;case 6:if(t&&e.stateNode!=null)AI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=wa(Sd.current),wa(zs.current),of(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vs]=e,(i=r.nodeValue!==n)&&(t=Nr,t!==null))switch(t.tag){case 3:sf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sf(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vs]=e,e.stateNode=r}return Dn(e),null;case 13:if(Pt(kt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Rt&&Sr!==null&&e.mode&1&&!(e.flags&128))XC(),hc(),e.flags|=98560,i=!1;else if(i=of(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[Vs]=e}else hc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dn(e),i=!1}else fs!==null&&(rx(fs),fs=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||kt.current&1?an===0&&(an=3):e0())),e.updateQueue!==null&&(e.flags|=4),Dn(e),null);case 4:return mc(),Qv(t,e),t===null&&wd(e.stateNode.containerInfo),Dn(e),null;case 10:return Lw(e.type._context),Dn(e),null;case 17:return cr(e.type)&&hm(),Dn(e),null;case 19:if(Pt(kt),i=e.memoizedState,i===null)return Dn(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)wu(i,!1);else{if(an!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=xm(t),a!==null){for(e.flags|=128,wu(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Tt(kt,kt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Wt()>gc&&(e.flags|=128,r=!0,wu(i,!1),e.lanes=4194304)}else{if(!r)if(t=xm(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),wu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Rt)return Dn(e),null}else 2*Wt()-i.renderingStartTime>gc&&n!==1073741824&&(e.flags|=128,r=!0,wu(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Wt(),e.sibling=null,n=kt.current,Tt(kt,r?n&1|2:n&1),e):(Dn(e),null);case 22:case 23:return Jw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?_r&1073741824&&(Dn(e),e.subtreeFlags&6&&(e.flags|=8192)):Dn(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function $4(t,e){switch(Aw(e),e.tag){case 1:return cr(e.type)&&hm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mc(),Pt(lr),Pt(Un),Bw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $w(e),null;case 13:if(Pt(kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));hc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pt(kt),null;case 4:return mc(),null;case 10:return Lw(e.type._context),null;case 22:case 23:return Jw(),null;case 24:return null;default:return null}}var cf=!1,Vn=!1,B4=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Ll(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$t(t,e,r)}else n.current=null}function Yv(t,e,n){try{n()}catch(r){$t(t,e,r)}}var W1=!1;function z4(t,e){if(Av=lm,t=VC(),Rw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,f=t,m=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===t)break t;if(m===n&&++u===s&&(l=a),m===i&&++h===r&&(c=a),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dv={focusedElem:t,selectionRange:n},lm=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){e=pe;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,_=x.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:ls(e.type,g),_);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(T){$t(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}return x=W1,W1=!1,x}function Qu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Yv(e,n,i)}s=s.next}while(s!==r)}}function Ip(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Xv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DI(t){var e=t.alternate;e!==null&&(t.alternate=null,DI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vs],delete e[bd],delete e[Lv],delete e[T4],delete e[N4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function OI(t){return t.tag===5||t.tag===3||t.tag===4}function H1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||OI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dm));else if(r!==4&&(t=t.child,t!==null))for(Zv(t,e,n),t=t.sibling;t!==null;)Zv(t,e,n),t=t.sibling}function Jv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jv(t,e,n),t=t.sibling;t!==null;)Jv(t,e,n),t=t.sibling}var wn=null,hs=!1;function Hi(t,e,n){for(n=n.child;n!==null;)MI(t,e,n),n=n.sibling}function MI(t,e,n){if(Bs&&typeof Bs.onCommitFiberUnmount=="function")try{Bs.onCommitFiberUnmount(wp,n)}catch{}switch(n.tag){case 5:Vn||Ll(n,e);case 6:var r=wn,s=hs;wn=null,Hi(t,e,n),wn=r,hs=s,wn!==null&&(hs?(t=wn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wn.removeChild(n.stateNode));break;case 18:wn!==null&&(hs?(t=wn,n=n.stateNode,t.nodeType===8?xy(t.parentNode,n):t.nodeType===1&&xy(t,n),yd(t)):xy(wn,n.stateNode));break;case 4:r=wn,s=hs,wn=n.stateNode.containerInfo,hs=!0,Hi(t,e,n),wn=r,hs=s;break;case 0:case 11:case 14:case 15:if(!Vn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Yv(n,e,a),s=s.next}while(s!==r)}Hi(t,e,n);break;case 1:if(!Vn&&(Ll(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){$t(n,e,l)}Hi(t,e,n);break;case 21:Hi(t,e,n);break;case 22:n.mode&1?(Vn=(r=Vn)||n.memoizedState!==null,Hi(t,e,n),Vn=r):Hi(t,e,n);break;default:Hi(t,e,n)}}function q1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new B4),e.forEach(function(r){var s=Z4.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function is(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:wn=l.stateNode,hs=!1;break e;case 3:wn=l.stateNode.containerInfo,hs=!0;break e;case 4:wn=l.stateNode.containerInfo,hs=!0;break e}l=l.return}if(wn===null)throw Error(Q(160));MI(i,a,s),wn=null,hs=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){$t(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LI(e,t),e=e.sibling}function LI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(is(e,t),ks(t),r&4){try{Qu(3,t,t.return),Ip(3,t)}catch(g){$t(t,t.return,g)}try{Qu(5,t,t.return)}catch(g){$t(t,t.return,g)}}break;case 1:is(e,t),ks(t),r&512&&n!==null&&Ll(n,n.return);break;case 5:if(is(e,t),ks(t),r&512&&n!==null&&Ll(n,n.return),t.flags&32){var s=t.stateNode;try{fd(s,"")}catch(g){$t(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&iC(s,i),Ev(l,a);var u=Ev(l,i);for(a=0;a<c.length;a+=2){var h=c[a],f=c[a+1];h==="style"?uC(s,f):h==="dangerouslySetInnerHTML"?lC(s,f):h==="children"?fd(s,f):vw(s,h,f,u)}switch(l){case"input":vv(s,i);break;case"textarea":oC(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Ul(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Ul(s,!!i.multiple,i.defaultValue,!0):Ul(s,!!i.multiple,i.multiple?[]:"",!1))}s[bd]=i}catch(g){$t(t,t.return,g)}}break;case 6:if(is(e,t),ks(t),r&4){if(t.stateNode===null)throw Error(Q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){$t(t,t.return,g)}}break;case 3:if(is(e,t),ks(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yd(e.containerInfo)}catch(g){$t(t,t.return,g)}break;case 4:is(e,t),ks(t);break;case 13:is(e,t),ks(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Xw=Wt())),r&4&&q1(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Vn=(u=Vn)||h,is(e,t),Vn=u):is(e,t),ks(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(pe=t,h=t.child;h!==null;){for(f=pe=h;pe!==null;){switch(m=pe,y=m.child,m.tag){case 0:case 11:case 14:case 15:Qu(4,m,m.return);break;case 1:Ll(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(g){$t(r,n,g)}}break;case 5:Ll(m,m.return);break;case 22:if(m.memoizedState!==null){K1(f);continue}}y!==null?(y.return=m,pe=y):K1(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=cC("display",a))}catch(g){$t(t,t.return,g)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){$t(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:is(e,t),ks(t),r&4&&q1(t);break;case 21:break;default:is(e,t),ks(t)}}function ks(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(OI(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(fd(s,""),r.flags&=-33);var i=H1(t);Jv(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=H1(t);Zv(t,l,a);break;default:throw Error(Q(161))}}catch(c){$t(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function W4(t,e,n){pe=t,VI(t)}function VI(t,e,n){for(var r=(t.mode&1)!==0;pe!==null;){var s=pe,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||cf;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Vn;l=cf;var u=Vn;if(cf=a,(Vn=c)&&!u)for(pe=s;pe!==null;)a=pe,c=a.child,a.tag===22&&a.memoizedState!==null?Q1(s):c!==null?(c.return=a,pe=c):Q1(s);for(;i!==null;)pe=i,VI(i),i=i.sibling;pe=s,cf=l,Vn=u}G1(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,pe=i):G1(t)}}function G1(t){for(;pe!==null;){var e=pe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vn||Ip(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ls(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&R1(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}R1(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&yd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Vn||e.flags&512&&Xv(e)}catch(m){$t(e,e.return,m)}}if(e===t){pe=null;break}if(n=e.sibling,n!==null){n.return=e.return,pe=n;break}pe=e.return}}function K1(t){for(;pe!==null;){var e=pe;if(e===t){pe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,pe=n;break}pe=e.return}}function Q1(t){for(;pe!==null;){var e=pe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ip(4,e)}catch(c){$t(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){$t(e,s,c)}}var i=e.return;try{Xv(e)}catch(c){$t(e,i,c)}break;case 5:var a=e.return;try{Xv(e)}catch(c){$t(e,a,c)}}}catch(c){$t(e,e.return,c)}if(e===t){pe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,pe=l;break}pe=e.return}}var H4=Math.ceil,bm=Oi.ReactCurrentDispatcher,Qw=Oi.ReactCurrentOwner,qr=Oi.ReactCurrentBatchConfig,rt=0,fn=null,Jt=null,En=0,_r=0,Vl=Qo(0),an=0,Id=null,Ma=0,Pp=0,Yw=0,Yu=null,sr=null,Xw=0,gc=1/0,di=null,Em=!1,ex=null,Eo=null,uf=!1,mo=null,Sm=0,Xu=0,tx=null,Lf=-1,Vf=0;function Gn(){return rt&6?Wt():Lf!==-1?Lf:Lf=Wt()}function So(t){return t.mode&1?rt&2&&En!==0?En&-En:I4.transition!==null?(Vf===0&&(Vf=bC()),Vf):(t=wt,t!==0||(t=window.event,t=t===void 0?16:PC(t.type)),t):1}function xs(t,e,n,r){if(50<Xu)throw Xu=0,tx=null,Error(Q(185));nh(t,n,r),(!(rt&2)||t!==fn)&&(t===fn&&(!(rt&2)&&(Pp|=n),an===4&&no(t,En)),ur(t,r),n===1&&rt===0&&!(e.mode&1)&&(gc=Wt()+500,Tp&&Yo()))}function ur(t,e){var n=t.callbackNode;IL(t,e);var r=am(t,t===fn?En:0);if(r===0)n!==null&&s1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&s1(n),e===1)t.tag===0?C4(Y1.bind(null,t)):KC(Y1.bind(null,t)),E4(function(){!(rt&6)&&Yo()}),n=null;else{switch(EC(r)){case 1:n=Ew;break;case 4:n=wC;break;case 16:n=om;break;case 536870912:n=_C;break;default:n=om}n=qI(n,FI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function FI(t,e){if(Lf=-1,Vf=0,rt&6)throw Error(Q(327));var n=t.callbackNode;if(Hl()&&t.callbackNode!==n)return null;var r=am(t,t===fn?En:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Tm(t,r);else{e=r;var s=rt;rt|=2;var i=$I();(fn!==t||En!==e)&&(di=null,gc=Wt()+500,ja(t,e));do try{K4();break}catch(l){UI(t,l)}while(!0);Mw(),bm.current=i,rt=s,Jt!==null?e=0:(fn=null,En=0,e=an)}if(e!==0){if(e===2&&(s=Iv(t),s!==0&&(r=s,e=nx(t,s))),e===1)throw n=Id,ja(t,0),no(t,r),ur(t,Wt()),n;if(e===6)no(t,r);else{if(s=t.current.alternate,!(r&30)&&!q4(s)&&(e=Tm(t,r),e===2&&(i=Iv(t),i!==0&&(r=i,e=nx(t,i))),e===1))throw n=Id,ja(t,0),no(t,r),ur(t,Wt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:pa(t,sr,di);break;case 3:if(no(t,r),(r&130023424)===r&&(e=Xw+500-Wt(),10<e)){if(am(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Gn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Mv(pa.bind(null,t,sr,di),e);break}pa(t,sr,di);break;case 4:if(no(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-vs(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=Wt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*H4(r/1960))-r,10<r){t.timeoutHandle=Mv(pa.bind(null,t,sr,di),r);break}pa(t,sr,di);break;case 5:pa(t,sr,di);break;default:throw Error(Q(329))}}}return ur(t,Wt()),t.callbackNode===n?FI.bind(null,t):null}function nx(t,e){var n=Yu;return t.current.memoizedState.isDehydrated&&(ja(t,e).flags|=256),t=Tm(t,e),t!==2&&(e=sr,sr=n,e!==null&&rx(e)),t}function rx(t){sr===null?sr=t:sr.push.apply(sr,t)}function q4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ws(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function no(t,e){for(e&=~Yw,e&=~Pp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vs(e),r=1<<n;t[n]=-1,e&=~r}}function Y1(t){if(rt&6)throw Error(Q(327));Hl();var e=am(t,0);if(!(e&1))return ur(t,Wt()),null;var n=Tm(t,e);if(t.tag!==0&&n===2){var r=Iv(t);r!==0&&(e=r,n=nx(t,r))}if(n===1)throw n=Id,ja(t,0),no(t,e),ur(t,Wt()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pa(t,sr,di),ur(t,Wt()),null}function Zw(t,e){var n=rt;rt|=1;try{return t(e)}finally{rt=n,rt===0&&(gc=Wt()+500,Tp&&Yo())}}function La(t){mo!==null&&mo.tag===0&&!(rt&6)&&Hl();var e=rt;rt|=1;var n=qr.transition,r=wt;try{if(qr.transition=null,wt=1,t)return t()}finally{wt=r,qr.transition=n,rt=e,!(rt&6)&&Yo()}}function Jw(){_r=Vl.current,Pt(Vl)}function ja(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,b4(n)),Jt!==null)for(n=Jt.return;n!==null;){var r=n;switch(Aw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hm();break;case 3:mc(),Pt(lr),Pt(Un),Bw();break;case 5:$w(r);break;case 4:mc();break;case 13:Pt(kt);break;case 19:Pt(kt);break;case 10:Lw(r.type._context);break;case 22:case 23:Jw()}n=n.return}if(fn=t,Jt=t=To(t.current,null),En=_r=e,an=0,Id=null,Yw=Pp=Ma=0,sr=Yu=null,xa!==null){for(e=0;e<xa.length;e++)if(n=xa[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}xa=null}return t}function UI(t,e){do{var n=Jt;try{if(Mw(),Df.current=_m,wm){for(var r=At.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}wm=!1}if(Oa=0,hn=on=At=null,Ku=!1,Td=0,Qw.current=null,n===null||n.return===null){an=1,Id=e,Jt=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=En,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=L1(a);if(y!==null){y.flags&=-257,V1(y,a,l,i,e),y.mode&1&&M1(i,u,e),e=y,c=u;var x=e.updateQueue;if(x===null){var g=new Set;g.add(c),e.updateQueue=g}else x.add(c);break e}else{if(!(e&1)){M1(i,u,e),e0();break e}c=Error(Q(426))}}else if(Rt&&l.mode&1){var _=L1(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),V1(_,a,l,i,e),Dw(pc(c,l));break e}}i=c=pc(c,l),an!==4&&(an=2),Yu===null?Yu=[i]:Yu.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=EI(i,c,e);j1(i,b);break e;case 1:l=c;var w=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Eo===null||!Eo.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=SI(i,l,e);j1(i,T);break e}}i=i.return}while(i!==null)}zI(n)}catch(I){e=I,Jt===n&&n!==null&&(Jt=n=n.return);continue}break}while(!0)}function $I(){var t=bm.current;return bm.current=_m,t===null?_m:t}function e0(){(an===0||an===3||an===2)&&(an=4),fn===null||!(Ma&268435455)&&!(Pp&268435455)||no(fn,En)}function Tm(t,e){var n=rt;rt|=2;var r=$I();(fn!==t||En!==e)&&(di=null,ja(t,e));do try{G4();break}catch(s){UI(t,s)}while(!0);if(Mw(),rt=n,bm.current=r,Jt!==null)throw Error(Q(261));return fn=null,En=0,an}function G4(){for(;Jt!==null;)BI(Jt)}function K4(){for(;Jt!==null&&!xL();)BI(Jt)}function BI(t){var e=HI(t.alternate,t,_r);t.memoizedProps=t.pendingProps,e===null?zI(t):Jt=e,Qw.current=null}function zI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$4(n,e),n!==null){n.flags&=32767,Jt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{an=6,Jt=null;return}}else if(n=U4(n,e,_r),n!==null){Jt=n;return}if(e=e.sibling,e!==null){Jt=e;return}Jt=e=t}while(e!==null);an===0&&(an=5)}function pa(t,e,n){var r=wt,s=qr.transition;try{qr.transition=null,wt=1,Q4(t,e,n,r)}finally{qr.transition=s,wt=r}return null}function Q4(t,e,n,r){do Hl();while(mo!==null);if(rt&6)throw Error(Q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(PL(t,i),t===fn&&(Jt=fn=null,En=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||uf||(uf=!0,qI(om,function(){return Hl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=qr.transition,qr.transition=null;var a=wt;wt=1;var l=rt;rt|=4,Qw.current=null,z4(t,n),LI(n,t),p4(Dv),lm=!!Av,Dv=Av=null,t.current=n,W4(n),wL(),rt=l,wt=a,qr.transition=i}else t.current=n;if(uf&&(uf=!1,mo=t,Sm=s),i=t.pendingLanes,i===0&&(Eo=null),EL(n.stateNode),ur(t,Wt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Em)throw Em=!1,t=ex,ex=null,t;return Sm&1&&t.tag!==0&&Hl(),i=t.pendingLanes,i&1?t===tx?Xu++:(Xu=0,tx=t):Xu=0,Yo(),null}function Hl(){if(mo!==null){var t=EC(Sm),e=qr.transition,n=wt;try{if(qr.transition=null,wt=16>t?16:t,mo===null)var r=!1;else{if(t=mo,mo=null,Sm=0,rt&6)throw Error(Q(331));var s=rt;for(rt|=4,pe=t.current;pe!==null;){var i=pe,a=i.child;if(pe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(pe=u;pe!==null;){var h=pe;switch(h.tag){case 0:case 11:case 15:Qu(8,h,i)}var f=h.child;if(f!==null)f.return=h,pe=f;else for(;pe!==null;){h=pe;var m=h.sibling,y=h.return;if(DI(h),h===u){pe=null;break}if(m!==null){m.return=y,pe=m;break}pe=y}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}pe=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,pe=a;else e:for(;pe!==null;){if(i=pe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Qu(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,pe=b;break e}pe=i.return}}var w=t.current;for(pe=w;pe!==null;){a=pe;var E=a.child;if(a.subtreeFlags&2064&&E!==null)E.return=a,pe=E;else e:for(a=w;pe!==null;){if(l=pe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ip(9,l)}}catch(I){$t(l,l.return,I)}if(l===a){pe=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,pe=T;break e}pe=l.return}}if(rt=s,Yo(),Bs&&typeof Bs.onPostCommitFiberRoot=="function")try{Bs.onPostCommitFiberRoot(wp,t)}catch{}r=!0}return r}finally{wt=n,qr.transition=e}}return!1}function X1(t,e,n){e=pc(n,e),e=EI(t,e,1),t=bo(t,e,1),e=Gn(),t!==null&&(nh(t,1,e),ur(t,e))}function $t(t,e,n){if(t.tag===3)X1(t,t,n);else for(;e!==null;){if(e.tag===3){X1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Eo===null||!Eo.has(r))){t=pc(n,t),t=SI(e,t,1),e=bo(e,t,1),t=Gn(),e!==null&&(nh(e,1,t),ur(e,t));break}}e=e.return}}function Y4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Gn(),t.pingedLanes|=t.suspendedLanes&n,fn===t&&(En&n)===n&&(an===4||an===3&&(En&130023424)===En&&500>Wt()-Xw?ja(t,0):Yw|=n),ur(t,e)}function WI(t,e){e===0&&(t.mode&1?(e=Jh,Jh<<=1,!(Jh&130023424)&&(Jh=4194304)):e=1);var n=Gn();t=Ti(t,e),t!==null&&(nh(t,e,n),ur(t,n))}function X4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),WI(t,n)}function Z4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),WI(t,n)}var HI;HI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||lr.current)ar=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ar=!1,F4(t,e,n);ar=!!(t.flags&131072)}else ar=!1,Rt&&e.flags&1048576&&QC(e,pm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Mf(t,e),t=e.pendingProps;var s=dc(e,Un.current);Wl(e,n),s=Ww(null,e,r,t,s,n);var i=Hw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cr(r)?(i=!0,fm(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fw(e),s.updater=Cp,e.stateNode=s,s._reactInternals=e,zv(e,r,t,n),e=qv(null,e,r,!0,i,n)):(e.tag=0,Rt&&i&&kw(e),Wn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Mf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=eV(r),t=ls(r,t),s){case 0:e=Hv(null,e,r,t,n);break e;case 1:e=$1(null,e,r,t,n);break e;case 11:e=F1(null,e,r,t,n);break e;case 14:e=U1(null,e,r,ls(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ls(r,s),Hv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ls(r,s),$1(t,e,r,s,n);case 3:e:{if(II(e),t===null)throw Error(Q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,tI(t,e),vm(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=pc(Error(Q(423)),e),e=B1(t,e,r,n,s);break e}else if(r!==s){s=pc(Error(Q(424)),e),e=B1(t,e,r,n,s);break e}else for(Sr=_o(e.stateNode.containerInfo.firstChild),Nr=e,Rt=!0,fs=null,n=JC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hc(),r===s){e=Ni(t,e,n);break e}Wn(t,e,r,n)}e=e.child}return e;case 5:return nI(e),t===null&&Uv(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Ov(r,s)?a=null:i!==null&&Ov(r,i)&&(e.flags|=32),CI(t,e),Wn(t,e,a,n),e.child;case 6:return t===null&&Uv(e),null;case 13:return PI(t,e,n);case 4:return Uw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fc(e,null,r,n):Wn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ls(r,s),F1(t,e,r,s,n);case 7:return Wn(t,e,e.pendingProps,n),e.child;case 8:return Wn(t,e,e.pendingProps.children,n),e.child;case 12:return Wn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Tt(gm,r._currentValue),r._currentValue=a,i!==null)if(ws(i.value,a)){if(i.children===s.children&&!lr.current){e=Ni(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=wi(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),$v(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Q(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),$v(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Wn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Wl(e,n),s=Yr(s),r=r(s),e.flags|=1,Wn(t,e,r,n),e.child;case 14:return r=e.type,s=ls(r,e.pendingProps),s=ls(r.type,s),U1(t,e,r,s,n);case 15:return TI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ls(r,s),Mf(t,e),e.tag=1,cr(r)?(t=!0,fm(e)):t=!1,Wl(e,n),bI(e,r,s),zv(e,r,s,n),qv(null,e,r,!0,t,n);case 19:return jI(t,e,n);case 22:return NI(t,e,n)}throw Error(Q(156,e.tag))};function qI(t,e){return xC(t,e)}function J4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(t,e,n,r){return new J4(t,e,n,r)}function t0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function eV(t){if(typeof t=="function")return t0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ww)return 11;if(t===_w)return 14}return 2}function To(t,e){var n=t.alternate;return n===null?(n=Hr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ff(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")t0(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Il:return Ra(n.children,s,i,e);case xw:a=8,s|=8;break;case fv:return t=Hr(12,n,e,s|2),t.elementType=fv,t.lanes=i,t;case mv:return t=Hr(13,n,e,s),t.elementType=mv,t.lanes=i,t;case pv:return t=Hr(19,n,e,s),t.elementType=pv,t.lanes=i,t;case nC:return jp(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eC:a=10;break e;case tC:a=9;break e;case ww:a=11;break e;case _w:a=14;break e;case Zi:a=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Hr(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ra(t,e,n,r){return t=Hr(7,t,r,e),t.lanes=n,t}function jp(t,e,n,r){return t=Hr(22,t,r,e),t.elementType=nC,t.lanes=n,t.stateNode={isHidden:!1},t}function Cy(t,e,n){return t=Hr(6,t,null,e),t.lanes=n,t}function Iy(t,e,n){return e=Hr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tV(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ly(0),this.expirationTimes=ly(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ly(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function n0(t,e,n,r,s,i,a,l,c){return t=new tV(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Hr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fw(i),t}function nV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function GI(t){if(!t)return Oo;t=t._reactInternals;e:{if(Za(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(cr(n))return GC(t,n,e)}return e}function KI(t,e,n,r,s,i,a,l,c){return t=n0(n,r,!0,t,s,i,a,l,c),t.context=GI(null),n=t.current,r=Gn(),s=So(n),i=wi(r,s),i.callback=e??null,bo(n,i,s),t.current.lanes=s,nh(t,s,r),ur(t,r),t}function Rp(t,e,n,r){var s=e.current,i=Gn(),a=So(s);return n=GI(n),e.context===null?e.context=n:e.pendingContext=n,e=wi(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bo(s,e,a),t!==null&&(xs(t,s,a,i),Af(t,s,a)),a}function Nm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Z1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function r0(t,e){Z1(t,e),(t=t.alternate)&&Z1(t,e)}function rV(){return null}var QI=typeof reportError=="function"?reportError:function(t){console.error(t)};function s0(t){this._internalRoot=t}kp.prototype.render=s0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));Rp(t,e,null,null)};kp.prototype.unmount=s0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;La(function(){Rp(null,t,null,null)}),e[Si]=null}};function kp(t){this._internalRoot=t}kp.prototype.unstable_scheduleHydration=function(t){if(t){var e=NC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<to.length&&e!==0&&e<to[n].priority;n++);to.splice(n,0,t),n===0&&IC(t)}};function i0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ap(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function J1(){}function sV(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Nm(a);i.call(u)}}var a=KI(e,r,t,0,null,!1,!1,"",J1);return t._reactRootContainer=a,t[Si]=a.current,wd(t.nodeType===8?t.parentNode:t),La(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Nm(c);l.call(u)}}var c=n0(t,0,!1,null,null,!1,!1,"",J1);return t._reactRootContainer=c,t[Si]=c.current,wd(t.nodeType===8?t.parentNode:t),La(function(){Rp(e,c,n,r)}),c}function Dp(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Nm(a);l.call(c)}}Rp(e,a,t,s)}else a=sV(n,e,t,s,r);return Nm(a)}SC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ru(e.pendingLanes);n!==0&&(Sw(e,n|1),ur(e,Wt()),!(rt&6)&&(gc=Wt()+500,Yo()))}break;case 13:La(function(){var r=Ti(t,1);if(r!==null){var s=Gn();xs(r,t,1,s)}}),r0(t,1)}};Tw=function(t){if(t.tag===13){var e=Ti(t,134217728);if(e!==null){var n=Gn();xs(e,t,134217728,n)}r0(t,134217728)}};TC=function(t){if(t.tag===13){var e=So(t),n=Ti(t,e);if(n!==null){var r=Gn();xs(n,t,e,r)}r0(t,e)}};NC=function(){return wt};CC=function(t,e){var n=wt;try{return wt=t,e()}finally{wt=n}};Tv=function(t,e,n){switch(e){case"input":if(vv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Sp(r);if(!s)throw Error(Q(90));sC(r),vv(r,s)}}}break;case"textarea":oC(t,n);break;case"select":e=n.value,e!=null&&Ul(t,!!n.multiple,e,!1)}};fC=Zw;mC=La;var iV={usingClientEntryPoint:!1,Events:[sh,kl,Sp,dC,hC,Zw]},_u={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oV={bundleType:_u.bundleType,version:_u.version,rendererPackageName:_u.rendererPackageName,rendererConfig:_u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yC(t),t===null?null:t.stateNode},findFiberByHostInstance:_u.findFiberByHostInstance||rV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{wp=df.inject(oV),Bs=df}catch{}}kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iV;kr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!i0(e))throw Error(Q(200));return nV(t,e,null,n)};kr.createRoot=function(t,e){if(!i0(t))throw Error(Q(299));var n=!1,r="",s=QI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=n0(t,1,!1,null,null,n,!1,r,s),t[Si]=e.current,wd(t.nodeType===8?t.parentNode:t),new s0(e)};kr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=yC(e),t=t===null?null:t.stateNode,t};kr.flushSync=function(t){return La(t)};kr.hydrate=function(t,e,n){if(!Ap(e))throw Error(Q(200));return Dp(null,t,e,!0,n)};kr.hydrateRoot=function(t,e,n){if(!i0(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=QI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=KI(e,null,t,1,n??null,s,!1,i,a),t[Si]=e.current,wd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new kp(e)};kr.render=function(t,e,n){if(!Ap(e))throw Error(Q(200));return Dp(null,t,e,!1,n)};kr.unmountComponentAtNode=function(t){if(!Ap(t))throw Error(Q(40));return t._reactRootContainer?(La(function(){Dp(null,null,t,!1,function(){t._reactRootContainer=null,t[Si]=null})}),!0):!1};kr.unstable_batchedUpdates=Zw;kr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ap(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return Dp(t,e,n,!1,r)};kr.version="18.3.1-next-f1338f8080-20240426";function YI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YI)}catch(t){console.error(t)}}YI(),YN.exports=kr;var Ja=YN.exports;const XI=VN(Ja);var ZI,eE=Ja;ZI=eE.createRoot,eE.hydrateRoot;const aV=1,lV=1e6;let Py=0;function cV(){return Py=(Py+1)%Number.MAX_SAFE_INTEGER,Py.toString()}const jy=new Map,tE=t=>{if(jy.has(t))return;const e=setTimeout(()=>{jy.delete(t),Zu({type:"REMOVE_TOAST",toastId:t})},lV);jy.set(t,e)},uV=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,aV)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?tE(n):t.toasts.forEach(r=>{tE(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Uf=[];let $f={toasts:[]};function Zu(t){$f=uV($f,t),Uf.forEach(e=>{e($f)})}function dV({...t}){const e=cV(),n=s=>Zu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Zu({type:"DISMISS_TOAST",toastId:e});return Zu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function cn(){const[t,e]=p.useState($f);return p.useEffect(()=>(Uf.push(e),()=>{const n=Uf.indexOf(e);n>-1&&Uf.splice(n,1)}),[t]),{...t,toast:dV,dismiss:n=>Zu({type:"DISMISS_TOAST",toastId:n})}}function ae(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function nE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Op(...t){return e=>{let n=!1;const r=t.map(s=>{const i=nE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():nE(t[s],null)}}}}function Xe(...t){return p.useCallback(Op(...t),t)}function hV(t,e){const n=p.createContext(e),r=i=>{const{children:a,...l}=i,c=p.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function s(i){const a=p.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Dr(t,e=[]){let n=[];function r(i,a){const l=p.createContext(a),c=n.length;n=[...n,a];const u=f=>{var b;const{scope:m,children:y,...x}=f,g=((b=m==null?void 0:m[t])==null?void 0:b[c])||l,_=p.useMemo(()=>x,Object.values(x));return o.jsx(g.Provider,{value:_,children:y})};u.displayName=i+"Provider";function h(f,m){var g;const y=((g=m==null?void 0:m[t])==null?void 0:g[c])||l,x=p.useContext(y);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,fV(s,...e)]}function fV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function Va(t){const e=mV(t),n=p.forwardRef((r,s)=>{const{children:i,...a}=r,l=p.Children.toArray(i),c=l.find(gV);if(c){const u=c.props.children,h=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(e,{...a,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,h):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var JI=Va("Slot");function mV(t){const e=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const a=vV(s),l=yV(i,s.props);return s.type!==p.Fragment&&(l.ref=r?Op(r,a):a),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var eP=Symbol("radix.slottable");function pV(t){const e=({children:n})=>o.jsx(o.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=eP,e}function gV(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===eP}function yV(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function vV(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Mp(t){const e=t+"CollectionProvider",[n,r]=Dr(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:_,children:b}=g,w=W.useRef(null),E=W.useRef(new Map).current;return o.jsx(s,{scope:_,itemMap:E,collectionRef:w,children:b})};a.displayName=e;const l=t+"CollectionSlot",c=Va(l),u=W.forwardRef((g,_)=>{const{scope:b,children:w}=g,E=i(l,b),T=Xe(_,E.collectionRef);return o.jsx(c,{ref:T,children:w})});u.displayName=l;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=Va(h),y=W.forwardRef((g,_)=>{const{scope:b,children:w,...E}=g,T=W.useRef(null),I=Xe(_,T),O=i(h,b);return W.useEffect(()=>(O.itemMap.set(T,{ref:T,...E}),()=>void O.itemMap.delete(T))),o.jsx(m,{[f]:"",ref:I,children:w})});y.displayName=h;function x(g){const _=i(t+"CollectionConsumer",g);return W.useCallback(()=>{const w=_.collectionRef.current;if(!w)return[];const E=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((O,C)=>E.indexOf(O.ref.current)-E.indexOf(C.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:a,Slot:u,ItemSlot:y},x,r]}var xV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Se=xV.reduce((t,e)=>{const n=Va(`Primitive.${e}`),r=p.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function o0(t,e){t&&Ja.flushSync(()=>t.dispatchEvent(e))}function gr(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function wV(t,e=globalThis==null?void 0:globalThis.document){const n=gr(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var _V="DismissableLayer",sx="dismissableLayer.update",bV="dismissableLayer.pointerDownOutside",EV="dismissableLayer.focusOutside",rE,tP=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mc=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=t,u=p.useContext(tP),[h,f]=p.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=p.useState({}),x=Xe(e,C=>f(C)),g=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(_),w=h?g.indexOf(h):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,T=w>=b,I=TV(C=>{const N=C.target,P=[...u.branches].some(R=>R.contains(N));!T||P||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},m),O=NV(C=>{const N=C.target;[...u.branches].some(R=>R.contains(N))||(i==null||i(C),a==null||a(C),C.defaultPrevented||l==null||l())},m);return wV(C=>{w===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),p.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(rE=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),sE(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=rE)}},[h,m,n,u]),p.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),sE())},[h,u]),p.useEffect(()=>{const C=()=>y({});return document.addEventListener(sx,C),()=>document.removeEventListener(sx,C)},[]),o.jsx(Se.div,{...c,ref:x,style:{pointerEvents:E?T?"auto":"none":void 0,...t.style},onFocusCapture:ae(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ae(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ae(t.onPointerDownCapture,I.onPointerDownCapture)})});Mc.displayName=_V;var SV="DismissableLayerBranch",nP=p.forwardRef((t,e)=>{const n=p.useContext(tP),r=p.useRef(null),s=Xe(e,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(Se.div,{...t,ref:s})});nP.displayName=SV;function TV(t,e=globalThis==null?void 0:globalThis.document){const n=gr(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){rP(bV,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function NV(t,e=globalThis==null?void 0:globalThis.document){const n=gr(t),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&rP(EV,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function sE(){const t=new CustomEvent(sx);document.dispatchEvent(t)}function rP(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?o0(s,i):s.dispatchEvent(i)}var CV=Mc,IV=nP,Cn=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},PV="Portal",oh=p.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=p.useState(!1);Cn(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?XI.createPortal(o.jsx(Se.div,{...r,ref:e}),a):null});oh.displayName=PV;function jV(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var Jr=t=>{const{present:e,children:n}=t,r=RV(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=Xe(r.ref,kV(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};Jr.displayName="Presence";function RV(t){const[e,n]=p.useState(),r=p.useRef(null),s=p.useRef(t),i=p.useRef("none"),a=t?"mounted":"unmounted",[l,c]=jV(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=hf(r.current);i.current=l==="mounted"?u:"none"},[l]),Cn(()=>{const u=r.current,h=s.current;if(h!==t){const m=i.current,y=hf(u);t?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Cn(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=y=>{const g=hf(r.current).includes(y.animationName);if(y.target===e&&g&&(c("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},m=y=>{y.target===e&&(i.current=hf(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function hf(t){return(t==null?void 0:t.animationName)||"none"}function kV(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var AV=pw[" useInsertionEffect ".trim().toString()]||Cn;function Mo({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=DV({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const h=p.useRef(t!==void 0);p.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=p.useCallback(h=>{var f;if(l){const m=OV(h)?h(t):h;m!==t&&((f=a.current)==null||f.call(a,m))}else i(h)},[l,t,i,a]);return[c,u]}function DV({defaultProp:t,onChange:e}){const[n,r]=p.useState(t),s=p.useRef(n),i=p.useRef(e);return AV(()=>{i.current=e},[e]),p.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function OV(t){return typeof t=="function"}var sP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),MV="VisuallyHidden",Lp=p.forwardRef((t,e)=>o.jsx(Se.span,{...t,ref:e,style:{...sP,...t.style}}));Lp.displayName=MV;var LV=Lp,a0="ToastProvider",[l0,VV,FV]=Mp("Toast"),[iP,yee]=Dr("Toast",[FV]),[UV,Vp]=iP(a0),oP=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=t,[l,c]=p.useState(null),[u,h]=p.useState(0),f=p.useRef(!1),m=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${a0}\`. Expected non-empty \`string\`.`),o.jsx(l0.Provider,{scope:e,children:o.jsx(UV,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>h(y=>y+1),[]),onToastRemove:p.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:a})})};oP.displayName=a0;var aP="ToastViewport",$V=["F8"],ix="toast.viewportPause",ox="toast.viewportResume",lP=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=$V,label:s="Notifications ({hotkey})",...i}=t,a=Vp(aP,n),l=VV(n),c=p.useRef(null),u=p.useRef(null),h=p.useRef(null),f=p.useRef(null),m=Xe(e,f,a.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=a.toastCount>0;p.useEffect(()=>{const _=b=>{var E;r.length!==0&&r.every(T=>b[T]||b.code===T)&&((E=f.current)==null||E.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),p.useEffect(()=>{const _=c.current,b=f.current;if(x&&_&&b){const w=()=>{if(!a.isClosePausedRef.current){const O=new CustomEvent(ix);b.dispatchEvent(O),a.isClosePausedRef.current=!0}},E=()=>{if(a.isClosePausedRef.current){const O=new CustomEvent(ox);b.dispatchEvent(O),a.isClosePausedRef.current=!1}},T=O=>{!_.contains(O.relatedTarget)&&E()},I=()=>{_.contains(document.activeElement)||E()};return _.addEventListener("focusin",w),_.addEventListener("focusout",T),_.addEventListener("pointermove",w),_.addEventListener("pointerleave",I),window.addEventListener("blur",w),window.addEventListener("focus",E),()=>{_.removeEventListener("focusin",w),_.removeEventListener("focusout",T),_.removeEventListener("pointermove",w),_.removeEventListener("pointerleave",I),window.removeEventListener("blur",w),window.removeEventListener("focus",E)}}},[x,a.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:_})=>{const w=l().map(E=>{const T=E.ref.current,I=[T,...eF(T)];return _==="forwards"?I:I.reverse()});return(_==="forwards"?w.reverse():w).flat()},[l]);return p.useEffect(()=>{const _=f.current;if(_){const b=w=>{var I,O,C;const E=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!E){const N=document.activeElement,P=w.shiftKey;if(w.target===_&&P){(I=u.current)==null||I.focus();return}const D=g({tabbingDirection:P?"backwards":"forwards"}),j=D.findIndex(B=>B===N);Ry(D.slice(j+1))?w.preventDefault():P?(O=u.current)==null||O.focus():(C=h.current)==null||C.focus()}};return _.addEventListener("keydown",b),()=>_.removeEventListener("keydown",b)}},[l,g]),o.jsxs(IV,{ref:c,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&o.jsx(ax,{ref:u,onFocusFromOutsideViewport:()=>{const _=g({tabbingDirection:"forwards"});Ry(_)}}),o.jsx(l0.Slot,{scope:n,children:o.jsx(Se.ol,{tabIndex:-1,...i,ref:m})}),x&&o.jsx(ax,{ref:h,onFocusFromOutsideViewport:()=>{const _=g({tabbingDirection:"backwards"});Ry(_)}})]})});lP.displayName=aP;var cP="ToastFocusProxy",ax=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Vp(cP,n);return o.jsx(Lp,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});ax.displayName=cP;var ah="Toast",BV="toast.swipeStart",zV="toast.swipeMove",WV="toast.swipeCancel",HV="toast.swipeEnd",uP=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=t,[l,c]=Mo({prop:r,defaultProp:s??!0,onChange:i,caller:ah});return o.jsx(Jr,{present:n||l,children:o.jsx(KV,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:gr(t.onPause),onResume:gr(t.onResume),onSwipeStart:ae(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ae(t.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ae(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ae(t.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});uP.displayName=ah;var[qV,GV]=iP(ah,{onClose(){}}),KV=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:y,...x}=t,g=Vp(ah,n),[_,b]=p.useState(null),w=Xe(e,B=>b(B)),E=p.useRef(null),T=p.useRef(null),I=s||g.duration,O=p.useRef(0),C=p.useRef(I),N=p.useRef(0),{onToastAdd:P,onToastRemove:R}=g,A=gr(()=>{var re;(_==null?void 0:_.contains(document.activeElement))&&((re=g.viewport)==null||re.focus()),a()}),D=p.useCallback(B=>{!B||B===1/0||(window.clearTimeout(N.current),O.current=new Date().getTime(),N.current=window.setTimeout(A,B))},[A]);p.useEffect(()=>{const B=g.viewport;if(B){const re=()=>{D(C.current),u==null||u()},Y=()=>{const le=new Date().getTime()-O.current;C.current=C.current-le,window.clearTimeout(N.current),c==null||c()};return B.addEventListener(ix,Y),B.addEventListener(ox,re),()=>{B.removeEventListener(ix,Y),B.removeEventListener(ox,re)}}},[g.viewport,I,c,u,D]),p.useEffect(()=>{i&&!g.isClosePausedRef.current&&D(I)},[i,I,g.isClosePausedRef,D]),p.useEffect(()=>(P(),()=>R()),[P,R]);const j=p.useMemo(()=>_?yP(_):null,[_]);return g.viewport?o.jsxs(o.Fragment,{children:[j&&o.jsx(QV,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:j}),o.jsx(qV,{scope:n,onClose:A,children:Ja.createPortal(o.jsx(l0.ItemSlot,{scope:n,children:o.jsx(CV,{asChild:!0,onEscapeKeyDown:ae(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||A(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Se.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ae(t.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:ae(t.onPointerDown,B=>{B.button===0&&(E.current={x:B.clientX,y:B.clientY})}),onPointerMove:ae(t.onPointerMove,B=>{if(!E.current)return;const re=B.clientX-E.current.x,Y=B.clientY-E.current.y,le=!!T.current,V=["left","right"].includes(g.swipeDirection),L=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,G=V?L(0,re):0,ue=V?0:L(0,Y),oe=B.pointerType==="touch"?10:2,ge={x:G,y:ue},Te={originalEvent:B,delta:ge};le?(T.current=ge,ff(zV,f,Te,{discrete:!1})):iE(ge,g.swipeDirection,oe)?(T.current=ge,ff(BV,h,Te,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(re)>oe||Math.abs(Y)>oe)&&(E.current=null)}),onPointerUp:ae(t.onPointerUp,B=>{const re=T.current,Y=B.target;if(Y.hasPointerCapture(B.pointerId)&&Y.releasePointerCapture(B.pointerId),T.current=null,E.current=null,re){const le=B.currentTarget,V={originalEvent:B,delta:re};iE(re,g.swipeDirection,g.swipeThreshold)?ff(HV,y,V,{discrete:!0}):ff(WV,m,V,{discrete:!0}),le.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),QV=t=>{const{__scopeToast:e,children:n,...r}=t,s=Vp(ah,e),[i,a]=p.useState(!1),[l,c]=p.useState(!1);return ZV(()=>a(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(oh,{asChild:!0,children:o.jsx(Lp,{...r,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",n]})})})},YV="ToastTitle",dP=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(Se.div,{...r,ref:e})});dP.displayName=YV;var XV="ToastDescription",hP=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(Se.div,{...r,ref:e})});hP.displayName=XV;var fP="ToastAction",mP=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?o.jsx(gP,{altText:n,asChild:!0,children:o.jsx(c0,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${fP}\`. Expected non-empty \`string\`.`),null)});mP.displayName=fP;var pP="ToastClose",c0=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=GV(pP,n);return o.jsx(gP,{asChild:!0,children:o.jsx(Se.button,{type:"button",...r,ref:e,onClick:ae(t.onClick,s.onClose)})})});c0.displayName=pP;var gP=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return o.jsx(Se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function yP(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),JV(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...yP(r))}}),e}function ff(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?o0(s,i):s.dispatchEvent(i)}var iE=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function ZV(t=()=>{}){const e=gr(t);Cn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function JV(t){return t.nodeType===t.ELEMENT_NODE}function eF(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ry(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var tF=oP,vP=lP,xP=uP,wP=dP,_P=hP,bP=mP,EP=c0;function SP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=SP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function TP(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=SP(t))&&(r&&(r+=" "),r+=e);return r}const oE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,aE=TP,lh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return aE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=i==null?void 0:i[u];if(h===null)return null;const m=oE(h)||oE(f);return s[u][m]}),l=n&&Object.entries(n).reduce((u,h)=>{let[f,m]=h;return m===void 0||(u[f]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:m,...y}=h;return Object.entries(y).every(x=>{let[g,_]=x;return Array.isArray(_)?_.includes({...i,...l}[g]):{...i,...l}[g]===_})?[...u,f,m]:u},[]);return aE(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>p.createElement("svg",{ref:c,...rF,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:NP("lucide",s),...l},[...a.map(([u,h])=>p.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(t,e)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(sF,{ref:i,iconNode:e,className:NP(`lucide-${nF(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=Ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=Ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=Ce("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=Ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=Ce("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=Ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=Ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=Ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=Ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=Ce("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=Ce("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=Ce("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=Ce("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=Ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=Ce("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=Ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=Ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=Ce("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=Ce("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=Ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=Ce("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=Ce("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=Ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=Ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=Ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=Ce("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=Ce("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=Ce("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=Ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=Ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=Ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=Ce("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=Ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=Ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=Ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=Ce("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=Ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=Ce("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=Ce("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=Ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=Ce("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=Ce("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=Ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=Ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=Ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),h0="-",gF=t=>{const e=vF(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(h0);return l[0]===""&&l.length!==1&&l.shift(),LP(l,e)||yF(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},LP=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?LP(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(h0);return(a=e.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},dE=/^\[(.+)\]$/,yF=t=>{if(dE.test(t)){const e=dE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},vF=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return wF(Object.entries(t.classGroups),n).forEach(([i,a])=>{ux(a,r,i,e)}),r},ux=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:hE(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(xF(s)){ux(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{ux(a,hE(e,i),n,r)})})},hE=(t,e)=>{let n=t;return e.split(h0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},xF=t=>t.isThemeGetter,wF=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[n,s]}):t,_F=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},VP="!",bF=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=l=>{const c=[];let u=0,h=0,f;for(let _=0;_<l.length;_++){let b=l[_];if(u===0){if(b===s&&(r||l.slice(_,_+i)===e)){c.push(l.slice(h,_)),h=_+i;continue}if(b==="/"){f=_;continue}}b==="["?u++:b==="]"&&u--}const m=c.length===0?l:l.substring(h),y=m.startsWith(VP),x=y?m.substring(1):m,g=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:a}):a},EF=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},SF=t=>({cache:_F(t.cacheSize),parseClassName:bF(t),...gF(t)}),TF=/\s+/,NF=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(TF);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:y}=n(u);let x=!!y,g=r(x?m.substring(0,y):m);if(!g){if(!x){l=u+(l.length>0?" "+l:l);continue}if(g=r(m),!g){l=u+(l.length>0?" "+l:l);continue}x=!1}const _=EF(h).join(":"),b=f?_+VP:_,w=b+g;if(i.includes(w))continue;i.push(w);const E=s(g,x);for(let T=0;T<E.length;++T){const I=E[T];i.push(b+I)}l=u+(l.length>0?" "+l:l)}return l};function CF(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=FP(e))&&(r&&(r+=" "),r+=n);return r}const FP=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=FP(t[r]))&&(n&&(n+=" "),n+=e);return n};function IF(t,...e){let n,r,s,i=a;function a(c){const u=e.reduce((h,f)=>f(h),t());return n=SF(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const h=NF(c,n);return s(c,h),h}return function(){return i(CF.apply(null,arguments))}}const Ct=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},UP=/^\[(?:([a-z-]+):)?(.+)\]$/i,PF=/^\d+\/\d+$/,jF=new Set(["px","full","screen"]),RF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,DF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,OF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,li=t=>ql(t)||jF.has(t)||PF.test(t),qi=t=>Uc(t,"length",zF),ql=t=>!!t&&!Number.isNaN(Number(t)),ky=t=>Uc(t,"number",ql),bu=t=>!!t&&Number.isInteger(Number(t)),MF=t=>t.endsWith("%")&&ql(t.slice(0,-1)),Me=t=>UP.test(t),Gi=t=>RF.test(t),LF=new Set(["length","size","percentage"]),VF=t=>Uc(t,LF,$P),FF=t=>Uc(t,"position",$P),UF=new Set(["image","url"]),$F=t=>Uc(t,UF,HF),BF=t=>Uc(t,"",WF),Eu=()=>!0,Uc=(t,e,n)=>{const r=UP.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},zF=t=>kF.test(t)&&!AF.test(t),$P=()=>!1,WF=t=>DF.test(t),HF=t=>OF.test(t),qF=()=>{const t=Ct("colors"),e=Ct("spacing"),n=Ct("blur"),r=Ct("brightness"),s=Ct("borderColor"),i=Ct("borderRadius"),a=Ct("borderSpacing"),l=Ct("borderWidth"),c=Ct("contrast"),u=Ct("grayscale"),h=Ct("hueRotate"),f=Ct("invert"),m=Ct("gap"),y=Ct("gradientColorStops"),x=Ct("gradientColorStopPositions"),g=Ct("inset"),_=Ct("margin"),b=Ct("opacity"),w=Ct("padding"),E=Ct("saturate"),T=Ct("scale"),I=Ct("sepia"),O=Ct("skew"),C=Ct("space"),N=Ct("translate"),P=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Me,e],D=()=>[Me,e],j=()=>["",li,qi],B=()=>["auto",ql,Me],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",Me],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ue=()=>[ql,Me];return{cacheSize:500,separator:":",theme:{colors:[Eu],spacing:[li,qi],blur:["none","",Gi,Me],brightness:ue(),borderColor:[t],borderRadius:["none","","full",Gi,Me],borderSpacing:D(),borderWidth:j(),contrast:ue(),grayscale:L(),hueRotate:ue(),invert:L(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[MF,qi],inset:A(),margin:A(),opacity:ue(),padding:D(),saturate:ue(),scale:ue(),sepia:L(),skew:ue(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Me]}],container:["container"],columns:[{columns:[Gi]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),Me]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bu,Me]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Me]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",bu,Me]}],"grid-cols":[{"grid-cols":[Eu]}],"col-start-end":[{col:["auto",{span:["full",bu,Me]},Me]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Eu]}],"row-start-end":[{row:["auto",{span:[bu,Me]},Me]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Me]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Me,e]}],"min-w":[{"min-w":[Me,e,"min","max","fit"]}],"max-w":[{"max-w":[Me,e,"none","full","min","max","fit","prose",{screen:[Gi]},Gi]}],h:[{h:[Me,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Me,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Me,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Me,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Gi,qi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ky]}],"font-family":[{font:[Eu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Me]}],"line-clamp":[{"line-clamp":["none",ql,ky]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",li,Me]}],"list-image":[{"list-image":["none",Me]}],"list-style-type":[{list:["none","disc","decimal",Me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",li,qi]}],"underline-offset":[{"underline-offset":["auto",li,Me]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),FF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",VF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$F]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:Y()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[li,Me]}],"outline-w":[{outline:[li,qi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[li,qi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Gi,BF]}],"shadow-color":[{shadow:[Eu]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Gi,Me]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Me]}],duration:[{duration:ue()}],ease:[{ease:["linear","in","out","in-out",Me]}],delay:[{delay:ue()}],animate:[{animate:["none","spin","ping","pulse","bounce",Me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[bu,Me]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Me]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[li,qi,ky]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},GF=IF(qF);function we(...t){return GF(TP(t))}const KF=tF,BP=p.forwardRef(({className:t,...e},n)=>o.jsx(vP,{ref:n,className:we("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));BP.displayName=vP.displayName;const QF=lh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),zP=p.forwardRef(({className:t,variant:e,...n},r)=>o.jsx(xP,{ref:r,className:we(QF({variant:e}),t),...n}));zP.displayName=xP.displayName;const YF=p.forwardRef(({className:t,...e},n)=>o.jsx(bP,{ref:n,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));YF.displayName=bP.displayName;const WP=p.forwardRef(({className:t,...e},n)=>o.jsx(EP,{ref:n,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(MP,{className:"h-4 w-4"})}));WP.displayName=EP.displayName;const HP=p.forwardRef(({className:t,...e},n)=>o.jsx(wP,{ref:n,className:we("text-sm font-semibold",t),...e}));HP.displayName=wP.displayName;const qP=p.forwardRef(({className:t,...e},n)=>o.jsx(_P,{ref:n,className:we("text-sm opacity-90",t),...e}));qP.displayName=_P.displayName;function XF(){const{toasts:t}=cn();return o.jsxs(KF,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return o.jsxs(zP,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(HP,{children:n}),r&&o.jsx(qP,{children:r})]}),s,o.jsx(WP,{})]},e)}),o.jsx(BP,{})]})}var fE=["light","dark"],ZF="(prefers-color-scheme: dark)",JF=p.createContext(void 0),e3={setTheme:t=>{},themes:[]},t3=()=>{var t;return(t=p.useContext(JF))!=null?t:e3};p.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:l,nonce:c})=>{let u=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?fE.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(x,g=!1,_=!0)=>{let b=a?a[x]:x,w=g?x+"|| ''":`'${b}'`,E="";return s&&_&&!g&&fE.includes(x)&&(E+=`d.style.colorScheme = '${x}';`),n==="class"?g||b?E+=`c.add(${w})`:E+="null":b&&(E+=`d[s](n,${w})`),E},y=t?`!function(){${h}${m(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${ZF}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:y}})});var n3=t=>{switch(t){case"success":return i3;case"info":return a3;case"warning":return o3;case"error":return l3;default:return null}},r3=Array(12).fill(0),s3=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},r3.map((n,r)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),i3=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),o3=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),a3=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),l3=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),c3=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),u3=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},dx=1,d3=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:dx++,a=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,a,l=s.then(async u=>{if(a=["resolve",u],W.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(f3(u)&&!u.ok){i=!1;let h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:h,description:f})}else if(n.success!==void 0){i=!1;let h=typeof n.success=="function"?await n.success(u):n.success,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:h,description:f})}}).catch(async u=>{if(a=["reject",u],n.error!==void 0){i=!1;let h=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:h,description:f})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,h)=>l.then(()=>a[0]==="reject"?h(a[1]):u(a[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||dx++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},nr=new d3,h3=(t,e)=>{let n=(e==null?void 0:e.id)||dx++;return nr.addToast({title:t,...e,id:n}),n},f3=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",m3=h3,p3=()=>nr.toasts,g3=()=>nr.getActiveToasts();Object.assign(m3,{success:nr.success,info:nr.info,warning:nr.warning,error:nr.error,custom:nr.custom,message:nr.message,promise:nr.promise,dismiss:nr.dismiss,loading:nr.loading},{getHistory:p3,getToasts:g3});function y3(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}y3(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function mf(t){return t.label!==void 0}var v3=3,x3="32px",w3="16px",mE=4e3,_3=356,b3=14,E3=20,S3=200;function os(...t){return t.filter(Boolean).join(" ")}function T3(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var N3=t=>{var e,n,r,s,i,a,l,c,u,h,f;let{invert:m,toast:y,unstyled:x,interacting:g,setHeights:_,visibleToasts:b,heights:w,index:E,toasts:T,expanded:I,removeToast:O,defaultRichColors:C,closeButton:N,style:P,cancelButtonStyle:R,actionButtonStyle:A,className:D="",descriptionClassName:j="",duration:B,position:re,gap:Y,loadingIcon:le,expandByDefault:V,classNames:L,icons:G,closeButtonAriaLabel:ue="Close toast",pauseWhenPageIsHidden:oe}=t,[ge,Te]=W.useState(null),[We,it]=W.useState(null),[X,He]=W.useState(!1),[Be,Ae]=W.useState(!1),[Oe,$e]=W.useState(!1),[Lt,rn]=W.useState(!1),[Zn,vr]=W.useState(!1),[ns,Fi]=W.useState(0),[Lr,M]=W.useState(0),U=W.useRef(y.duration||B||mE),z=W.useRef(null),se=W.useRef(null),ne=E===0,Z=E+1<=b,te=y.type,Ee=y.dismissible!==!1,tt=y.className||"",gn=y.descriptionClassName||"",Vr=W.useMemo(()=>w.findIndex(Ie=>Ie.toastId===y.id)||0,[w,y.id]),Fr=W.useMemo(()=>{var Ie;return(Ie=y.closeButton)!=null?Ie:N},[y.closeButton,N]),Ps=W.useMemo(()=>y.duration||B||mE,[y.duration,B]),js=W.useRef(0),xr=W.useRef(0),Ui=W.useRef(0),rs=W.useRef(null),[ru,$i]=re.split("-"),su=W.useMemo(()=>w.reduce((Ie,nt,bt)=>bt>=Vr?Ie:Ie+nt.height,0),[w,Vr]),iu=u3(),ca=y.invert||m,ua=te==="loading";xr.current=W.useMemo(()=>Vr*Y+su,[Vr,su]),W.useEffect(()=>{U.current=Ps},[Ps]),W.useEffect(()=>{He(!0)},[]),W.useEffect(()=>{let Ie=se.current;if(Ie){let nt=Ie.getBoundingClientRect().height;return M(nt),_(bt=>[{toastId:y.id,height:nt,position:y.position},...bt]),()=>_(bt=>bt.filter(yn=>yn.toastId!==y.id))}},[_,y.id]),W.useLayoutEffect(()=>{if(!X)return;let Ie=se.current,nt=Ie.style.height;Ie.style.height="auto";let bt=Ie.getBoundingClientRect().height;Ie.style.height=nt,M(bt),_(yn=>yn.find(Jn=>Jn.toastId===y.id)?yn.map(Jn=>Jn.toastId===y.id?{...Jn,height:bt}:Jn):[{toastId:y.id,height:bt,position:y.position},...yn])},[X,y.title,y.description,_,y.id]);let Ur=W.useCallback(()=>{Ae(!0),Fi(xr.current),_(Ie=>Ie.filter(nt=>nt.toastId!==y.id)),setTimeout(()=>{O(y)},S3)},[y,O,_,xr]);W.useEffect(()=>{if(y.promise&&te==="loading"||y.duration===1/0||y.type==="loading")return;let Ie;return I||g||oe&&iu?(()=>{if(Ui.current<js.current){let nt=new Date().getTime()-js.current;U.current=U.current-nt}Ui.current=new Date().getTime()})():U.current!==1/0&&(js.current=new Date().getTime(),Ie=setTimeout(()=>{var nt;(nt=y.onAutoClose)==null||nt.call(y,y),Ur()},U.current)),()=>clearTimeout(Ie)},[I,g,y,te,oe,iu,Ur]),W.useEffect(()=>{y.delete&&Ur()},[Ur,y.delete]);function ii(){var Ie,nt,bt;return G!=null&&G.loading?W.createElement("div",{className:os(L==null?void 0:L.loader,(Ie=y==null?void 0:y.classNames)==null?void 0:Ie.loader,"sonner-loader"),"data-visible":te==="loading"},G.loading):le?W.createElement("div",{className:os(L==null?void 0:L.loader,(nt=y==null?void 0:y.classNames)==null?void 0:nt.loader,"sonner-loader"),"data-visible":te==="loading"},le):W.createElement(s3,{className:os(L==null?void 0:L.loader,(bt=y==null?void 0:y.classNames)==null?void 0:bt.loader),visible:te==="loading"})}return W.createElement("li",{tabIndex:0,ref:se,className:os(D,tt,L==null?void 0:L.toast,(e=y==null?void 0:y.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[te],(n=y==null?void 0:y.classNames)==null?void 0:n[te]),"data-sonner-toast":"","data-rich-colors":(r=y.richColors)!=null?r:C,"data-styled":!(y.jsx||y.unstyled||x),"data-mounted":X,"data-promise":!!y.promise,"data-swiped":Zn,"data-removed":Be,"data-visible":Z,"data-y-position":ru,"data-x-position":$i,"data-index":E,"data-front":ne,"data-swiping":Oe,"data-dismissible":Ee,"data-type":te,"data-invert":ca,"data-swipe-out":Lt,"data-swipe-direction":We,"data-expanded":!!(I||V&&X),style:{"--index":E,"--toasts-before":E,"--z-index":T.length-E,"--offset":`${Be?ns:xr.current}px`,"--initial-height":V?"auto":`${Lr}px`,...P,...y.style},onDragEnd:()=>{$e(!1),Te(null),rs.current=null},onPointerDown:Ie=>{ua||!Ee||(z.current=new Date,Fi(xr.current),Ie.target.setPointerCapture(Ie.pointerId),Ie.target.tagName!=="BUTTON"&&($e(!0),rs.current={x:Ie.clientX,y:Ie.clientY}))},onPointerUp:()=>{var Ie,nt,bt,yn;if(Lt||!Ee)return;rs.current=null;let Jn=Number(((Ie=se.current)==null?void 0:Ie.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),jt=Number(((nt=se.current)==null?void 0:nt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Rs=new Date().getTime()-((bt=z.current)==null?void 0:bt.getTime()),vn=ge==="x"?Jn:jt,er=Math.abs(vn)/Rs;if(Math.abs(vn)>=E3||er>.11){Fi(xr.current),(yn=y.onDismiss)==null||yn.call(y,y),it(ge==="x"?Jn>0?"right":"left":jt>0?"down":"up"),Ur(),rn(!0),vr(!1);return}$e(!1),Te(null)},onPointerMove:Ie=>{var nt,bt,yn,Jn;if(!rs.current||!Ee||((nt=window.getSelection())==null?void 0:nt.toString().length)>0)return;let jt=Ie.clientY-rs.current.y,Rs=Ie.clientX-rs.current.x,vn=(bt=t.swipeDirections)!=null?bt:T3(re);!ge&&(Math.abs(Rs)>1||Math.abs(jt)>1)&&Te(Math.abs(Rs)>Math.abs(jt)?"x":"y");let er={x:0,y:0};ge==="y"?(vn.includes("top")||vn.includes("bottom"))&&(vn.includes("top")&&jt<0||vn.includes("bottom")&&jt>0)&&(er.y=jt):ge==="x"&&(vn.includes("left")||vn.includes("right"))&&(vn.includes("left")&&Rs<0||vn.includes("right")&&Rs>0)&&(er.x=Rs),(Math.abs(er.x)>0||Math.abs(er.y)>0)&&vr(!0),(yn=se.current)==null||yn.style.setProperty("--swipe-amount-x",`${er.x}px`),(Jn=se.current)==null||Jn.style.setProperty("--swipe-amount-y",`${er.y}px`)}},Fr&&!y.jsx?W.createElement("button",{"aria-label":ue,"data-disabled":ua,"data-close-button":!0,onClick:ua||!Ee?()=>{}:()=>{var Ie;Ur(),(Ie=y.onDismiss)==null||Ie.call(y,y)},className:os(L==null?void 0:L.closeButton,(s=y==null?void 0:y.classNames)==null?void 0:s.closeButton)},(i=G==null?void 0:G.close)!=null?i:c3):null,y.jsx||p.isValidElement(y.title)?y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title:W.createElement(W.Fragment,null,te||y.icon||y.promise?W.createElement("div",{"data-icon":"",className:os(L==null?void 0:L.icon,(a=y==null?void 0:y.classNames)==null?void 0:a.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||ii():null,y.type!=="loading"?y.icon||(G==null?void 0:G[te])||n3(te):null):null,W.createElement("div",{"data-content":"",className:os(L==null?void 0:L.content,(l=y==null?void 0:y.classNames)==null?void 0:l.content)},W.createElement("div",{"data-title":"",className:os(L==null?void 0:L.title,(c=y==null?void 0:y.classNames)==null?void 0:c.title)},typeof y.title=="function"?y.title():y.title),y.description?W.createElement("div",{"data-description":"",className:os(j,gn,L==null?void 0:L.description,(u=y==null?void 0:y.classNames)==null?void 0:u.description)},typeof y.description=="function"?y.description():y.description):null),p.isValidElement(y.cancel)?y.cancel:y.cancel&&mf(y.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||R,onClick:Ie=>{var nt,bt;mf(y.cancel)&&Ee&&((bt=(nt=y.cancel).onClick)==null||bt.call(nt,Ie),Ur())},className:os(L==null?void 0:L.cancelButton,(h=y==null?void 0:y.classNames)==null?void 0:h.cancelButton)},y.cancel.label):null,p.isValidElement(y.action)?y.action:y.action&&mf(y.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||A,onClick:Ie=>{var nt,bt;mf(y.action)&&((bt=(nt=y.action).onClick)==null||bt.call(nt,Ie),!Ie.defaultPrevented&&Ur())},className:os(L==null?void 0:L.actionButton,(f=y==null?void 0:y.classNames)==null?void 0:f.actionButton)},y.action.label):null))};function pE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function C3(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",l=i?w3:x3;function c(u){["top","right","bottom","left"].forEach(h=>{n[`${a}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=l:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var I3=p.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:c,mobileOffset:u,theme:h="light",richColors:f,duration:m,style:y,visibleToasts:x=v3,toastOptions:g,dir:_=pE(),gap:b=b3,loadingIcon:w,icons:E,containerAriaLabel:T="Notifications",pauseWhenPageIsHidden:I}=t,[O,C]=W.useState([]),N=W.useMemo(()=>Array.from(new Set([r].concat(O.filter(oe=>oe.position).map(oe=>oe.position)))),[O,r]),[P,R]=W.useState([]),[A,D]=W.useState(!1),[j,B]=W.useState(!1),[re,Y]=W.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),le=W.useRef(null),V=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=W.useRef(null),G=W.useRef(!1),ue=W.useCallback(oe=>{C(ge=>{var Te;return(Te=ge.find(We=>We.id===oe.id))!=null&&Te.delete||nr.dismiss(oe.id),ge.filter(({id:We})=>We!==oe.id)})},[]);return W.useEffect(()=>nr.subscribe(oe=>{if(oe.dismiss){C(ge=>ge.map(Te=>Te.id===oe.id?{...Te,delete:!0}:Te));return}setTimeout(()=>{XI.flushSync(()=>{C(ge=>{let Te=ge.findIndex(We=>We.id===oe.id);return Te!==-1?[...ge.slice(0,Te),{...ge[Te],...oe},...ge.slice(Te+1)]:[oe,...ge]})})})}),[]),W.useEffect(()=>{if(h!=="system"){Y(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window>"u")return;let oe=window.matchMedia("(prefers-color-scheme: dark)");try{oe.addEventListener("change",({matches:ge})=>{Y(ge?"dark":"light")})}catch{oe.addListener(({matches:Te})=>{try{Y(Te?"dark":"light")}catch(We){console.error(We)}})}},[h]),W.useEffect(()=>{O.length<=1&&D(!1)},[O]),W.useEffect(()=>{let oe=ge=>{var Te,We;s.every(it=>ge[it]||ge.code===it)&&(D(!0),(Te=le.current)==null||Te.focus()),ge.code==="Escape"&&(document.activeElement===le.current||(We=le.current)!=null&&We.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",oe),()=>document.removeEventListener("keydown",oe)},[s]),W.useEffect(()=>{if(le.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,G.current=!1)}},[le.current]),W.createElement("section",{ref:e,"aria-label":`${T} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((oe,ge)=>{var Te;let[We,it]=oe.split("-");return O.length?W.createElement("ol",{key:oe,dir:_==="auto"?pE():_,tabIndex:-1,ref:le,className:l,"data-sonner-toaster":!0,"data-theme":re,"data-y-position":We,"data-lifted":A&&O.length>1&&!i,"data-x-position":it,style:{"--front-toast-height":`${((Te=P[0])==null?void 0:Te.height)||0}px`,"--width":`${_3}px`,"--gap":`${b}px`,...y,...C3(c,u)},onBlur:X=>{G.current&&!X.currentTarget.contains(X.relatedTarget)&&(G.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||G.current||(G.current=!0,L.current=X.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{j||D(!1)},onDragEnd:()=>D(!1),onPointerDown:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},O.filter(X=>!X.position&&ge===0||X.position===oe).map((X,He)=>{var Be,Ae;return W.createElement(N3,{key:X.id,icons:E,index:He,toast:X,defaultRichColors:f,duration:(Be=g==null?void 0:g.duration)!=null?Be:m,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:x,closeButton:(Ae=g==null?void 0:g.closeButton)!=null?Ae:a,interacting:j,position:oe,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ue,toasts:O.filter(Oe=>Oe.position==X.position),heights:P.filter(Oe=>Oe.position==X.position),setHeights:R,expandByDefault:i,gap:b,loadingIcon:w,expanded:A,pauseWhenPageIsHidden:I,swipeDirections:t.swipeDirections})})):null}))});const P3=({...t})=>{const{theme:e="system"}=t3();return o.jsx(I3,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var j3=pw[" useId ".trim().toString()]||(()=>{}),R3=0;function _i(t){const[e,n]=p.useState(j3());return Cn(()=>{n(r=>r??String(R3++))},[t]),e?`radix-${e}`:""}const k3=["top","right","bottom","left"],Lo=Math.min,Er=Math.max,Im=Math.round,pf=Math.floor,Ws=t=>({x:t,y:t}),A3={left:"right",right:"left",bottom:"top",top:"bottom"},D3={start:"end",end:"start"};function hx(t,e,n){return Er(t,Lo(e,n))}function Ii(t,e){return typeof t=="function"?t(e):t}function Pi(t){return t.split("-")[0]}function $c(t){return t.split("-")[1]}function f0(t){return t==="x"?"y":"x"}function m0(t){return t==="y"?"height":"width"}const O3=new Set(["top","bottom"]);function Us(t){return O3.has(Pi(t))?"y":"x"}function p0(t){return f0(Us(t))}function M3(t,e,n){n===void 0&&(n=!1);const r=$c(t),s=p0(t),i=m0(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Pm(a)),[a,Pm(a)]}function L3(t){const e=Pm(t);return[fx(t),e,fx(e)]}function fx(t){return t.replace(/start|end/g,e=>D3[e])}const gE=["left","right"],yE=["right","left"],V3=["top","bottom"],F3=["bottom","top"];function U3(t,e,n){switch(t){case"top":case"bottom":return n?e?yE:gE:e?gE:yE;case"left":case"right":return e?V3:F3;default:return[]}}function $3(t,e,n,r){const s=$c(t);let i=U3(Pi(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(fx)))),i}function Pm(t){return t.replace(/left|right|bottom|top/g,e=>A3[e])}function B3(t){return{top:0,right:0,bottom:0,left:0,...t}}function GP(t){return typeof t!="number"?B3(t):{top:t,right:t,bottom:t,left:t}}function jm(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function vE(t,e,n){let{reference:r,floating:s}=t;const i=Us(e),a=p0(e),l=m0(a),c=Pi(e),u=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let y;switch(c){case"top":y={x:h,y:r.y-s.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-s.width,y:f};break;default:y={x:r.x,y:r.y}}switch($c(e)){case"start":y[a]-=m*(n&&u?-1:1);break;case"end":y[a]+=m*(n&&u?-1:1);break}return y}const z3=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=vE(u,r,c),m=r,y={},x=0;for(let g=0;g<l.length;g++){const{name:_,fn:b}=l[g],{x:w,y:E,data:T,reset:I}=await b({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:y,rects:u,platform:a,elements:{reference:t,floating:e}});h=w??h,f=E??f,y={...y,[_]:{...y[_],...T}},I&&x<=50&&(x++,typeof I=="object"&&(I.placement&&(m=I.placement),I.rects&&(u=I.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):I.rects),{x:h,y:f}=vE(u,m,c)),g=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:y}};async function kd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:y=0}=Ii(e,t),x=GP(y),_=l[m?f==="floating"?"reference":"floating":f],b=jm(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),w=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),T=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},I=jm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:E,strategy:c}):w);return{top:(b.top-I.top+x.top)/T.y,bottom:(I.bottom-b.bottom+x.bottom)/T.y,left:(b.left-I.left+x.left)/T.x,right:(I.right-b.right+x.right)/T.x}}const W3=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:h=0}=Ii(t,e)||{};if(u==null)return{};const f=GP(h),m={x:n,y:r},y=p0(s),x=m0(y),g=await a.getDimensions(u),_=y==="y",b=_?"top":"left",w=_?"bottom":"right",E=_?"clientHeight":"clientWidth",T=i.reference[x]+i.reference[y]-m[y]-i.floating[x],I=m[y]-i.reference[y],O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=O?O[E]:0;(!C||!await(a.isElement==null?void 0:a.isElement(O)))&&(C=l.floating[E]||i.floating[x]);const N=T/2-I/2,P=C/2-g[x]/2-1,R=Lo(f[b],P),A=Lo(f[w],P),D=R,j=C-g[x]-A,B=C/2-g[x]/2+N,re=hx(D,B,j),Y=!c.arrow&&$c(s)!=null&&B!==re&&i.reference[x]/2-(B<D?R:A)-g[x]/2<0,le=Y?B<D?B-D:B-j:0;return{[y]:m[y]+le,data:{[y]:re,centerOffset:B-re-le,...Y&&{alignmentOffset:le}},reset:Y}}}),H3=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,..._}=Ii(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Pi(s),w=Us(l),E=Pi(l)===l,T=await(c.isRTL==null?void 0:c.isRTL(u.floating)),I=m||(E||!g?[Pm(l)]:L3(l)),O=x!=="none";!m&&O&&I.push(...$3(l,g,x,T));const C=[l,...I],N=await kd(e,_),P=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&P.push(N[b]),f){const B=M3(s,a,T);P.push(N[B[0]],N[B[1]])}if(R=[...R,{placement:s,overflows:P}],!P.every(B=>B<=0)){var A,D;const B=(((A=i.flip)==null?void 0:A.index)||0)+1,re=C[B];if(re&&(!(f==="alignment"?w!==Us(re):!1)||R.every(V=>V.overflows[0]>0&&Us(V.placement)===w)))return{data:{index:B,overflows:R},reset:{placement:re}};let Y=(D=R.filter(le=>le.overflows[0]<=0).sort((le,V)=>le.overflows[1]-V.overflows[1])[0])==null?void 0:D.placement;if(!Y)switch(y){case"bestFit":{var j;const le=(j=R.filter(V=>{if(O){const L=Us(V.placement);return L===w||L==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(L=>L>0).reduce((L,G)=>L+G,0)]).sort((V,L)=>V[1]-L[1])[0])==null?void 0:j[0];le&&(Y=le);break}case"initialPlacement":Y=l;break}if(s!==Y)return{reset:{placement:Y}}}return{}}}};function xE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function wE(t){return k3.some(e=>t[e]>=0)}const q3=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ii(t,e);switch(r){case"referenceHidden":{const i=await kd(e,{...s,elementContext:"reference"}),a=xE(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:wE(a)}}}case"escaped":{const i=await kd(e,{...s,altBoundary:!0}),a=xE(i,n.floating);return{data:{escapedOffsets:a,escaped:wE(a)}}}default:return{}}}}},KP=new Set(["left","top"]);async function G3(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Pi(n),l=$c(n),c=Us(n)==="y",u=KP.has(a)?-1:1,h=i&&c?-1:1,f=Ii(e,t);let{mainAxis:m,crossAxis:y,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(y=l==="end"?x*-1:x),c?{x:y*h,y:m*u}:{x:m*u,y:y*h}}const K3=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=e,c=await G3(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},Q3=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:_=>{let{x:b,y:w}=_;return{x:b,y:w}}},...c}=Ii(t,e),u={x:n,y:r},h=await kd(e,c),f=Us(Pi(s)),m=f0(f);let y=u[m],x=u[f];if(i){const _=m==="y"?"top":"left",b=m==="y"?"bottom":"right",w=y+h[_],E=y-h[b];y=hx(w,y,E)}if(a){const _=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=x+h[_],E=x-h[b];x=hx(w,x,E)}const g=l.fn({...e,[m]:y,[f]:x});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[m]:i,[f]:a}}}}}},Y3=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ii(t,e),h={x:n,y:r},f=Us(s),m=f0(f);let y=h[m],x=h[f];const g=Ii(l,e),_=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const E=m==="y"?"height":"width",T=i.reference[m]-i.floating[E]+_.mainAxis,I=i.reference[m]+i.reference[E]-_.mainAxis;y<T?y=T:y>I&&(y=I)}if(u){var b,w;const E=m==="y"?"width":"height",T=KP.has(Pi(s)),I=i.reference[f]-i.floating[E]+(T&&((b=a.offset)==null?void 0:b[f])||0)+(T?0:_.crossAxis),O=i.reference[f]+i.reference[E]+(T?0:((w=a.offset)==null?void 0:w[f])||0)-(T?_.crossAxis:0);x<I?x=I:x>O&&(x=O)}return{[m]:y,[f]:x}}}},X3=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:l}=e,{apply:c=()=>{},...u}=Ii(t,e),h=await kd(e,u),f=Pi(s),m=$c(s),y=Us(s)==="y",{width:x,height:g}=i.floating;let _,b;f==="top"||f==="bottom"?(_=f,b=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,_=m==="end"?"top":"bottom");const w=g-h.top-h.bottom,E=x-h.left-h.right,T=Lo(g-h[_],w),I=Lo(x-h[b],E),O=!e.middlewareData.shift;let C=T,N=I;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=w),O&&!m){const R=Er(h.left,0),A=Er(h.right,0),D=Er(h.top,0),j=Er(h.bottom,0);y?N=x-2*(R!==0||A!==0?R+A:Er(h.left,h.right)):C=g-2*(D!==0||j!==0?D+j:Er(h.top,h.bottom))}await c({...e,availableWidth:N,availableHeight:C});const P=await a.getDimensions(l.floating);return x!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function Up(){return typeof window<"u"}function Bc(t){return QP(t)?(t.nodeName||"").toLowerCase():"#document"}function Cr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ti(t){var e;return(e=(QP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function QP(t){return Up()?t instanceof Node||t instanceof Cr(t).Node:!1}function _s(t){return Up()?t instanceof Element||t instanceof Cr(t).Element:!1}function Zs(t){return Up()?t instanceof HTMLElement||t instanceof Cr(t).HTMLElement:!1}function _E(t){return!Up()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Cr(t).ShadowRoot}const Z3=new Set(["inline","contents"]);function uh(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=bs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Z3.has(s)}const J3=new Set(["table","td","th"]);function e5(t){return J3.has(Bc(t))}const t5=[":popover-open",":modal"];function $p(t){return t5.some(e=>{try{return t.matches(e)}catch{return!1}})}const n5=["transform","translate","scale","rotate","perspective"],r5=["transform","translate","scale","rotate","perspective","filter"],s5=["paint","layout","strict","content"];function g0(t){const e=y0(),n=_s(t)?bs(t):t;return n5.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||r5.some(r=>(n.willChange||"").includes(r))||s5.some(r=>(n.contain||"").includes(r))}function i5(t){let e=Vo(t);for(;Zs(e)&&!xc(e);){if(g0(e))return e;if($p(e))return null;e=Vo(e)}return null}function y0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const o5=new Set(["html","body","#document"]);function xc(t){return o5.has(Bc(t))}function bs(t){return Cr(t).getComputedStyle(t)}function Bp(t){return _s(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Vo(t){if(Bc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_E(t)&&t.host||ti(t);return _E(e)?e.host:e}function YP(t){const e=Vo(t);return xc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zs(e)&&uh(e)?e:YP(e)}function Ad(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=YP(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=Cr(s);if(i){const l=mx(a);return e.concat(a,a.visualViewport||[],uh(s)?s:[],l&&n?Ad(l):[])}return e.concat(s,Ad(s,[],n))}function mx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function XP(t){const e=bs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Zs(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=Im(n)!==i||Im(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function v0(t){return _s(t)?t:t.contextElement}function Gl(t){const e=v0(t);if(!Zs(e))return Ws(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=XP(e);let a=(i?Im(n.width):n.width)/r,l=(i?Im(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const a5=Ws(0);function ZP(t){const e=Cr(t);return!y0()||!e.visualViewport?a5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function l5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Cr(t)?!1:e}function Fa(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=v0(t);let a=Ws(1);e&&(r?_s(r)&&(a=Gl(r)):a=Gl(t));const l=l5(i,n,r)?ZP(i):Ws(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,h=s.width/a.x,f=s.height/a.y;if(i){const m=Cr(i),y=r&&_s(r)?Cr(r):r;let x=m,g=mx(x);for(;g&&r&&y!==x;){const _=Gl(g),b=g.getBoundingClientRect(),w=bs(g),E=b.left+(g.clientLeft+parseFloat(w.paddingLeft))*_.x,T=b.top+(g.clientTop+parseFloat(w.paddingTop))*_.y;c*=_.x,u*=_.y,h*=_.x,f*=_.y,c+=E,u+=T,x=Cr(g),g=mx(x)}}return jm({width:h,height:f,x:c,y:u})}function x0(t,e){const n=Bp(t).scrollLeft;return e?e.left+n:Fa(ti(t)).left+n}function JP(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:x0(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function c5(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=ti(r),l=e?$p(e.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Ws(1);const h=Ws(0),f=Zs(r);if((f||!f&&!i)&&((Bc(r)!=="body"||uh(a))&&(c=Bp(r)),Zs(r))){const y=Fa(r);u=Gl(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const m=a&&!f&&!i?JP(a,c,!0):Ws(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:n.y*u.y-c.scrollTop*u.y+h.y+m.y}}function u5(t){return Array.from(t.getClientRects())}function d5(t){const e=ti(t),n=Bp(t),r=t.ownerDocument.body,s=Er(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Er(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+x0(t);const l=-n.scrollTop;return bs(r).direction==="rtl"&&(a+=Er(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function h5(t,e){const n=Cr(t),r=ti(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=y0();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}const f5=new Set(["absolute","fixed"]);function m5(t,e){const n=Fa(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Zs(t)?Gl(t):Ws(1),a=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:a,height:l,x:c,y:u}}function bE(t,e,n){let r;if(e==="viewport")r=h5(t,n);else if(e==="document")r=d5(ti(t));else if(_s(e))r=m5(e,n);else{const s=ZP(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return jm(r)}function ej(t,e){const n=Vo(t);return n===e||!_s(n)||xc(n)?!1:bs(n).position==="fixed"||ej(n,e)}function p5(t,e){const n=e.get(t);if(n)return n;let r=Ad(t,[],!1).filter(l=>_s(l)&&Bc(l)!=="body"),s=null;const i=bs(t).position==="fixed";let a=i?Vo(t):t;for(;_s(a)&&!xc(a);){const l=bs(a),c=g0(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&f5.has(s.position)||uh(a)&&!c&&ej(t,a))?r=r.filter(h=>h!==a):s=l,a=Vo(a)}return e.set(t,r),r}function g5(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?$p(e)?[]:p5(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,h)=>{const f=bE(e,h,s);return u.top=Er(f.top,u.top),u.right=Lo(f.right,u.right),u.bottom=Lo(f.bottom,u.bottom),u.left=Er(f.left,u.left),u},bE(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function y5(t){const{width:e,height:n}=XP(t);return{width:e,height:n}}function v5(t,e,n){const r=Zs(e),s=ti(e),i=n==="fixed",a=Fa(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Ws(0);function u(){c.x=x0(s)}if(r||!r&&!i)if((Bc(e)!=="body"||uh(s))&&(l=Bp(e)),r){const y=Fa(e,!0,i,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else s&&u();i&&!r&&s&&u();const h=s&&!r&&!i?JP(s,l):Ws(0),f=a.left+l.scrollLeft-c.x-h.x,m=a.top+l.scrollTop-c.y-h.y;return{x:f,y:m,width:a.width,height:a.height}}function Ay(t){return bs(t).position==="static"}function EE(t,e){if(!Zs(t)||bs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ti(t)===n&&(n=n.ownerDocument.body),n}function tj(t,e){const n=Cr(t);if($p(t))return n;if(!Zs(t)){let s=Vo(t);for(;s&&!xc(s);){if(_s(s)&&!Ay(s))return s;s=Vo(s)}return n}let r=EE(t,e);for(;r&&e5(r)&&Ay(r);)r=EE(r,e);return r&&xc(r)&&Ay(r)&&!g0(r)?n:r||i5(t)||n}const x5=async function(t){const e=this.getOffsetParent||tj,n=this.getDimensions,r=await n(t.floating);return{reference:v5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function w5(t){return bs(t).direction==="rtl"}const _5={convertOffsetParentRelativeRectToViewportRelativeRect:c5,getDocumentElement:ti,getClippingRect:g5,getOffsetParent:tj,getElementRects:x5,getClientRects:u5,getDimensions:y5,getScale:Gl,isElement:_s,isRTL:w5};function nj(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function b5(t,e){let n=null,r;const s=ti(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:h,top:f,width:m,height:y}=u;if(l||e(),!m||!y)return;const x=pf(f),g=pf(s.clientWidth-(h+m)),_=pf(s.clientHeight-(f+y)),b=pf(h),E={rootMargin:-x+"px "+-g+"px "+-_+"px "+-b+"px",threshold:Er(0,Lo(1,c))||1};let T=!0;function I(O){const C=O[0].intersectionRatio;if(C!==c){if(!T)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!nj(u,t.getBoundingClientRect())&&a(),T=!1}try{n=new IntersectionObserver(I,{...E,root:s.ownerDocument})}catch{n=new IntersectionObserver(I,E)}n.observe(t)}return a(!0),i}function E5(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=v0(t),h=s||i?[...u?Ad(u):[],...Ad(e)]:[];h.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const f=u&&l?b5(u,n):null;let m=-1,y=null;a&&(y=new ResizeObserver(b=>{let[w]=b;w&&w.target===u&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var E;(E=y)==null||E.observe(e)})),n()}),u&&!c&&y.observe(u),y.observe(e));let x,g=c?Fa(t):null;c&&_();function _(){const b=Fa(t);g&&!nj(g,b)&&n(),g=b,x=requestAnimationFrame(_)}return n(),()=>{var b;h.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(b=y)==null||b.disconnect(),y=null,c&&cancelAnimationFrame(x)}}const S5=K3,T5=Q3,N5=H3,C5=X3,I5=q3,SE=W3,P5=Y3,j5=(t,e,n)=>{const r=new Map,s={platform:_5,...n},i={...s.platform,_c:r};return z3(t,e,{...s,platform:i})};var R5=typeof document<"u",k5=function(){},Bf=R5?p.useLayoutEffect:k5;function Rm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Rm(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Rm(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function rj(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function TE(t,e){const n=rj(t);return Math.round(e*n)/n}function Dy(t){const e=p.useRef(t);return Bf(()=>{e.current=t}),e}function A5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[h,f]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,y]=p.useState(r);Rm(m,r)||y(r);const[x,g]=p.useState(null),[_,b]=p.useState(null),w=p.useCallback(V=>{V!==O.current&&(O.current=V,g(V))},[]),E=p.useCallback(V=>{V!==C.current&&(C.current=V,b(V))},[]),T=i||x,I=a||_,O=p.useRef(null),C=p.useRef(null),N=p.useRef(h),P=c!=null,R=Dy(c),A=Dy(s),D=Dy(u),j=p.useCallback(()=>{if(!O.current||!C.current)return;const V={placement:e,strategy:n,middleware:m};A.current&&(V.platform=A.current),j5(O.current,C.current,V).then(L=>{const G={...L,isPositioned:D.current!==!1};B.current&&!Rm(N.current,G)&&(N.current=G,Ja.flushSync(()=>{f(G)}))})},[m,e,n,A,D]);Bf(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[u]);const B=p.useRef(!1);Bf(()=>(B.current=!0,()=>{B.current=!1}),[]),Bf(()=>{if(T&&(O.current=T),I&&(C.current=I),T&&I){if(R.current)return R.current(T,I,j);j()}},[T,I,j,R,P]);const re=p.useMemo(()=>({reference:O,floating:C,setReference:w,setFloating:E}),[w,E]),Y=p.useMemo(()=>({reference:T,floating:I}),[T,I]),le=p.useMemo(()=>{const V={position:n,left:0,top:0};if(!Y.floating)return V;const L=TE(Y.floating,h.x),G=TE(Y.floating,h.y);return l?{...V,transform:"translate("+L+"px, "+G+"px)",...rj(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:G}},[n,l,Y.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:j,refs:re,elements:Y,floatingStyles:le}),[h,j,re,Y,le])}const D5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?SE({element:r.current,padding:s}).fn(n):{}:r?SE({element:r,padding:s}).fn(n):{}}}},O5=(t,e)=>({...S5(t),options:[t,e]}),M5=(t,e)=>({...T5(t),options:[t,e]}),L5=(t,e)=>({...P5(t),options:[t,e]}),V5=(t,e)=>({...N5(t),options:[t,e]}),F5=(t,e)=>({...C5(t),options:[t,e]}),U5=(t,e)=>({...I5(t),options:[t,e]}),$5=(t,e)=>({...D5(t),options:[t,e]});var B5="Arrow",sj=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return o.jsx(Se.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});sj.displayName=B5;var z5=sj;function w0(t){const[e,n]=p.useState(void 0);return Cn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var _0="Popper",[ij,zc]=Dr(_0),[W5,oj]=ij(_0),aj=t=>{const{__scopePopper:e,children:n}=t,[r,s]=p.useState(null);return o.jsx(W5,{scope:e,anchor:r,onAnchorChange:s,children:n})};aj.displayName=_0;var lj="PopperAnchor",cj=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=oj(lj,n),a=p.useRef(null),l=Xe(e,a);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(Se.div,{...s,ref:l})});cj.displayName=lj;var b0="PopperContent",[H5,q5]=ij(b0),uj=p.forwardRef((t,e)=>{var X,He,Be,Ae,Oe,$e;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:x,...g}=t,_=oj(b0,n),[b,w]=p.useState(null),E=Xe(e,Lt=>w(Lt)),[T,I]=p.useState(null),O=w0(T),C=(O==null?void 0:O.width)??0,N=(O==null?void 0:O.height)??0,P=r+(i!=="center"?"-"+i:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},A=Array.isArray(u)?u:[u],D=A.length>0,j={padding:R,boundary:A.filter(K5),altBoundary:D},{refs:B,floatingStyles:re,placement:Y,isPositioned:le,middlewareData:V}=A5({strategy:"fixed",placement:P,whileElementsMounted:(...Lt)=>E5(...Lt,{animationFrame:y==="always"}),elements:{reference:_.anchor},middleware:[O5({mainAxis:s+N,alignmentAxis:a}),c&&M5({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?L5():void 0,...j}),c&&V5({...j}),F5({...j,apply:({elements:Lt,rects:rn,availableWidth:Zn,availableHeight:vr})=>{const{width:ns,height:Fi}=rn.reference,Lr=Lt.floating.style;Lr.setProperty("--radix-popper-available-width",`${Zn}px`),Lr.setProperty("--radix-popper-available-height",`${vr}px`),Lr.setProperty("--radix-popper-anchor-width",`${ns}px`),Lr.setProperty("--radix-popper-anchor-height",`${Fi}px`)}}),T&&$5({element:T,padding:l}),Q5({arrowWidth:C,arrowHeight:N}),m&&U5({strategy:"referenceHidden",...j})]}),[L,G]=fj(Y),ue=gr(x);Cn(()=>{le&&(ue==null||ue())},[le,ue]);const oe=(X=V.arrow)==null?void 0:X.x,ge=(He=V.arrow)==null?void 0:He.y,Te=((Be=V.arrow)==null?void 0:Be.centerOffset)!==0,[We,it]=p.useState();return Cn(()=>{b&&it(window.getComputedStyle(b).zIndex)},[b]),o.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:le?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:We,"--radix-popper-transform-origin":[(Ae=V.transformOrigin)==null?void 0:Ae.x,(Oe=V.transformOrigin)==null?void 0:Oe.y].join(" "),...(($e=V.hide)==null?void 0:$e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(H5,{scope:n,placedSide:L,onArrowChange:I,arrowX:oe,arrowY:ge,shouldHideArrow:Te,children:o.jsx(Se.div,{"data-side":L,"data-align":G,...g,ref:E,style:{...g.style,animation:le?void 0:"none"}})})})});uj.displayName=b0;var dj="PopperArrow",G5={top:"bottom",right:"left",bottom:"top",left:"right"},hj=p.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=q5(dj,r),a=G5[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(z5,{...s,ref:n,style:{...s.style,display:"block"}})})});hj.displayName=dj;function K5(t){return t!==null}var Q5=t=>({name:"transformOrigin",options:t,fn(e){var _,b,w;const{placement:n,rects:r,middlewareData:s}=e,a=((_=s.arrow)==null?void 0:_.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,h]=fj(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,y=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let x="",g="";return u==="bottom"?(x=a?f:`${m}px`,g=`${-c}px`):u==="top"?(x=a?f:`${m}px`,g=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,g=a?f:`${y}px`):u==="left"&&(x=`${r.floating.width+c}px`,g=a?f:`${y}px`),{data:{x,y:g}}}});function fj(t){const[e,n="center"]=t.split("-");return[e,n]}var mj=aj,E0=cj,S0=uj,T0=hj,[zp,xee]=Dr("Tooltip",[zc]),N0=zc(),pj="TooltipProvider",Y5=700,NE="tooltip.open",[X5,gj]=zp(pj),yj=t=>{const{__scopeTooltip:e,delayDuration:n=Y5,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,a=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(X5,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};yj.displayName=pj;var vj="Tooltip",[wee,Wp]=zp(vj),px="TooltipTrigger",Z5=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Wp(px,n),i=gj(px,n),a=N0(n),l=p.useRef(null),c=Xe(e,l,s.onTriggerChange),u=p.useRef(!1),h=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(E0,{asChild:!0,...a,children:o.jsx(Se.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:ae(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ae(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ae(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ae(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:ae(t.onBlur,s.onClose),onClick:ae(t.onClick,s.onClose)})})});Z5.displayName=px;var J5="TooltipPortal",[_ee,eU]=zp(J5,{forceMount:void 0}),wc="TooltipContent",xj=p.forwardRef((t,e)=>{const n=eU(wc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,a=Wp(wc,t.__scopeTooltip);return o.jsx(Jr,{present:r||a.open,children:a.disableHoverableContent?o.jsx(wj,{side:s,...i,ref:e}):o.jsx(tU,{side:s,...i,ref:e})})}),tU=p.forwardRef((t,e)=>{const n=Wp(wc,t.__scopeTooltip),r=gj(wc,t.__scopeTooltip),s=p.useRef(null),i=Xe(e,s),[a,l]=p.useState(null),{trigger:c,onClose:u}=n,h=s.current,{onPointerInTransitChange:f}=r,m=p.useCallback(()=>{l(null),f(!1)},[f]),y=p.useCallback((x,g)=>{const _=x.currentTarget,b={x:x.clientX,y:x.clientY},w=oU(b,_.getBoundingClientRect()),E=aU(b,w),T=lU(g.getBoundingClientRect()),I=uU([...E,...T]);l(I),f(!0)},[f]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(c&&h){const x=_=>y(_,h),g=_=>y(_,c);return c.addEventListener("pointerleave",x),h.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",x),h.removeEventListener("pointerleave",g)}}},[c,h,y,m]),p.useEffect(()=>{if(a){const x=g=>{const _=g.target,b={x:g.clientX,y:g.clientY},w=(c==null?void 0:c.contains(_))||(h==null?void 0:h.contains(_)),E=!cU(b,a);w?m():E&&(m(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,h,a,u,m]),o.jsx(wj,{...t,ref:i})}),[nU,rU]=zp(vj,{isInside:!1}),sU=pV("TooltipContent"),wj=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=t,c=Wp(wc,n),u=N0(n),{onClose:h}=c;return p.useEffect(()=>(document.addEventListener(NE,h),()=>document.removeEventListener(NE,h)),[h]),p.useEffect(()=>{if(c.trigger){const f=m=>{const y=m.target;y!=null&&y.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),o.jsx(Mc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:o.jsxs(S0,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(sU,{children:r}),o.jsx(nU,{scope:n,isInside:!0,children:o.jsx(LV,{id:c.contentId,role:"tooltip",children:s||r})})]})})});xj.displayName=wc;var _j="TooltipArrow",iU=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=N0(n);return rU(_j,n).isInside?null:o.jsx(T0,{...s,...r,ref:e})});iU.displayName=_j;function oU(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function aU(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function lU(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function cU(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i],c=e[a],u=l.x,h=l.y,f=c.x,m=c.y;h>r!=m>r&&n<(f-u)*(r-h)/(m-h)+u&&(s=!s)}return s}function uU(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),dU(e)}function dU(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var hU=yj,bj=xj;const fU=hU,mU=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(bj,{ref:r,sideOffset:e,className:we("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));mU.displayName=bj.displayName;var Hp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qp=typeof window>"u"||"Deno"in globalThis;function cs(){}function pU(t,e){return typeof t=="function"?t(e):t}function gU(t){return typeof t=="number"&&t>=0&&t!==1/0}function yU(t,e){return Math.max(t+(e||0)-Date.now(),0)}function gx(t,e){return typeof t=="function"?t(e):t}function vU(t,e){return typeof t=="function"?t(e):t}function CE(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==C0(a,e.options))return!1}else if(!Od(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function IE(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Dd(e.options.mutationKey)!==Dd(i))return!1}else if(!Od(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function C0(t,e){return((e==null?void 0:e.queryKeyHashFn)||Dd)(t)}function Dd(t){return JSON.stringify(t,(e,n)=>yx(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Od(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Od(t[n],e[n])):!1}function Ej(t,e){if(t===e)return t;const n=PE(t)&&PE(e);if(n||yx(t)&&yx(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),a=i.length,l=n?[]:{},c=new Set(r);let u=0;for(let h=0;h<a;h++){const f=n?h:i[h];(!n&&c.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,u++):(l[f]=Ej(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&u++)}return s===a&&u===s?t:l}return e}function PE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function yx(t){if(!jE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!jE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function jE(t){return Object.prototype.toString.call(t)==="[object Object]"}function xU(t){return new Promise(e=>{setTimeout(e,t)})}function wU(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Ej(t,e):e}function _U(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function bU(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var I0=Symbol();function Sj(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===I0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Sa,ao,nc,jN,EU=(jN=class extends Hp{constructor(){super();at(this,Sa);at(this,ao);at(this,nc);De(this,nc,e=>{if(!qp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){q(this,ao)||this.setEventListener(q(this,nc))}onUnsubscribe(){var e;this.hasListeners()||((e=q(this,ao))==null||e.call(this),De(this,ao,void 0))}setEventListener(e){var n;De(this,nc,e),(n=q(this,ao))==null||n.call(this),De(this,ao,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){q(this,Sa)!==e&&(De(this,Sa,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof q(this,Sa)=="boolean"?q(this,Sa):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Sa=new WeakMap,ao=new WeakMap,nc=new WeakMap,jN),Tj=new EU,rc,lo,sc,RN,SU=(RN=class extends Hp{constructor(){super();at(this,rc,!0);at(this,lo);at(this,sc);De(this,sc,e=>{if(!qp&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){q(this,lo)||this.setEventListener(q(this,sc))}onUnsubscribe(){var e;this.hasListeners()||((e=q(this,lo))==null||e.call(this),De(this,lo,void 0))}setEventListener(e){var n;De(this,sc,e),(n=q(this,lo))==null||n.call(this),De(this,lo,e(this.setOnline.bind(this)))}setOnline(e){q(this,rc)!==e&&(De(this,rc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return q(this,rc)}},rc=new WeakMap,lo=new WeakMap,sc=new WeakMap,RN),km=new SU;function TU(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function NU(t){return Math.min(1e3*2**t,3e4)}function Nj(t){return(t??"online")==="online"?km.isOnline():!0}var Cj=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Oy(t){return t instanceof Cj}function Ij(t){let e=!1,n=0,r=!1,s;const i=TU(),a=g=>{var _;r||(m(new Cj(g)),(_=t.abort)==null||_.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>Tj.isFocused()&&(t.networkMode==="always"||km.isOnline())&&t.canRun(),h=()=>Nj(t.networkMode)&&t.canRun(),f=g=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,g),s==null||s(),i.resolve(g))},m=g=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,g),s==null||s(),i.reject(g))},y=()=>new Promise(g=>{var _;s=b=>{(r||u())&&g(b)},(_=t.onPause)==null||_.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),x=()=>{if(r)return;let g;const _=n===0?t.initialPromise:void 0;try{g=_??t.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(f).catch(b=>{var O;if(r)return;const w=t.retry??(qp?0:3),E=t.retryDelay??NU,T=typeof E=="function"?E(n,b):E,I=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,b);if(e||!I){m(b);return}n++,(O=t.onFail)==null||O.call(t,n,b),xU(T).then(()=>u()?void 0:y()).then(()=>{e?m(b):x()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?x():y().then(x),i)}}var CU=t=>setTimeout(t,0);function IU(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=CU;const i=l=>{e?t.push(l):s(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var qn=IU(),Ta,kN,Pj=(kN=class{constructor(){at(this,Ta)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gU(this.gcTime)&&De(this,Ta,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(qp?1/0:5*60*1e3))}clearGcTimeout(){q(this,Ta)&&(clearTimeout(q(this,Ta)),De(this,Ta,void 0))}},Ta=new WeakMap,kN),ic,Na,$r,Ca,Mn,Jd,Ia,us,ui,AN,PU=(AN=class extends Pj{constructor(n){super();at(this,us);at(this,ic);at(this,Na);at(this,$r);at(this,Ca);at(this,Mn);at(this,Jd);at(this,Ia);De(this,Ia,!1),De(this,Jd,n.defaultOptions),this.setOptions(n.options),this.observers=[],De(this,Ca,n.client),De(this,$r,q(this,Ca).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,De(this,ic,RU(this.options)),this.state=n.state??q(this,ic),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=q(this,Mn))==null?void 0:n.promise}setOptions(n){this.options={...q(this,Jd),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&q(this,$r).remove(this)}setData(n,r){const s=wU(this.state.data,n,this.options);return kn(this,us,ui).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){kn(this,us,ui).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=q(this,Mn))==null?void 0:s.promise;return(i=q(this,Mn))==null||i.cancel(n),r?r.then(cs).catch(cs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,ic))}isActive(){return this.observers.some(n=>vU(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===I0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>gx(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!yU(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=q(this,Mn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=q(this,Mn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),q(this,$r).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(q(this,Mn)&&(q(this,Ia)?q(this,Mn).cancel({revert:!0}):q(this,Mn).cancelRetry()),this.scheduleGc()),q(this,$r).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||kn(this,us,ui).call(this,{type:"invalidate"})}fetch(n,r){var h,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(q(this,Mn))return q(this,Mn).continueRetry(),q(this,Mn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const y=this.observers.find(x=>x.options.queryFn);y&&this.setOptions(y.options)}const s=new AbortController,i=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(De(this,Ia,!0),s.signal)})},a=()=>{const y=Sj(this.options,r),g=(()=>{const _={client:q(this,Ca),queryKey:this.queryKey,meta:this.meta};return i(_),_})();return De(this,Ia,!1),this.options.persister?this.options.persister(y,g,this):y(g)},c=(()=>{const y={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:q(this,Ca),state:this.state,fetchFn:a};return i(y),y})();(h=this.options.behavior)==null||h.onFetch(c,this),De(this,Na,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&kn(this,us,ui).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const u=y=>{var x,g,_,b;Oy(y)&&y.silent||kn(this,us,ui).call(this,{type:"error",error:y}),Oy(y)||((g=(x=q(this,$r).config).onError)==null||g.call(x,y,this),(b=(_=q(this,$r).config).onSettled)==null||b.call(_,this.state.data,y,this)),this.scheduleGc()};return De(this,Mn,Ij({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:y=>{var x,g,_,b;if(y===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(y)}catch(w){u(w);return}(g=(x=q(this,$r).config).onSuccess)==null||g.call(x,y,this),(b=(_=q(this,$r).config).onSettled)==null||b.call(_,y,this.state.error,this),this.scheduleGc()},onError:u,onFail:(y,x)=>{kn(this,us,ui).call(this,{type:"failed",failureCount:y,error:x})},onPause:()=>{kn(this,us,ui).call(this,{type:"pause"})},onContinue:()=>{kn(this,us,ui).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),q(this,Mn).start()}},ic=new WeakMap,Na=new WeakMap,$r=new WeakMap,Ca=new WeakMap,Mn=new WeakMap,Jd=new WeakMap,Ia=new WeakMap,us=new WeakSet,ui=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...jU(s.data,this.options),fetchMeta:n.meta??null};case"success":return De(this,Na,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Oy(i)&&i.revert&&q(this,Na)?{...q(this,Na),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),qn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),q(this,$r).notify({query:this,type:"updated",action:n})})},AN);function jU(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Nj(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function RU(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Os,DN,kU=(DN=class extends Hp{constructor(e={}){super();at(this,Os);this.config=e,De(this,Os,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??C0(s,n);let a=this.get(i);return a||(a=new PU({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){q(this,Os).has(e.queryHash)||(q(this,Os).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=q(this,Os).get(e.queryHash);n&&(e.destroy(),n===e&&q(this,Os).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){qn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return q(this,Os).get(e)}getAll(){return[...q(this,Os).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>CE(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>CE(e,r)):n}notify(e){qn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){qn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){qn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Os=new WeakMap,DN),Ms,zn,Pa,Ls,Yi,ON,AU=(ON=class extends Pj{constructor(n){super();at(this,Ls);at(this,Ms);at(this,zn);at(this,Pa);this.mutationId=n.mutationId,De(this,zn,n.mutationCache),De(this,Ms,[]),this.state=n.state||DU(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){q(this,Ms).includes(n)||(q(this,Ms).push(n),this.clearGcTimeout(),q(this,zn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){De(this,Ms,q(this,Ms).filter(r=>r!==n)),this.scheduleGc(),q(this,zn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){q(this,Ms).length||(this.state.status==="pending"?this.scheduleGc():q(this,zn).remove(this))}continue(){var n;return((n=q(this,Pa))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,c,u,h,f,m,y,x,g,_,b,w,E,T,I,O,C,N,P;const r=()=>{kn(this,Ls,Yi).call(this,{type:"continue"})};De(this,Pa,Ij({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,A)=>{kn(this,Ls,Yi).call(this,{type:"failed",failureCount:R,error:A})},onPause:()=>{kn(this,Ls,Yi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,zn).canRun(this)}));const s=this.state.status==="pending",i=!q(this,Pa).canStart();try{if(s)r();else{kn(this,Ls,Yi).call(this,{type:"pending",variables:n,isPaused:i}),await((l=(a=q(this,zn).config).onMutate)==null?void 0:l.call(a,n,this));const A=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));A!==this.state.context&&kn(this,Ls,Yi).call(this,{type:"pending",context:A,variables:n,isPaused:i})}const R=await q(this,Pa).start();return await((f=(h=q(this,zn).config).onSuccess)==null?void 0:f.call(h,R,n,this.state.context,this)),await((y=(m=this.options).onSuccess)==null?void 0:y.call(m,R,n,this.state.context)),await((g=(x=q(this,zn).config).onSettled)==null?void 0:g.call(x,R,null,this.state.variables,this.state.context,this)),await((b=(_=this.options).onSettled)==null?void 0:b.call(_,R,null,n,this.state.context)),kn(this,Ls,Yi).call(this,{type:"success",data:R}),R}catch(R){try{throw await((E=(w=q(this,zn).config).onError)==null?void 0:E.call(w,R,n,this.state.context,this)),await((I=(T=this.options).onError)==null?void 0:I.call(T,R,n,this.state.context)),await((C=(O=q(this,zn).config).onSettled)==null?void 0:C.call(O,void 0,R,this.state.variables,this.state.context,this)),await((P=(N=this.options).onSettled)==null?void 0:P.call(N,void 0,R,n,this.state.context)),R}finally{kn(this,Ls,Yi).call(this,{type:"error",error:R})}}finally{q(this,zn).runNext(this)}}},Ms=new WeakMap,zn=new WeakMap,Pa=new WeakMap,Ls=new WeakSet,Yi=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),qn.batch(()=>{q(this,Ms).forEach(s=>{s.onMutationUpdate(n)}),q(this,zn).notify({mutation:this,type:"updated",action:n})})},ON);function DU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fi,ds,eh,MN,OU=(MN=class extends Hp{constructor(e={}){super();at(this,fi);at(this,ds);at(this,eh);this.config=e,De(this,fi,new Set),De(this,ds,new Map),De(this,eh,0)}build(e,n,r){const s=new AU({mutationCache:this,mutationId:++Gh(this,eh)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){q(this,fi).add(e);const n=gf(e);if(typeof n=="string"){const r=q(this,ds).get(n);r?r.push(e):q(this,ds).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(q(this,fi).delete(e)){const n=gf(e);if(typeof n=="string"){const r=q(this,ds).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&q(this,ds).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=gf(e);if(typeof n=="string"){const r=q(this,ds).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=gf(e);if(typeof n=="string"){const s=(r=q(this,ds).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){qn.batch(()=>{q(this,fi).forEach(e=>{this.notify({type:"removed",mutation:e})}),q(this,fi).clear(),q(this,ds).clear()})}getAll(){return Array.from(q(this,fi))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>IE(n,r))}findAll(e={}){return this.getAll().filter(n=>IE(e,n))}notify(e){qn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return qn.batch(()=>Promise.all(e.map(n=>n.continue().catch(cs))))}},fi=new WeakMap,ds=new WeakMap,eh=new WeakMap,MN);function gf(t){var e;return(e=t.options.scope)==null?void 0:e.id}function RE(t){return{onFetch:(e,n)=>{var h,f,m,y,x;const r=e.options,s=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],a=((x=e.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const _=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},b=Sj(e.options,e.fetchOptions),w=async(E,T,I)=>{if(g)return Promise.reject();if(T==null&&E.pages.length)return Promise.resolve(E);const C=(()=>{const A={client:e.client,queryKey:e.queryKey,pageParam:T,direction:I?"backward":"forward",meta:e.options.meta};return _(A),A})(),N=await b(C),{maxPages:P}=e.options,R=I?bU:_U;return{pages:R(E.pages,N,P),pageParams:R(E.pageParams,T,P)}};if(s&&i.length){const E=s==="backward",T=E?MU:kE,I={pages:i,pageParams:a},O=T(r,I);l=await w(I,O,E)}else{const E=t??i.length;do{const T=c===0?a[0]??r.initialPageParam:kE(r,l);if(c>0&&T==null)break;l=await w(l,T),c++}while(c<E)}return l};e.options.persister?e.fetchFn=()=>{var g,_;return(_=(g=e.options).persister)==null?void 0:_.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function kE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function MU(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ft,co,uo,oc,ac,ho,lc,cc,LN,LU=(LN=class{constructor(t={}){at(this,Ft);at(this,co);at(this,uo);at(this,oc);at(this,ac);at(this,ho);at(this,lc);at(this,cc);De(this,Ft,t.queryCache||new kU),De(this,co,t.mutationCache||new OU),De(this,uo,t.defaultOptions||{}),De(this,oc,new Map),De(this,ac,new Map),De(this,ho,0)}mount(){Gh(this,ho)._++,q(this,ho)===1&&(De(this,lc,Tj.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,Ft).onFocus())})),De(this,cc,km.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,Ft).onOnline())})))}unmount(){var t,e;Gh(this,ho)._--,q(this,ho)===0&&((t=q(this,lc))==null||t.call(this),De(this,lc,void 0),(e=q(this,cc))==null||e.call(this),De(this,cc,void 0))}isFetching(t){return q(this,Ft).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return q(this,co).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=q(this,Ft).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=q(this,Ft).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(gx(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return q(this,Ft).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=q(this,Ft).get(r.queryHash),i=s==null?void 0:s.state.data,a=pU(e,i);if(a!==void 0)return q(this,Ft).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return qn.batch(()=>q(this,Ft).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=q(this,Ft).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=q(this,Ft);qn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=q(this,Ft);return qn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=qn.batch(()=>q(this,Ft).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(cs).catch(cs)}invalidateQueries(t,e={}){return qn.batch(()=>(q(this,Ft).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=qn.batch(()=>q(this,Ft).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(cs)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(cs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=q(this,Ft).build(this,e);return n.isStaleByTime(gx(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(cs).catch(cs)}fetchInfiniteQuery(t){return t.behavior=RE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(cs).catch(cs)}ensureInfiniteQueryData(t){return t.behavior=RE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return km.isOnline()?q(this,co).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,Ft)}getMutationCache(){return q(this,co)}getDefaultOptions(){return q(this,uo)}setDefaultOptions(t){De(this,uo,t)}setQueryDefaults(t,e){q(this,oc).set(Dd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...q(this,oc).values()],n={};return e.forEach(r=>{Od(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){q(this,ac).set(Dd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...q(this,ac).values()],n={};return e.forEach(r=>{Od(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...q(this,uo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=C0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===I0&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...q(this,uo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){q(this,Ft).clear(),q(this,co).clear()}},Ft=new WeakMap,co=new WeakMap,uo=new WeakMap,oc=new WeakMap,ac=new WeakMap,ho=new WeakMap,lc=new WeakMap,cc=new WeakMap,LN),VU=p.createContext(void 0),FU=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(VU.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Md(){return Md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Md.apply(this,arguments)}var po;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(po||(po={}));const AE="popstate";function UU(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return vx("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Am(s)}return BU(e,n,null,t)}function Kt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jj(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $U(){return Math.random().toString(36).substr(2,8)}function DE(t,e){return{usr:t.state,key:t.key,idx:e}}function vx(t,e,n,r){return n===void 0&&(n=null),Md({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wc(e):e,{state:n,key:e&&e.key||r||$U()})}function Am(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function BU(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=po.Pop,c=null,u=h();u==null&&(u=0,a.replaceState(Md({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function f(){l=po.Pop;let _=h(),b=_==null?null:_-u;u=_,c&&c({action:l,location:g.location,delta:b})}function m(_,b){l=po.Push;let w=vx(g.location,_,b);u=h()+1;let E=DE(w,u),T=g.createHref(w);try{a.pushState(E,"",T)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(T)}i&&c&&c({action:l,location:g.location,delta:1})}function y(_,b){l=po.Replace;let w=vx(g.location,_,b);u=h();let E=DE(w,u),T=g.createHref(w);a.replaceState(E,"",T),i&&c&&c({action:l,location:g.location,delta:0})}function x(_){let b=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof _=="string"?_:Am(_);return w=w.replace(/ $/,"%20"),Kt(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let g={get action(){return l},get location(){return t(s,a)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(AE,f),c=_,()=>{s.removeEventListener(AE,f),c=null}},createHref(_){return e(s,_)},createURL:x,encodeLocation(_){let b=x(_);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:y,go(_){return a.go(_)}};return g}var OE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(OE||(OE={}));function zU(t,e,n){return n===void 0&&(n="/"),WU(t,e,n,!1)}function WU(t,e,n,r){let s=typeof e=="string"?Wc(e):e,i=P0(s.pathname||"/",n);if(i==null)return null;let a=Rj(t);HU(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=n6(i);l=e6(a[c],u,r)}return l}function Rj(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(Kt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Co([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(Kt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Rj(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:ZU(u,i.index),routesMeta:h})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of kj(i.path))s(i,a,c)}),e}function kj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=kj(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function HU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:JU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const qU=/^:[\w-]+$/,GU=3,KU=2,QU=1,YU=10,XU=-2,ME=t=>t==="*";function ZU(t,e){let n=t.split("/"),r=n.length;return n.some(ME)&&(r+=XU),e&&(r+=KU),n.filter(s=>!ME(s)).reduce((s,i)=>s+(qU.test(i)?GU:i===""?QU:YU),r)}function JU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function e6(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=LE({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=LE({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Co([i,f.pathname]),pathnameBase:o6(Co([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Co([i,f.pathnameBase]))}return a}function LE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=t6(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:m,isOptional:y}=h;if(m==="*"){let g=l[f]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[f];return y&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function t6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),jj(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function n6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jj(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function P0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function r6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Wc(t):t;return{pathname:n?n.startsWith("/")?n:s6(n,e):e,search:a6(r),hash:l6(s)}}function s6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function My(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function i6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function j0(t,e){let n=i6(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function R0(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Wc(t):(s=Md({},t),Kt(!s.pathname||!s.pathname.includes("?"),My("?","pathname","search",s)),Kt(!s.pathname||!s.pathname.includes("#"),My("#","pathname","hash",s)),Kt(!s.search||!s.search.includes("#"),My("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=r6(s,l),u=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Co=t=>t.join("/").replace(/\/\/+/g,"/"),o6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),a6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,l6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function c6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Aj=["post","put","patch","delete"];new Set(Aj);const u6=["get",...Aj];new Set(u6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ld(){return Ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ld.apply(this,arguments)}const k0=p.createContext(null),d6=p.createContext(null),Xo=p.createContext(null),Gp=p.createContext(null),ni=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Dj=p.createContext(null);function h6(t,e){let{relative:n}=e===void 0?{}:e;Hc()||Kt(!1);let{basename:r,navigator:s}=p.useContext(Xo),{hash:i,pathname:a,search:l}=Mj(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Co([r,a])),s.createHref({pathname:c,search:l,hash:i})}function Hc(){return p.useContext(Gp)!=null}function Zo(){return Hc()||Kt(!1),p.useContext(Gp).location}function Oj(t){p.useContext(Xo).static||p.useLayoutEffect(t)}function Yn(){let{isDataRoute:t}=p.useContext(ni);return t?C6():f6()}function f6(){Hc()||Kt(!1);let t=p.useContext(k0),{basename:e,future:n,navigator:r}=p.useContext(Xo),{matches:s}=p.useContext(ni),{pathname:i}=Zo(),a=JSON.stringify(j0(s,n.v7_relativeSplatPath)),l=p.useRef(!1);return Oj(()=>{l.current=!0}),p.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=R0(u,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Co([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,a,i,t])}const m6=p.createContext(null);function p6(t){let e=p.useContext(ni).outlet;return e&&p.createElement(m6.Provider,{value:t},e)}function A0(){let{matches:t}=p.useContext(ni),e=t[t.length-1];return e?e.params:{}}function Mj(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=p.useContext(Xo),{matches:s}=p.useContext(ni),{pathname:i}=Zo(),a=JSON.stringify(j0(s,r.v7_relativeSplatPath));return p.useMemo(()=>R0(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function g6(t,e){return y6(t,e)}function y6(t,e,n,r){Hc()||Kt(!1);let{navigator:s}=p.useContext(Xo),{matches:i}=p.useContext(ni),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Zo(),h;if(e){var f;let _=typeof e=="string"?Wc(e):e;c==="/"||(f=_.pathname)!=null&&f.startsWith(c)||Kt(!1),h=_}else h=u;let m=h.pathname||"/",y=m;if(c!=="/"){let _=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=zU(t,{pathname:y}),g=b6(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Co([c,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Co([c,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&g?p.createElement(Gp.Provider,{value:{location:Ld({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:po.Pop}},g):g}function v6(){let t=N6(),e=c6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:s},n):null,null)}const x6=p.createElement(v6,null);class w6 extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(ni.Provider,{value:this.props.routeContext},p.createElement(Dj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _6(t){let{routeContext:e,match:n,children:r}=t,s=p.useContext(k0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(ni.Provider,{value:e},r)}function b6(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||Kt(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:y}=n,x=f.route.loader&&m[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,f,m)=>{let y,x=!1,g=null,_=null;n&&(y=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||x6,c&&(u<0&&m===0?(x=!0,_=null):u===m&&(x=!0,_=f.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,m+1)),w=()=>{let E;return y?E=g:x?E=_:f.route.Component?E=p.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,p.createElement(_6,{match:f,routeContext:{outlet:h,matches:b,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?p.createElement(w6,{location:n.location,revalidation:n.revalidation,component:g,error:y,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var Lj=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Lj||{}),Dm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Dm||{});function E6(t){let e=p.useContext(k0);return e||Kt(!1),e}function S6(t){let e=p.useContext(d6);return e||Kt(!1),e}function T6(t){let e=p.useContext(ni);return e||Kt(!1),e}function Vj(t){let e=T6(),n=e.matches[e.matches.length-1];return n.route.id||Kt(!1),n.route.id}function N6(){var t;let e=p.useContext(Dj),n=S6(Dm.UseRouteError),r=Vj(Dm.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function C6(){let{router:t}=E6(Lj.UseNavigateStable),e=Vj(Dm.UseNavigateStable),n=p.useRef(!1);return Oj(()=>{n.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ld({fromRouteId:e},i)))},[t,e])}function I6(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function P6(t){let{to:e,replace:n,state:r,relative:s}=t;Hc()||Kt(!1);let{future:i,static:a}=p.useContext(Xo),{matches:l}=p.useContext(ni),{pathname:c}=Zo(),u=Yn(),h=R0(e,j0(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(h);return p.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function j6(t){return p6(t.context)}function mt(t){Kt(!1)}function R6(t){let{basename:e="/",children:n=null,location:r,navigationType:s=po.Pop,navigator:i,static:a=!1,future:l}=t;Hc()&&Kt(!1);let c=e.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:a,future:Ld({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Wc(r));let{pathname:h="/",search:f="",hash:m="",state:y=null,key:x="default"}=r,g=p.useMemo(()=>{let _=P0(h,c);return _==null?null:{location:{pathname:_,search:f,hash:m,state:y,key:x},navigationType:s}},[c,h,f,m,y,x,s]);return g==null?null:p.createElement(Xo.Provider,{value:u},p.createElement(Gp.Provider,{children:n,value:g}))}function VE(t){let{children:e,location:n}=t;return g6(xx(e),n)}new Promise(()=>{});function xx(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,s)=>{if(!p.isValidElement(r))return;let i=[...e,s];if(r.type===p.Fragment){n.push.apply(n,xx(r.props.children,i));return}r.type!==mt&&Kt(!1),!r.props.index||!r.props.children||Kt(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=xx(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wx(){return wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wx.apply(this,arguments)}function k6(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function A6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function D6(t,e){return t.button===0&&(!e||e==="_self")&&!A6(t)}function _x(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function O6(t,e){let n=_x(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const M6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],L6="6";try{window.__reactRouterVersion=L6}catch{}const V6="startTransition",FE=pw[V6];function F6(t){let{basename:e,children:n,future:r,window:s}=t,i=p.useRef();i.current==null&&(i.current=UU({window:s,v5Compat:!0}));let a=i.current,[l,c]=p.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},h=p.useCallback(f=>{u&&FE?FE(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>a.listen(h),[a,h]),p.useEffect(()=>I6(r),[r]),p.createElement(R6,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const U6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lt=p.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,m=k6(e,M6),{basename:y}=p.useContext(Xo),x,g=!1;if(typeof u=="string"&&$6.test(u)&&(x=u,U6))try{let E=new URL(window.location.href),T=u.startsWith("//")?new URL(E.protocol+u):new URL(u),I=P0(T.pathname,y);T.origin===E.origin&&I!=null?u=I+T.search+T.hash:g=!0}catch{}let _=h6(u,{relative:s}),b=B6(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function w(E){r&&r(E),E.defaultPrevented||b(E)}return p.createElement("a",wx({},m,{href:x||_,onClick:g||i?r:w,ref:n,target:c}))});var UE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(UE||(UE={}));var $E;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($E||($E={}));function B6(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=Yn(),u=Zo(),h=Mj(t,{relative:a});return p.useCallback(f=>{if(D6(f,n)){f.preventDefault();let m=r!==void 0?r:Am(u)===Am(h);c(t,{replace:m,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,h,r,s,n,t,i,a,l])}function Kp(t){let e=p.useRef(_x(t)),n=p.useRef(!1),r=Zo(),s=p.useMemo(()=>O6(r.search,n.current?null:e.current),[r.search]),i=Yn(),a=p.useCallback((l,c)=>{const u=_x(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,a]}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6=()=>{};var BE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},W6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},Uj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let m=(l&15)<<2|u>>6,y=u&63;c||(y=64,a||(m=64)),r.push(n[h],n[f],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Fj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):W6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||f==null)throw new H6;const m=i<<2|l>>4;if(r.push(m),u!==64){const y=l<<4&240|u>>2;if(r.push(y),f!==64){const x=u<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class H6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q6=function(t){const e=Fj(t);return Uj.encodeByteArray(e,!0)},Om=function(t){return q6(t).replace(/\./g,"")},$j=function(t){try{return Uj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=()=>G6().__FIREBASE_DEFAULTS__,Q6=()=>{if(typeof process>"u"||typeof BE>"u")return;const t=BE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Y6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$j(t[1]);return e&&JSON.parse(e)},Qp=()=>{try{return z6()||K6()||Q6()||Y6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Bj=t=>{var e,n;return(n=(e=Qp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},zj=t=>{const e=Bj(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Wj=()=>{var t;return(t=Qp())==null?void 0:t.config},Hj=t=>{var e;return(e=Qp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function D0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Om(JSON.stringify(n)),Om(JSON.stringify(a)),""].join(".")}const Ju={};function Z6(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ju))Ju[e]?t.emulator.push(e):t.prod.push(e);return t}function J6(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let zE=!1;function O0(t,e){if(typeof window>"u"||typeof document>"u"||!tl(window.location.host)||Ju[t]===e||Ju[t]||zE)return;Ju[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=Z6().prod.length>0;function a(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{zE=!0,a()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=J6(r),y=n("text"),x=document.getElementById(y)||document.createElement("span"),g=n("learnmore"),_=document.getElementById(g)||document.createElement("a"),b=n("preprendIcon"),w=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const E=m.element;l(E),h(_,g);const T=u();c(w,b),E.append(w,x,_,T),document.body.appendChild(E)}i?(x.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($n())}function t9(){var e;const t=(e=Qp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Gj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function r9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function s9(){const t=$n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function i9(){return!t9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kj(){try{return typeof indexedDB=="object"}catch{return!1}}function Qj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function o9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9="FirebaseError";class es extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=a9,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nl.prototype.create)}}class nl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?l9(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new es(s,l,r)}}function l9(t,e){return t.replace(c9,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const c9=/\{\$([^}]+)}/g;function u9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(WE(i)&&WE(a)){if(!Fo(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function WE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Au(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Du(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function d9(t,e){const n=new h9(t,e);return n.subscribe.bind(n)}class h9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");f9(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Ly),s.error===void 0&&(s.error=Ly),s.complete===void 0&&(s.complete=Ly);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ly(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=1e3,p9=2,g9=4*60*60*1e3,y9=.5;function HE(t,e=m9,n=p9){const r=e*Math.pow(n,t),s=Math.round(y9*r*(Math.random()-.5)*2);return Math.min(g9,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class Zr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new X6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(w9(e))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ga){return this.instances.has(e)}getOptions(e=ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:x9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ga){return this.component?this.component.multipleInstances?e:ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function x9(t){return t===ga?void 0:t}function w9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new v9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const b9={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},E9=Ge.INFO,S9={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},T9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=S9[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yp{constructor(e){this.name=e,this._logLevel=E9,this._logHandler=T9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const N9=(t,e)=>e.some(n=>t instanceof n);let qE,GE;function C9(){return qE||(qE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function I9(){return GE||(GE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yj=new WeakMap,bx=new WeakMap,Xj=new WeakMap,Vy=new WeakMap,M0=new WeakMap;function P9(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Io(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Yj.set(n,t)}).catch(()=>{}),M0.set(e,t),e}function j9(t){if(bx.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});bx.set(t,e)}let Ex={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xj.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Io(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function R9(t){Ex=t(Ex)}function k9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fy(this),e,...n);return Xj.set(r,e.sort?e.sort():[e]),Io(r)}:I9().includes(t)?function(...e){return t.apply(Fy(this),e),Io(Yj.get(this))}:function(...e){return Io(t.apply(Fy(this),e))}}function A9(t){return typeof t=="function"?k9(t):(t instanceof IDBTransaction&&j9(t),N9(t,C9())?new Proxy(t,Ex):t)}function Io(t){if(t instanceof IDBRequest)return P9(t);if(Vy.has(t))return Vy.get(t);const e=A9(t);return e!==t&&(Vy.set(t,e),M0.set(e,t)),e}const Fy=t=>M0.get(t);function Zj(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=Io(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Io(a.result),c.oldVersion,c.newVersion,Io(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const D9=["get","getKey","getAll","getAllKeys","count"],O9=["put","add","delete","clear"],Uy=new Map;function KE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Uy.get(e))return Uy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=O9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||D9.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Uy.set(e,i),i}R9(t=>({...t,get:(e,n,r)=>KE(e,n)||t.get(e,n,r),has:(e,n)=>!!KE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(L9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function L9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sx="@firebase/app",QE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new Yp("@firebase/app"),V9="@firebase/app-compat",F9="@firebase/analytics-compat",U9="@firebase/analytics",$9="@firebase/app-check-compat",B9="@firebase/app-check",z9="@firebase/auth",W9="@firebase/auth-compat",H9="@firebase/database",q9="@firebase/data-connect",G9="@firebase/database-compat",K9="@firebase/functions",Q9="@firebase/functions-compat",Y9="@firebase/installations",X9="@firebase/installations-compat",Z9="@firebase/messaging",J9="@firebase/messaging-compat",e$="@firebase/performance",t$="@firebase/performance-compat",n$="@firebase/remote-config",r$="@firebase/remote-config-compat",s$="@firebase/storage",i$="@firebase/storage-compat",o$="@firebase/firestore",a$="@firebase/ai",l$="@firebase/firestore-compat",c$="firebase",u$="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="[DEFAULT]",d$={[Sx]:"fire-core",[V9]:"fire-core-compat",[U9]:"fire-analytics",[F9]:"fire-analytics-compat",[B9]:"fire-app-check",[$9]:"fire-app-check-compat",[z9]:"fire-auth",[W9]:"fire-auth-compat",[H9]:"fire-rtdb",[q9]:"fire-data-connect",[G9]:"fire-rtdb-compat",[K9]:"fire-fn",[Q9]:"fire-fn-compat",[Y9]:"fire-iid",[X9]:"fire-iid-compat",[Z9]:"fire-fcm",[J9]:"fire-fcm-compat",[e$]:"fire-perf",[t$]:"fire-perf-compat",[n$]:"fire-rc",[r$]:"fire-rc-compat",[s$]:"fire-gcs",[i$]:"fire-gcs-compat",[o$]:"fire-fst",[l$]:"fire-fst-compat",[a$]:"fire-vertex","fire-js":"fire-js",[c$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=new Map,h$=new Map,Nx=new Map;function YE(t,e){try{t.container.addComponent(e)}catch(n){ji.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Es(t){const e=t.name;if(Nx.has(e))return ji.debug(`There were multiple attempts to register component ${e}.`),!1;Nx.set(e,t);for(const n of Mm.values())YE(n,t);for(const n of h$.values())YE(n,t);return!0}function Jo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ir(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Po=new nl("app","Firebase",f$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Po.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=u$;function Jj(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Tx,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Po.create("bad-app-name",{appName:String(s)});if(n||(n=Wj()),!n)throw Po.create("no-options");const i=Mm.get(s);if(i){if(Fo(n,i.options)&&Fo(r,i.config))return i;throw Po.create("duplicate-app",{appName:s})}const a=new _9(s);for(const c of Nx.values())a.addComponent(c);const l=new m$(n,r,a);return Mm.set(s,l),l}function Xp(t=Tx){const e=Mm.get(t);if(!e&&t===Tx&&Wj())return Jj();if(!e)throw Po.create("no-app",{appName:t});return e}function mr(t,e,n){let r=d$[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ji.warn(a.join(" "));return}Es(new Zr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$="firebase-heartbeat-database",g$=1,Vd="firebase-heartbeat-store";let $y=null;function eR(){return $y||($y=Zj(p$,g$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Po.create("idb-open",{originalErrorMessage:t.message})})),$y}async function y$(t){try{const n=(await eR()).transaction(Vd),r=await n.objectStore(Vd).get(tR(t));return await n.done,r}catch(e){if(e instanceof es)ji.warn(e.message);else{const n=Po.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ji.warn(n.message)}}}async function XE(t,e){try{const r=(await eR()).transaction(Vd,"readwrite");await r.objectStore(Vd).put(e,tR(t)),await r.done}catch(n){if(n instanceof es)ji.warn(n.message);else{const r=Po.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ji.warn(r.message)}}}function tR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$=1024,x$=30;class w${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new b$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ZE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>x$){const a=E$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ji.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ZE(),{heartbeatsToSend:r,unsentEntries:s}=_$(this._heartbeatsCache.heartbeats),i=Om(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ji.warn(n),""}}}function ZE(){return new Date().toISOString().substring(0,10)}function _$(t,e=v$){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),JE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),JE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class b${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kj()?Qj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await y$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return XE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return XE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function JE(t){return Om(JSON.stringify({version:2,heartbeats:t})).length}function E$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S$(t){Es(new Zr("platform-logger",e=>new M9(e),"PRIVATE")),Es(new Zr("heartbeat",e=>new w$(e),"PRIVATE")),mr(Sx,QE,t),mr(Sx,QE,"esm2020"),mr("fire-js","")}S$("");function nR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T$=nR,rR=new nl("auth","Firebase",nR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=new Yp("@firebase/auth");function N$(t,...e){Lm.logLevel<=Ge.WARN&&Lm.warn(`Auth (${rl}): ${t}`,...e)}function zf(t,...e){Lm.logLevel<=Ge.ERROR&&Lm.error(`Auth (${rl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(t,...e){throw L0(t,...e)}function Ir(t,...e){return L0(t,...e)}function sR(t,e,n){const r={...T$(),[e]:n};return new nl("auth","Firebase",r).create(e,{appName:t.name})}function Hs(t){return sR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function L0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rR.create(t,...e)}function me(t,e,...n){if(!t)throw L0(e,...n)}function yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zf(e),new Error(e)}function Ri(t,e){t||yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function iR(){return eS()==="http:"||eS()==="https:"}function eS(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iR()||Gj()||"connection"in navigator)?navigator.onLine:!0}function I$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ri(n>e,"Short delay should be less than long delay!"),this.isMobile=e9()||r9()}get(){return C$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(t,e){Ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],R$=new dh(3e4,6e4);function yr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Or(t,e,n,r,s={}){return aR(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=qc({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return n9()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&tl(t.emulatorConfig.host)&&(u.credentials="include"),oR.fetch()(await lR(t,t.config.apiHost,n,l),u)})}async function aR(t,e,n){t._canInitEmulator=!1;const r={...P$,...e};try{const s=new A$(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Ou(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ou(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Ou(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Ou(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw sR(t,h,u);Ss(t,h)}}catch(s){if(s instanceof es)throw s;Ss(t,"network-request-failed",{message:String(s)})}}async function ea(t,e,n,r,s={}){const i=await Or(t,e,n,r,s);return"mfaPendingCredential"in i&&Ss(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function lR(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?V0(t.config,s):`${t.config.apiScheme}://${s}`;return j$.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function k$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class A${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ir(this.auth,"network-request-failed")),R$.get())})}}function Ou(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ir(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t){return t!==void 0&&t.getResponse!==void 0}function nS(t){return t!==void 0&&t.enterprise!==void 0}class cR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return k$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D$(t){return(await Or(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function uR(t,e){return Or(t,"GET","/v2/recaptchaConfig",yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O$(t,e){return Or(t,"POST","/v1/accounts:delete",e)}async function Vm(t,e){return Or(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function M$(t,e=!1){const n=Ot(t),r=await n.getIdToken(e),s=F0(r);me(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ed(By(s.auth_time)),issuedAtTime:ed(By(s.iat)),expirationTime:ed(By(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function By(t){return Number(t)*1e3}function F0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zf("JWT malformed, contained fewer than 3 sections"),null;try{const s=$j(n);return s?JSON.parse(s):(zf("Failed to decode base64 JWT payload"),null)}catch(s){return zf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function rS(t){const e=F0(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof es&&L$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function L$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ed(this.lastLoginAt),this.creationTime=ed(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fm(t){var f;const e=t.auth,n=await t.getIdToken(),r=await _c(t,Vm(e,{idToken:n}));me(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?dR(s.providerUserInfo):[],a=U$(t.providerData,i),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ix(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function F$(t){const e=Ot(t);await Fm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function U$(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function dR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $$(t,e){const n=await aR(t,{},async()=>{const r=qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await lR(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&tl(t.emulatorConfig.host)&&(c.credentials="include"),oR.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function B$(t,e){return Or(t,"POST","/v2/accounts:revokeToken",yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");const n=rS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await $$(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new Kl;return r&&(me(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(me(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(me(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kl,this.toJSON())}_performRefresh(){return yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gs{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new V$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ix(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await _c(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return M$(this,e)}reload(){return F$(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(Hs(this.auth));const e=await this.getIdToken();return await _c(this,O$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:y,providerData:x,stsTokenManager:g}=n;me(f&&g,e,"internal-error");const _=Kl.fromJSON(this.name,g);me(typeof f=="string",e,"internal-error"),Ki(r,e.name),Ki(s,e.name),me(typeof m=="boolean",e,"internal-error"),me(typeof y=="boolean",e,"internal-error"),Ki(i,e.name),Ki(a,e.name),Ki(l,e.name),Ki(c,e.name),Ki(u,e.name),Ki(h,e.name);const b=new gs({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:y,photoURL:a,phoneNumber:i,tenantId:l,stsTokenManager:_,createdAt:u,lastLoginAt:h});return x&&Array.isArray(x)&&(b.providerData=x.map(w=>({...w}))),c&&(b._redirectEventId=c),b}static async _fromIdTokenResponse(e,n,r=!1){const s=new Kl;s.updateFromServerResponse(n);const i=new gs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Fm(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];me(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?dR(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Kl;l.updateFromIdToken(r);const c=new gs({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Ix(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=new Map;function vi(t){Ri(t instanceof Function,"Expected a class definition");let e=sS.get(t);return e?(Ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hR.type="NONE";const iS=hR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ql{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Wf(this.userKey,s.apiKey,i),this.fullPersistenceKey=Wf("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vm(this.auth,{idToken:e}).catch(()=>{});return n?gs._fromGetAccountInfoResponse(this.auth,n,e):null}return gs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ql(vi(iS),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||vi(iS);const a=Wf(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const h=await u._get(a);if(h){let f;if(typeof h=="string"){const m=await Vm(e,{idToken:h}).catch(()=>{});if(!m)break;f=await gs._fromGetAccountInfoResponse(e,m,h)}else f=gs._fromJSON(e,h);u!==i&&(l=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Ql(i,e,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new Ql(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vR(e))return"Blackberry";if(xR(e))return"Webos";if(mR(e))return"Safari";if((e.includes("chrome/")||pR(e))&&!e.includes("edge/"))return"Chrome";if(yR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function fR(t=$n()){return/firefox\//i.test(t)}function mR(t=$n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pR(t=$n()){return/crios\//i.test(t)}function gR(t=$n()){return/iemobile/i.test(t)}function yR(t=$n()){return/android/i.test(t)}function vR(t=$n()){return/blackberry/i.test(t)}function xR(t=$n()){return/webos/i.test(t)}function U0(t=$n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function z$(t=$n()){var e;return U0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function W$(){return s9()&&document.documentMode===10}function wR(t=$n()){return U0(t)||yR(t)||xR(t)||vR(t)||/windows phone/i.test(t)||gR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t,e=[]){let n;switch(t){case"Browser":n=oS($n());break;case"Worker":n=`${oS($n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q$(t,e={}){return Or(t,"GET","/v2/passwordPolicy",yr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$=6;class K${constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??G$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aS(this),this.idTokenSubscription=new aS(this),this.beforeStateQueue=new H$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vi(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ql.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vm(this,{idToken:e}),r=await gs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(ir(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=I$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ir(this.app))return Promise.reject(Hs(this));const n=e?Ot(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(Hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ir(this.app)?Promise.reject(Hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await q$(this),n=new K$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await B$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vi(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await Ql.create(this,[vi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_R(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&N$(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ri(t){return Ot(t)}class aS{constructor(e){this.auth=e,this.observer=null,this.addObserver=d9(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y$(t){hh=t}function $0(t){return hh.loadJS(t)}function X$(){return hh.recaptchaV2Script}function Z$(){return hh.recaptchaEnterpriseScript}function J$(){return hh.gapiScript}function bR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=500,tB=6e4,yf=1e12;class nB{constructor(e){this.auth=e,this.counter=yf,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new iB(e,this.auth.name,n||{})),this.counter++,r}reset(e){var r;const n=e||yf;(r=this._widgets.get(n))==null||r.delete(),this._widgets.delete(n)}getResponse(e){var r;const n=e||yf;return((r=this._widgets.get(n))==null?void 0:r.getResponse())||""}async execute(e){var r;const n=e||yf;return(r=this._widgets.get(n))==null||r.execute(),""}}class rB{constructor(){this.enterprise=new sB}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class sB{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class iB{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;me(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=oB(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},tB)},eB))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function oB(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const aB="recaptcha-enterprise",td="NO_RECAPTCHA";class ER{constructor(e){this.type=aB,this.auth=ri(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{uR(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new cR(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;nS(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(td)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rB().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&nS(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Z$();c.length!==0&&(c+=l),$0(c).then(()=>{s(l,i,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function Su(t,e,n,r=!1,s=!1){const i=new ER(t);let a;if(s)a=td;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Yl(t,e,n,r,s){var i,a;if(s==="EMAIL_PASSWORD_PROVIDER")if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Su(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Su(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)});else if(s==="PHONE_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("PHONE_PROVIDER")){const l=await Su(t,e,n);return r(t,l).catch(async c=>{var u;if(((u=t._getRecaptchaConfig())==null?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const h=await Su(t,e,n,!1,!0);return r(t,h)}return Promise.reject(c)})}else{const l=await Su(t,e,n,!1,!0);return r(t,l)}else return Promise.reject(s+" provider is not supported.")}async function lB(t){const e=ri(t),n=await uR(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new cR(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new ER(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cB(t,e){const n=Jo(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Fo(i,e??{}))return s;Ss(s,"already-initialized")}return n.initialize({options:e})}function uB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function dB(t,e,n){const r=ri(t);me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=SR(e),{host:a,port:l}=hB(e),c=l===null?"":`:${l}`,u={url:`${i}//${a}${c}/`},h=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),me(Fo(u,r.config.emulator)&&Fo(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,tl(a)?(D0(`${i}//${a}${c}`),O0("Auth",!0)):fB()}function SR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hB(t){const e=SR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:lS(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:lS(a)}}}function lS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,n){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}async function mB(t,e){return Or(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pB(t,e){return ea(t,"POST","/v1/accounts:signInWithPassword",yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gB(t,e){return ea(t,"POST","/v1/accounts:signInWithEmailLink",yr(t,e))}async function yB(t,e){return ea(t,"POST","/v1/accounts:signInWithEmailLink",yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd extends Zp{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Fd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yl(e,n,"signInWithPassword",pB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return gB(e,{email:this._email,oobCode:this._password});default:Ss(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yl(e,r,"signUpPassword",mB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return yB(e,{idToken:n,email:this._email,oobCode:this._password});default:Ss(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(t,e){return ea(t,"POST","/v1/accounts:signInWithIdp",yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB="http://localhost";class Ua extends Zp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ss("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const a=new Ua(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Xl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xl(e,n)}buildRequest(){const e={requestUri:vB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cS(t,e){return Or(t,"POST","/v1/accounts:sendVerificationCode",yr(t,e))}async function xB(t,e){return ea(t,"POST","/v1/accounts:signInWithPhoneNumber",yr(t,e))}async function wB(t,e){const n=await ea(t,"POST","/v1/accounts:signInWithPhoneNumber",yr(t,e));if(n.temporaryProof)throw Ou(t,"account-exists-with-different-credential",n);return n}const _B={USER_NOT_FOUND:"user-not-found"};async function bB(t,e){const n={...e,operation:"REAUTH"};return ea(t,"POST","/v1/accounts:signInWithPhoneNumber",yr(t,n),_B)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends Zp{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new nd({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new nd({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return xB(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return wB(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return bB(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i}=e;return!r&&!n&&!s&&!i?null:new nd({verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SB(t){const e=Au(Du(t)).link,n=e?Au(Du(e)).deep_link_id:null,r=Au(Du(t)).deep_link_id;return(r?Au(Du(r)).link:null)||r||n||e||t}class B0{constructor(e){const n=Au(Du(e)),r=n.apiKey??null,s=n.oobCode??null,i=EB(n.mode??null);me(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=SB(e);try{return new B0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(){this.providerId=Gc.PROVIDER_ID}static credential(e,n){return Fd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=B0.parseLink(n);return me(r,"argument-error"),Fd._fromEmailAndCode(e,r.code,r.tenantId)}}Gc.PROVIDER_ID="password";Gc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Gc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends TR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends fh{constructor(){super("facebook.com")}static credential(e){return Ua._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.FACEBOOK_SIGN_IN_METHOD="facebook.com";ro.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends fh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ua._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return so.credential(n,r)}catch{return null}}}so.GOOGLE_SIGN_IN_METHOD="google.com";so.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends fh{constructor(){super("github.com")}static credential(e){return Ua._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.GITHUB_SIGN_IN_METHOD="github.com";io.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends fh{constructor(){super("twitter.com")}static credential(e,n){return Ua._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return oo.credential(n,r)}catch{return null}}}oo.TWITTER_SIGN_IN_METHOD="twitter.com";oo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TB(t,e){return ea(t,"POST","/v1/accounts:signUp",yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await gs._fromIdTokenResponse(e,r,s),a=uS(r);return new $a({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=uS(r);return new $a({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function uS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um extends es{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Um.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Um(e,n,r,s)}}function NR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Um._fromErrorAndOperation(t,i,e,r):i})}async function NB(t,e,n=!1){const r=await _c(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $a._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CB(t,e,n=!1){const{auth:r}=t;if(ir(r.app))return Promise.reject(Hs(r));const s="reauthenticate";try{const i=await _c(t,NR(r,s,e,t),n);me(i.idToken,r,"internal-error");const a=F0(i.idToken);me(a,r,"internal-error");const{sub:l}=a;return me(t.uid===l,r,"user-mismatch"),$a._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Ss(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(t,e,n=!1){if(ir(t.app))return Promise.reject(Hs(t));const r="signIn",s=await NR(t,r,e),i=await $a._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function IR(t,e){return CR(ri(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR(t){const e=ri(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IB(t,e,n){if(ir(t.app))return Promise.reject(Hs(t));const r=ri(t),a=await Yl(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TB,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&PR(t),c}),l=await $a._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function PB(t,e,n){return ir(t.app)?Promise.reject(Hs(t)):IR(Ot(t),Gc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&PR(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jB(t,e){return Or(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ot(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await _c(r,jB(r.auth,i));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function RB(t,e,n,r){return Ot(t).onIdTokenChanged(e,n,r)}function kB(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}function AB(t,e,n,r){return Ot(t).onAuthStateChanged(e,n,r)}function DB(t){return Ot(t).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t,e){return Or(t,"POST","/v2/accounts/mfaEnrollment:start",yr(t,e))}const $m="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($m,"1"),this.storage.removeItem($m),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB=1e3,MB=10;class kR extends RR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);W$()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,MB):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},OB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kR.type="LOCAL";const LB=kR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR extends RR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AR.type="SESSION";const DR=AR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Jp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async u=>u(n.origin,i)),c=await VB(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const u=z0("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return window}function UB(t){Zt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(){return typeof Zt().WorkerGlobalScope<"u"&&typeof Zt().importScripts=="function"}async function $B(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function zB(){return W0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="firebaseLocalStorageDb",WB=1,Bm="firebaseLocalStorage",MR="fbase_key";class mh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function eg(t,e){return t.transaction([Bm],e?"readwrite":"readonly").objectStore(Bm)}function HB(){const t=indexedDB.deleteDatabase(OR);return new mh(t).toPromise()}function Px(){const t=indexedDB.open(OR,WB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bm,{keyPath:MR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bm)?e(r):(r.close(),await HB(),e(await Px()))})})}async function hS(t,e,n){const r=eg(t,!0).put({[MR]:e,value:n});return new mh(r).toPromise()}async function qB(t,e){const n=eg(t,!1).get(e),r=await new mh(n).toPromise();return r===void 0?null:r.value}function fS(t,e){const n=eg(t,!0).delete(e);return new mh(n).toPromise()}const GB=800,KB=3;class LR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Px(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>KB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return W0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jp._getInstance(zB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await $B(),!this.activeServiceWorker)return;this.sender=new FB(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Px();return await hS(e,$m,"1"),await fS(e,$m),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>qB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=eg(s,!1).getAll();return new mh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LR.type="LOCAL";const QB=LR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t,e){return Or(t,"POST","/v2/accounts/mfaSignIn:start",yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=bR("rcb"),YB=new dh(3e4,6e4);class XB{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=Zt().grecaptcha)!=null&&e.render)}load(e,n=""){return me(ZB(n),e,"argument-error"),this.shouldResolveImmediately(n)&&tS(Zt().grecaptcha)?Promise.resolve(Zt().grecaptcha):new Promise((r,s)=>{const i=Zt().setTimeout(()=>{s(Ir(e,"network-request-failed"))},YB.get());Zt()[zy]=()=>{Zt().clearTimeout(i),delete Zt()[zy];const l=Zt().grecaptcha;if(!l||!tS(l)){s(Ir(e,"internal-error"));return}const c=l.render;l.render=(u,h)=>{const f=c(u,h);return this.counter++,f},this.hostLanguage=n,r(l)};const a=`${X$()}?${qc({onload:zy,render:"explicit",hl:n})}`;$0(a).catch(()=>{clearTimeout(i),s(Ir(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!((n=Zt().grecaptcha)!=null&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function ZB(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class JB{async load(e){return new nB(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="recaptcha",e8={theme:"light",type:"image"};class t8{constructor(e,n,r={...e8}){this.parameters=r,this.type=rd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ri(e),this.isInvisible=this.parameters.size==="invisible",me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof n=="string"?document.getElementById(n):n;me(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new JB:new XB,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(s=>{const i=a=>{a&&(this.tokenChangeListeners.delete(i),s(a))};this.tokenChangeListeners.add(i),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Zt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){me(iR()&&!W0(),this.auth,"internal-error"),await n8(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await D$(this.auth);me(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function n8(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=nd._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function s8(t,e,n){if(ir(t.app))return Promise.reject(Hs(t));const r=ri(t),s=await i8(r,e,Ot(n));return new r8(s,i=>IR(r,i))}async function i8(t,e,n){var r;if(!t._getRecaptchaConfig())try{await lB(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const i=s.session;if("phoneNumber"in s){me(i.type==="enroll",t,"internal-error");const a={idToken:i.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Yl(t,a,"mfaSmsEnrollment",async(h,f)=>{if(f.phoneEnrollmentInfo.captchaResponse===td){me((n==null?void 0:n.type)===rd,h,"argument-error");const m=await Wy(h,f,n);return dS(h,m)}return dS(h,f)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneSessionInfo.sessionInfo}else{me(i.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)==null?void 0:r.uid)||s.multiFactorUid;me(a,t,"missing-multi-factor-info");const l={mfaPendingCredential:i.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Yl(t,l,"mfaSmsSignIn",async(f,m)=>{if(m.phoneSignInInfo.captchaResponse===td){me((n==null?void 0:n.type)===rd,f,"argument-error");const y=await Wy(f,m,n);return mS(f,y)}return mS(f,m)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).phoneResponseInfo.sessionInfo}}else{const i={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Yl(t,i,"sendVerificationCode",async(u,h)=>{if(h.captchaResponse===td){me((n==null?void 0:n.type)===rd,u,"argument-error");const f=await Wy(u,h,n);return cS(u,f)}return cS(u,h)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).sessionInfo}}finally{n==null||n._reset()}}async function Wy(t,e,n){me(n.type===rd,t,"argument-error");const r=await n.verify();me(typeof r=="string",t,"argument-error");const s={...e};if("phoneEnrollmentInfo"in s){const i=s.phoneEnrollmentInfo.phoneNumber,a=s.phoneEnrollmentInfo.captchaResponse,l=s.phoneEnrollmentInfo.clientType,c=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:i,recaptchaToken:r,captchaResponse:a,clientType:l,recaptchaVersion:c}}),s}else if("phoneSignInInfo"in s){const i=s.phoneSignInInfo.captchaResponse,a=s.phoneSignInInfo.clientType,l=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:i,clientType:a,recaptchaVersion:l}}),s}else return Object.assign(s,{recaptchaToken:r}),s}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(t,e){return e?vi(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0 extends Zp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function a8(t){return CR(t.auth,new H0(t),t.bypassAuthState)}function l8(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),CB(n,new H0(t),t.bypassAuthState)}async function c8(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),NB(n,new H0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a8;case"linkViaPopup":case"linkViaRedirect":return c8;case"reauthViaPopup":case"reauthViaRedirect":return l8;default:Ss(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8=new dh(2e3,1e4);class Fl extends VR{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Fl.currentPopupAction&&Fl.currentPopupAction.cancel(),Fl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=z0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u8.get())};e()}}Fl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8="pendingRedirect",Hf=new Map;class h8 extends VR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Hf.get(this.auth._key());if(!e){try{const r=await f8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Hf.set(this.auth._key(),e)}return this.bypassAuthState||Hf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function f8(t,e){const n=g8(e),r=p8(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function m8(t,e){Hf.set(t._key(),e)}function p8(t){return vi(t._redirectPersistence)}function g8(t){return Wf(d8,t.config.apiKey,t.name)}async function y8(t,e,n=!1){if(ir(t.app))return Promise.reject(Hs(t));const r=ri(t),s=o8(r,e),a=await new h8(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8=10*60*1e3;class x8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!w8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!FR(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ir(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=v8&&this.cachedEventUids.clear(),this.cachedEventUids.has(pS(e))}saveEventToCache(e){this.cachedEventUids.add(pS(e)),this.lastProcessedEventTime=Date.now()}}function pS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function w8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _8(t,e={}){return Or(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E8=/^https?/;async function S8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _8(t);for(const n of e)try{if(T8(n))return}catch{}Ss(t,"unauthorized-domain")}function T8(t){const e=Cx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!E8.test(n))return!1;if(b8.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8=new dh(3e4,6e4);function gS(){const t=Zt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function C8(t){return new Promise((e,n)=>{var s,i,a;function r(){gS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gS(),n(Ir(t,"network-request-failed"))},timeout:N8.get()})}if((i=(s=Zt().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((a=Zt().gapi)!=null&&a.load)r();else{const l=bR("iframefcb");return Zt()[l]=()=>{gapi.load?r():n(Ir(t,"network-request-failed"))},$0(`${J$()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw qf=null,e})}let qf=null;function I8(t){return qf=qf||C8(t),qf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8=new dh(5e3,15e3),j8="__/auth/iframe",R8="emulator/auth/iframe",k8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},A8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function D8(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?V0(e,R8):`https://${t.config.authDomain}/${j8}`,r={apiKey:e.apiKey,appName:t.name,v:rl},s=A8.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${qc(r).slice(1)}`}async function O8(t){const e=await I8(t),n=Zt().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:D8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k8,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=Ir(t,"network-request-failed"),l=Zt().setTimeout(()=>{i(a)},P8.get());function c(){Zt().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},L8=500,V8=600,F8="_blank",U8="http://localhost";class yS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $8(t,e,n,r=L8,s=V8){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...M8,width:r.toString(),height:s.toString(),top:i,left:a},u=$n().toLowerCase();n&&(l=pR(u)?F8:n),fR(u)&&(e=e||U8,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[y,x])=>`${m}${y}=${x},`,"");if(z$(u)&&l!=="_self")return B8(e||"",l),new yS(null);const f=window.open(e||"",l,h);me(f,t,"popup-blocked");try{f.focus()}catch{}return new yS(f)}function B8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8="__/auth/handler",W8="emulator/auth/handler",H8=encodeURIComponent("fac");async function vS(t,e,n,r,s,i){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:rl,eventId:s};if(e instanceof TR){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",u9(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))a[h]=f}if(e instanceof fh){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),u=c?`#${H8}=${encodeURIComponent(c)}`:"";return`${q8(t)}?${qc(l).slice(1)}${u}`}function q8({config:t}){return t.emulator?V0(t,W8):`https://${t.authDomain}/${z8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="webStorageSupport";class G8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DR,this._completeRedirectFn=y8,this._overrideRedirectResult=m8}async _openPopup(e,n,r,s){var a;Ri((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await vS(e,n,r,Cx(),s);return $8(e,i,z0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await vS(e,n,r,Cx(),s);return UB(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ri(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await O8(e),r=new x8(e);return n.register("authEvent",s=>(me(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hy,{type:Hy},s=>{var a;const i=(a=s==null?void 0:s[0])==null?void 0:a[Hy];i!==void 0&&n(!!i),Ss(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=S8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wR()||mR()||U0()}}const K8=G8;var xS="@firebase/auth",wS="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function X8(t){Es(new Zr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;me(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_R(t)},u=new Q$(r,s,i,c);return uB(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Es(new Zr("auth-internal",e=>{const n=ri(e.getProvider("auth").getImmediate());return(r=>new Q8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(xS,wS,Y8(t)),mr(xS,wS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8=5*60,J8=Hj("authIdTokenMaxAge")||Z8;let _S=null;const ez=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>J8)return;const s=n==null?void 0:n.token;_S!==s&&(_S=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function tz(t=Xp()){const e=Jo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=cB(t,{popupRedirectResolver:K8,persistence:[QB,LB,DR]}),r=Hj("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=ez(i.toString());kB(n,a,()=>a(n.currentUser)),RB(n,l=>a(l))}}const s=Bj("auth");return s&&dB(n,`http://${s}`),n}function nz(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Y$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Ir("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",nz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});X8("Browser");var bS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jo,UR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,N){function P(){}P.prototype=N.prototype,C.D=N.prototype,C.prototype=new P,C.prototype.constructor=C,C.C=function(R,A,D){for(var j=Array(arguments.length-2),B=2;B<arguments.length;B++)j[B-2]=arguments[B];return N.prototype[A].apply(R,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,N,P){P||(P=0);var R=Array(16);if(typeof N=="string")for(var A=0;16>A;++A)R[A]=N.charCodeAt(P++)|N.charCodeAt(P++)<<8|N.charCodeAt(P++)<<16|N.charCodeAt(P++)<<24;else for(A=0;16>A;++A)R[A]=N[P++]|N[P++]<<8|N[P++]<<16|N[P++]<<24;N=C.g[0],P=C.g[1],A=C.g[2];var D=C.g[3],j=N+(D^P&(A^D))+R[0]+3614090360&4294967295;N=P+(j<<7&4294967295|j>>>25),j=D+(A^N&(P^A))+R[1]+3905402710&4294967295,D=N+(j<<12&4294967295|j>>>20),j=A+(P^D&(N^P))+R[2]+606105819&4294967295,A=D+(j<<17&4294967295|j>>>15),j=P+(N^A&(D^N))+R[3]+3250441966&4294967295,P=A+(j<<22&4294967295|j>>>10),j=N+(D^P&(A^D))+R[4]+4118548399&4294967295,N=P+(j<<7&4294967295|j>>>25),j=D+(A^N&(P^A))+R[5]+1200080426&4294967295,D=N+(j<<12&4294967295|j>>>20),j=A+(P^D&(N^P))+R[6]+2821735955&4294967295,A=D+(j<<17&4294967295|j>>>15),j=P+(N^A&(D^N))+R[7]+4249261313&4294967295,P=A+(j<<22&4294967295|j>>>10),j=N+(D^P&(A^D))+R[8]+1770035416&4294967295,N=P+(j<<7&4294967295|j>>>25),j=D+(A^N&(P^A))+R[9]+2336552879&4294967295,D=N+(j<<12&4294967295|j>>>20),j=A+(P^D&(N^P))+R[10]+4294925233&4294967295,A=D+(j<<17&4294967295|j>>>15),j=P+(N^A&(D^N))+R[11]+2304563134&4294967295,P=A+(j<<22&4294967295|j>>>10),j=N+(D^P&(A^D))+R[12]+1804603682&4294967295,N=P+(j<<7&4294967295|j>>>25),j=D+(A^N&(P^A))+R[13]+4254626195&4294967295,D=N+(j<<12&4294967295|j>>>20),j=A+(P^D&(N^P))+R[14]+2792965006&4294967295,A=D+(j<<17&4294967295|j>>>15),j=P+(N^A&(D^N))+R[15]+1236535329&4294967295,P=A+(j<<22&4294967295|j>>>10),j=N+(A^D&(P^A))+R[1]+4129170786&4294967295,N=P+(j<<5&4294967295|j>>>27),j=D+(P^A&(N^P))+R[6]+3225465664&4294967295,D=N+(j<<9&4294967295|j>>>23),j=A+(N^P&(D^N))+R[11]+643717713&4294967295,A=D+(j<<14&4294967295|j>>>18),j=P+(D^N&(A^D))+R[0]+3921069994&4294967295,P=A+(j<<20&4294967295|j>>>12),j=N+(A^D&(P^A))+R[5]+3593408605&4294967295,N=P+(j<<5&4294967295|j>>>27),j=D+(P^A&(N^P))+R[10]+38016083&4294967295,D=N+(j<<9&4294967295|j>>>23),j=A+(N^P&(D^N))+R[15]+3634488961&4294967295,A=D+(j<<14&4294967295|j>>>18),j=P+(D^N&(A^D))+R[4]+3889429448&4294967295,P=A+(j<<20&4294967295|j>>>12),j=N+(A^D&(P^A))+R[9]+568446438&4294967295,N=P+(j<<5&4294967295|j>>>27),j=D+(P^A&(N^P))+R[14]+3275163606&4294967295,D=N+(j<<9&4294967295|j>>>23),j=A+(N^P&(D^N))+R[3]+4107603335&4294967295,A=D+(j<<14&4294967295|j>>>18),j=P+(D^N&(A^D))+R[8]+1163531501&4294967295,P=A+(j<<20&4294967295|j>>>12),j=N+(A^D&(P^A))+R[13]+2850285829&4294967295,N=P+(j<<5&4294967295|j>>>27),j=D+(P^A&(N^P))+R[2]+4243563512&4294967295,D=N+(j<<9&4294967295|j>>>23),j=A+(N^P&(D^N))+R[7]+1735328473&4294967295,A=D+(j<<14&4294967295|j>>>18),j=P+(D^N&(A^D))+R[12]+2368359562&4294967295,P=A+(j<<20&4294967295|j>>>12),j=N+(P^A^D)+R[5]+4294588738&4294967295,N=P+(j<<4&4294967295|j>>>28),j=D+(N^P^A)+R[8]+2272392833&4294967295,D=N+(j<<11&4294967295|j>>>21),j=A+(D^N^P)+R[11]+1839030562&4294967295,A=D+(j<<16&4294967295|j>>>16),j=P+(A^D^N)+R[14]+4259657740&4294967295,P=A+(j<<23&4294967295|j>>>9),j=N+(P^A^D)+R[1]+2763975236&4294967295,N=P+(j<<4&4294967295|j>>>28),j=D+(N^P^A)+R[4]+1272893353&4294967295,D=N+(j<<11&4294967295|j>>>21),j=A+(D^N^P)+R[7]+4139469664&4294967295,A=D+(j<<16&4294967295|j>>>16),j=P+(A^D^N)+R[10]+3200236656&4294967295,P=A+(j<<23&4294967295|j>>>9),j=N+(P^A^D)+R[13]+681279174&4294967295,N=P+(j<<4&4294967295|j>>>28),j=D+(N^P^A)+R[0]+3936430074&4294967295,D=N+(j<<11&4294967295|j>>>21),j=A+(D^N^P)+R[3]+3572445317&4294967295,A=D+(j<<16&4294967295|j>>>16),j=P+(A^D^N)+R[6]+76029189&4294967295,P=A+(j<<23&4294967295|j>>>9),j=N+(P^A^D)+R[9]+3654602809&4294967295,N=P+(j<<4&4294967295|j>>>28),j=D+(N^P^A)+R[12]+3873151461&4294967295,D=N+(j<<11&4294967295|j>>>21),j=A+(D^N^P)+R[15]+530742520&4294967295,A=D+(j<<16&4294967295|j>>>16),j=P+(A^D^N)+R[2]+3299628645&4294967295,P=A+(j<<23&4294967295|j>>>9),j=N+(A^(P|~D))+R[0]+4096336452&4294967295,N=P+(j<<6&4294967295|j>>>26),j=D+(P^(N|~A))+R[7]+1126891415&4294967295,D=N+(j<<10&4294967295|j>>>22),j=A+(N^(D|~P))+R[14]+2878612391&4294967295,A=D+(j<<15&4294967295|j>>>17),j=P+(D^(A|~N))+R[5]+4237533241&4294967295,P=A+(j<<21&4294967295|j>>>11),j=N+(A^(P|~D))+R[12]+1700485571&4294967295,N=P+(j<<6&4294967295|j>>>26),j=D+(P^(N|~A))+R[3]+2399980690&4294967295,D=N+(j<<10&4294967295|j>>>22),j=A+(N^(D|~P))+R[10]+4293915773&4294967295,A=D+(j<<15&4294967295|j>>>17),j=P+(D^(A|~N))+R[1]+2240044497&4294967295,P=A+(j<<21&4294967295|j>>>11),j=N+(A^(P|~D))+R[8]+1873313359&4294967295,N=P+(j<<6&4294967295|j>>>26),j=D+(P^(N|~A))+R[15]+4264355552&4294967295,D=N+(j<<10&4294967295|j>>>22),j=A+(N^(D|~P))+R[6]+2734768916&4294967295,A=D+(j<<15&4294967295|j>>>17),j=P+(D^(A|~N))+R[13]+1309151649&4294967295,P=A+(j<<21&4294967295|j>>>11),j=N+(A^(P|~D))+R[4]+4149444226&4294967295,N=P+(j<<6&4294967295|j>>>26),j=D+(P^(N|~A))+R[11]+3174756917&4294967295,D=N+(j<<10&4294967295|j>>>22),j=A+(N^(D|~P))+R[2]+718787259&4294967295,A=D+(j<<15&4294967295|j>>>17),j=P+(D^(A|~N))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+N&4294967295,C.g[1]=C.g[1]+(A+(j<<21&4294967295|j>>>11))&4294967295,C.g[2]=C.g[2]+A&4294967295,C.g[3]=C.g[3]+D&4294967295}r.prototype.u=function(C,N){N===void 0&&(N=C.length);for(var P=N-this.blockSize,R=this.B,A=this.h,D=0;D<N;){if(A==0)for(;D<=P;)s(this,C,D),D+=this.blockSize;if(typeof C=="string"){for(;D<N;)if(R[A++]=C.charCodeAt(D++),A==this.blockSize){s(this,R),A=0;break}}else for(;D<N;)if(R[A++]=C[D++],A==this.blockSize){s(this,R),A=0;break}}this.h=A,this.o+=N},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var N=1;N<C.length-8;++N)C[N]=0;var P=8*this.o;for(N=C.length-8;N<C.length;++N)C[N]=P&255,P/=256;for(this.u(C),C=Array(16),N=P=0;4>N;++N)for(var R=0;32>R;R+=8)C[P++]=this.g[N]>>>R&255;return C};function i(C,N){var P=l;return Object.prototype.hasOwnProperty.call(P,C)?P[C]:P[C]=N(C)}function a(C,N){this.h=N;for(var P=[],R=!0,A=C.length-1;0<=A;A--){var D=C[A]|0;R&&D==N||(P[A]=D,R=!1)}this.g=P}var l={};function c(C){return-128<=C&&128>C?i(C,function(N){return new a([N|0],0>N?-1:0)}):new a([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return _(u(-C));for(var N=[],P=1,R=0;C>=P;R++)N[R]=C/P|0,P*=4294967296;return new a(N,0)}function h(C,N){if(C.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(C.charAt(0)=="-")return _(h(C.substring(1),N));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(N,8)),R=f,A=0;A<C.length;A+=8){var D=Math.min(8,C.length-A),j=parseInt(C.substring(A,A+D),N);8>D?(D=u(Math.pow(N,D)),R=R.j(D).add(u(j))):(R=R.j(P),R=R.add(u(j)))}return R}var f=c(0),m=c(1),y=c(16777216);t=a.prototype,t.m=function(){if(g(this))return-_(this).m();for(var C=0,N=1,P=0;P<this.g.length;P++){var R=this.i(P);C+=(0<=R?R:4294967296+R)*N,N*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x(this))return"0";if(g(this))return"-"+_(this).toString(C);for(var N=u(Math.pow(C,6)),P=this,R="";;){var A=T(P,N).g;P=b(P,A.j(N));var D=((0<P.g.length?P.g[0]:P.h)>>>0).toString(C);if(P=A,x(P))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function x(C){if(C.h!=0)return!1;for(var N=0;N<C.g.length;N++)if(C.g[N]!=0)return!1;return!0}function g(C){return C.h==-1}t.l=function(C){return C=b(this,C),g(C)?-1:x(C)?0:1};function _(C){for(var N=C.g.length,P=[],R=0;R<N;R++)P[R]=~C.g[R];return new a(P,~C.h).add(m)}t.abs=function(){return g(this)?_(this):this},t.add=function(C){for(var N=Math.max(this.g.length,C.g.length),P=[],R=0,A=0;A<=N;A++){var D=R+(this.i(A)&65535)+(C.i(A)&65535),j=(D>>>16)+(this.i(A)>>>16)+(C.i(A)>>>16);R=j>>>16,D&=65535,j&=65535,P[A]=j<<16|D}return new a(P,P[P.length-1]&-2147483648?-1:0)};function b(C,N){return C.add(_(N))}t.j=function(C){if(x(this)||x(C))return f;if(g(this))return g(C)?_(this).j(_(C)):_(_(this).j(C));if(g(C))return _(this.j(_(C)));if(0>this.l(y)&&0>C.l(y))return u(this.m()*C.m());for(var N=this.g.length+C.g.length,P=[],R=0;R<2*N;R++)P[R]=0;for(R=0;R<this.g.length;R++)for(var A=0;A<C.g.length;A++){var D=this.i(R)>>>16,j=this.i(R)&65535,B=C.i(A)>>>16,re=C.i(A)&65535;P[2*R+2*A]+=j*re,w(P,2*R+2*A),P[2*R+2*A+1]+=D*re,w(P,2*R+2*A+1),P[2*R+2*A+1]+=j*B,w(P,2*R+2*A+1),P[2*R+2*A+2]+=D*B,w(P,2*R+2*A+2)}for(R=0;R<N;R++)P[R]=P[2*R+1]<<16|P[2*R];for(R=N;R<2*N;R++)P[R]=0;return new a(P,0)};function w(C,N){for(;(C[N]&65535)!=C[N];)C[N+1]+=C[N]>>>16,C[N]&=65535,N++}function E(C,N){this.g=C,this.h=N}function T(C,N){if(x(N))throw Error("division by zero");if(x(C))return new E(f,f);if(g(C))return N=T(_(C),N),new E(_(N.g),_(N.h));if(g(N))return N=T(C,_(N)),new E(_(N.g),N.h);if(30<C.g.length){if(g(C)||g(N))throw Error("slowDivide_ only works with positive integers.");for(var P=m,R=N;0>=R.l(C);)P=I(P),R=I(R);var A=O(P,1),D=O(R,1);for(R=O(R,2),P=O(P,2);!x(R);){var j=D.add(R);0>=j.l(C)&&(A=A.add(P),D=j),R=O(R,1),P=O(P,1)}return N=b(C,A.j(N)),new E(A,N)}for(A=f;0<=C.l(N);){for(P=Math.max(1,Math.floor(C.m()/N.m())),R=Math.ceil(Math.log(P)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=u(P),j=D.j(N);g(j)||0<j.l(C);)P-=R,D=u(P),j=D.j(N);x(D)&&(D=m),A=A.add(D),C=b(C,j)}return new E(A,C)}t.A=function(C){return T(this,C).h},t.and=function(C){for(var N=Math.max(this.g.length,C.g.length),P=[],R=0;R<N;R++)P[R]=this.i(R)&C.i(R);return new a(P,this.h&C.h)},t.or=function(C){for(var N=Math.max(this.g.length,C.g.length),P=[],R=0;R<N;R++)P[R]=this.i(R)|C.i(R);return new a(P,this.h|C.h)},t.xor=function(C){for(var N=Math.max(this.g.length,C.g.length),P=[],R=0;R<N;R++)P[R]=this.i(R)^C.i(R);return new a(P,this.h^C.h)};function I(C){for(var N=C.g.length+1,P=[],R=0;R<N;R++)P[R]=C.i(R)<<1|C.i(R-1)>>>31;return new a(P,C.h)}function O(C,N){var P=N>>5;N%=32;for(var R=C.g.length-P,A=[],D=0;D<R;D++)A[D]=0<N?C.i(D+P)>>>N|C.i(D+P+1)<<32-N:C.i(D+P);return new a(A,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,UR=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=h,jo=a}).apply(typeof bS<"u"?bS:typeof self<"u"?self:typeof window<"u"?window:{});var vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $R,Mu,BR,Gf,jx,zR,WR,HR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,S){return d==Array.prototype||d==Object.prototype||(d[v]=S.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof vf=="object"&&vf];for(var v=0;v<d.length;++v){var S=d[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function s(d,v){if(v)e:{var S=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var F=d[k];if(!(F in S))break e;S=S[F]}d=d[d.length-1],k=S[d],v=v(k),v!=k&&v!=null&&e(S,d,{configurable:!0,writable:!0,value:v})}}function i(d,v){d instanceof String&&(d+="");var S=0,k=!1,F={next:function(){if(!k&&S<d.length){var $=S++;return{value:v($,d[$]),done:!1}}return k=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}s("Array.prototype.values",function(d){return d||function(){return i(this,function(v,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function u(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function h(d,v,S){return d.call.apply(d.bind,arguments)}function f(d,v,S){if(!d)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,k),d.apply(v,F)}}return function(){return d.apply(v,arguments)}}function m(d,v,S){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function y(d,v){var S=Array.prototype.slice.call(arguments,1);return function(){var k=S.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function x(d,v){function S(){}S.prototype=v.prototype,d.aa=v.prototype,d.prototype=new S,d.prototype.constructor=d,d.Qb=function(k,F,$){for(var ie=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)ie[Et-2]=arguments[Et];return v.prototype[F].apply(k,ie)}}function g(d){const v=d.length;if(0<v){const S=Array(v);for(let k=0;k<v;k++)S[k]=d[k];return S}return[]}function _(d,v){for(let S=1;S<arguments.length;S++){const k=arguments[S];if(c(k)){const F=d.length||0,$=k.length||0;d.length=F+$;for(let ie=0;ie<$;ie++)d[F+ie]=k[ie]}else d.push(k)}}class b{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function w(d){return/^[\s\xa0]*$/.test(d)}function E(){var d=l.navigator;return d&&(d=d.userAgent)?d:""}function T(d){return T[" "](d),d}T[" "]=function(){};var I=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function O(d,v,S){for(const k in d)v.call(S,d[k],k,d)}function C(d,v){for(const S in d)v.call(void 0,d[S],S,d)}function N(d){const v={};for(const S in d)v[S]=d[S];return v}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(d,v){let S,k;for(let F=1;F<arguments.length;F++){k=arguments[F];for(S in k)d[S]=k[S];for(let $=0;$<P.length;$++)S=P[$],Object.prototype.hasOwnProperty.call(k,S)&&(d[S]=k[S])}}function A(d){var v=1;d=d.split(":");const S=[];for(;0<v&&d.length;)S.push(d.shift()),v--;return d.length&&S.push(d.join(":")),S}function D(d){l.setTimeout(()=>{throw d},0)}function j(){var d=L;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class B{constructor(){this.h=this.g=null}add(v,S){const k=re.get();k.set(v,S),this.h?this.h.next=k:this.g=k,this.h=k}}var re=new b(()=>new Y,d=>d.reset());class Y{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let le,V=!1,L=new B,G=()=>{const d=l.Promise.resolve(void 0);le=()=>{d.then(ue)}};var ue=()=>{for(var d;d=j();){try{d.h.call(d.g)}catch(S){D(S)}var v=re;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}V=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};l.addEventListener("test",S,v),l.removeEventListener("test",S,v)}catch{}return d}();function We(d,v){if(ge.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var S=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(I){e:{try{T(v.nodeName);var F=!0;break e}catch{}F=!1}F||(v=null)}}else S=="mouseover"?v=d.fromElement:S=="mouseout"&&(v=d.toElement);this.relatedTarget=v,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:it[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&We.aa.h.call(this)}}x(We,ge);var it={2:"touch",3:"pen",4:"mouse"};We.prototype.h=function(){We.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var X="closure_listenable_"+(1e6*Math.random()|0),He=0;function Be(d,v,S,k,F){this.listener=d,this.proxy=null,this.src=v,this.type=S,this.capture=!!k,this.ha=F,this.key=++He,this.da=this.fa=!1}function Ae(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Oe(d){this.src=d,this.g={},this.h=0}Oe.prototype.add=function(d,v,S,k,F){var $=d.toString();d=this.g[$],d||(d=this.g[$]=[],this.h++);var ie=Lt(d,v,k,F);return-1<ie?(v=d[ie],S||(v.fa=!1)):(v=new Be(v,this.src,$,!!k,F),v.fa=S,d.push(v)),v};function $e(d,v){var S=v.type;if(S in d.g){var k=d.g[S],F=Array.prototype.indexOf.call(k,v,void 0),$;($=0<=F)&&Array.prototype.splice.call(k,F,1),$&&(Ae(v),d.g[S].length==0&&(delete d.g[S],d.h--))}}function Lt(d,v,S,k){for(var F=0;F<d.length;++F){var $=d[F];if(!$.da&&$.listener==v&&$.capture==!!S&&$.ha==k)return F}return-1}var rn="closure_lm_"+(1e6*Math.random()|0),Zn={};function vr(d,v,S,k,F){if(Array.isArray(v)){for(var $=0;$<v.length;$++)vr(d,v[$],S,k,F);return null}return S=Z(S),d&&d[X]?d.K(v,S,u(k)?!!k.capture:!!k,F):ns(d,v,S,!1,k,F)}function ns(d,v,S,k,F,$){if(!v)throw Error("Invalid event type");var ie=u(F)?!!F.capture:!!F,Et=se(d);if(Et||(d[rn]=Et=new Oe(d)),S=Et.add(v,S,k,ie,$),S.proxy)return S;if(k=Fi(),S.proxy=k,k.src=d,k.listener=S,d.addEventListener)Te||(F=ie),F===void 0&&(F=!1),d.addEventListener(v.toString(),k,F);else if(d.attachEvent)d.attachEvent(U(v.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Fi(){function d(S){return v.call(d.src,d.listener,S)}const v=z;return d}function Lr(d,v,S,k,F){if(Array.isArray(v))for(var $=0;$<v.length;$++)Lr(d,v[$],S,k,F);else k=u(k)?!!k.capture:!!k,S=Z(S),d&&d[X]?(d=d.i,v=String(v).toString(),v in d.g&&($=d.g[v],S=Lt($,S,k,F),-1<S&&(Ae($[S]),Array.prototype.splice.call($,S,1),$.length==0&&(delete d.g[v],d.h--)))):d&&(d=se(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Lt(v,S,k,F)),(S=-1<d?v[d]:null)&&M(S))}function M(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[X])$e(v.i,d);else{var S=d.type,k=d.proxy;v.removeEventListener?v.removeEventListener(S,k,d.capture):v.detachEvent?v.detachEvent(U(S),k):v.addListener&&v.removeListener&&v.removeListener(k),(S=se(v))?($e(S,d),S.h==0&&(S.src=null,v[rn]=null)):Ae(d)}}}function U(d){return d in Zn?Zn[d]:Zn[d]="on"+d}function z(d,v){if(d.da)d=!0;else{v=new We(v,this);var S=d.listener,k=d.ha||d.src;d.fa&&M(d),d=S.call(k,v)}return d}function se(d){return d=d[rn],d instanceof Oe?d:null}var ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z(d){return typeof d=="function"?d:(d[ne]||(d[ne]=function(v){return d.handleEvent(v)}),d[ne])}function te(){oe.call(this),this.i=new Oe(this),this.M=this,this.F=null}x(te,oe),te.prototype[X]=!0,te.prototype.removeEventListener=function(d,v,S,k){Lr(this,d,v,S,k)};function Ee(d,v){var S,k=d.F;if(k)for(S=[];k;k=k.F)S.push(k);if(d=d.M,k=v.type||v,typeof v=="string")v=new ge(v,d);else if(v instanceof ge)v.target=v.target||d;else{var F=v;v=new ge(k,d),R(v,F)}if(F=!0,S)for(var $=S.length-1;0<=$;$--){var ie=v.g=S[$];F=tt(ie,k,!0,v)&&F}if(ie=v.g=d,F=tt(ie,k,!0,v)&&F,F=tt(ie,k,!1,v)&&F,S)for($=0;$<S.length;$++)ie=v.g=S[$],F=tt(ie,k,!1,v)&&F}te.prototype.N=function(){if(te.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var S=d.g[v],k=0;k<S.length;k++)Ae(S[k]);delete d.g[v],d.h--}}this.F=null},te.prototype.K=function(d,v,S,k){return this.i.add(String(d),v,!1,S,k)},te.prototype.L=function(d,v,S,k){return this.i.add(String(d),v,!0,S,k)};function tt(d,v,S,k){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var F=!0,$=0;$<v.length;++$){var ie=v[$];if(ie&&!ie.da&&ie.capture==S){var Et=ie.listener,xn=ie.ha||ie.src;ie.fa&&$e(d.i,ie),F=Et.call(xn,k)!==!1&&F}}return F&&!k.defaultPrevented}function gn(d,v,S){if(typeof d=="function")S&&(d=m(d,S));else if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:l.setTimeout(d,v||0)}function Vr(d){d.g=gn(()=>{d.g=null,d.i&&(d.i=!1,Vr(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Fr extends oe{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Vr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ps(d){oe.call(this),this.h=d,this.g={}}x(Ps,oe);var js=[];function xr(d){O(d.g,function(v,S){this.g.hasOwnProperty(S)&&M(v)},d),d.g={}}Ps.prototype.N=function(){Ps.aa.N.call(this),xr(this)},Ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ui=l.JSON.stringify,rs=l.JSON.parse,ru=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function $i(){}$i.prototype.h=null;function su(d){return d.h||(d.h=d.i())}function iu(){}var ca={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ua(){ge.call(this,"d")}x(ua,ge);function Ur(){ge.call(this,"c")}x(Ur,ge);var ii={},Ie=null;function nt(){return Ie=Ie||new te}ii.La="serverreachability";function bt(d){ge.call(this,ii.La,d)}x(bt,ge);function yn(d){const v=nt();Ee(v,new bt(v))}ii.STAT_EVENT="statevent";function Jn(d,v){ge.call(this,ii.STAT_EVENT,d),this.stat=v}x(Jn,ge);function jt(d){const v=nt();Ee(v,new Jn(v,d))}ii.Ma="timingevent";function Rs(d,v){ge.call(this,ii.Ma,d),this.size=v}x(Rs,ge);function vn(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},v)}function er(){this.g=!0}er.prototype.xa=function(){this.g=!1};function hM(d,v,S,k,F,$){d.info(function(){if(d.g)if($)for(var ie="",Et=$.split("&"),xn=0;xn<Et.length;xn++){var ot=Et[xn].split("=");if(1<ot.length){var jn=ot[0];ot=ot[1];var Rn=jn.split("_");ie=2<=Rn.length&&Rn[1]=="type"?ie+(jn+"="+ot+"&"):ie+(jn+"=redacted&")}}else ie=null;else ie=$;return"XMLHTTP REQ ("+k+") [attempt "+F+"]: "+v+`
`+S+`
`+ie})}function fM(d,v,S,k,F,$,ie){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+F+"]: "+v+`
`+S+`
`+$+" "+ie})}function hl(d,v,S,k){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+pM(d,S)+(k?" "+k:"")})}function mM(d,v){d.info(function(){return"TIMEOUT: "+v})}er.prototype.info=function(){};function pM(d,v){if(!d.g)return v;if(!v)return null;try{var S=JSON.parse(v);if(S){for(d=0;d<S.length;d++)if(Array.isArray(S[d])){var k=S[d];if(!(2>k.length)){var F=k[1];if(Array.isArray(F)&&!(1>F.length)){var $=F[0];if($!="noop"&&$!="stop"&&$!="close")for(var ie=1;ie<F.length;ie++)F[ie]=""}}}}return Ui(S)}catch{return v}}var Ah={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ob={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wg;function Dh(){}x(Dh,$i),Dh.prototype.g=function(){return new XMLHttpRequest},Dh.prototype.i=function(){return{}},Wg=new Dh;function Bi(d,v,S,k){this.j=d,this.i=v,this.l=S,this.R=k||1,this.U=new Ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ab}function ab(){this.i=null,this.g="",this.h=!1}var lb={},Hg={};function qg(d,v,S){d.L=1,d.v=Vh(oi(v)),d.m=S,d.P=!0,cb(d,null)}function cb(d,v){d.F=Date.now(),Oh(d),d.A=oi(d.v);var S=d.A,k=d.R;Array.isArray(k)||(k=[String(k)]),Eb(S.i,"t",k),d.C=0,S=d.j.J,d.h=new ab,d.g=$b(d.j,S?v:null,!d.m),0<d.O&&(d.M=new Fr(m(d.Y,d,d.g),d.O)),v=d.U,S=d.g,k=d.ca;var F="readystatechange";Array.isArray(F)||(F&&(js[0]=F.toString()),F=js);for(var $=0;$<F.length;$++){var ie=vr(S,F[$],k||v.handleEvent,!1,v.h||v);if(!ie)break;v.g[ie.key]=ie}v=d.H?N(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),yn(),hM(d.i,d.u,d.A,d.l,d.R,d.m)}Bi.prototype.ca=function(d){d=d.target;const v=this.M;v&&ai(d)==3?v.j():this.Y(d)},Bi.prototype.Y=function(d){try{if(d==this.g)e:{const Rn=ai(this.g);var v=this.g.Ba();const pl=this.g.Z();if(!(3>Rn)&&(Rn!=3||this.g&&(this.h.h||this.g.oa()||jb(this.g)))){this.J||Rn!=4||v==7||(v==8||0>=pl?yn(3):yn(2)),Gg(this);var S=this.g.Z();this.X=S;t:if(ub(this)){var k=jb(this.g);d="";var F=k.length,$=ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){da(this),ou(this);var ie="";break t}this.h.i=new l.TextDecoder}for(v=0;v<F;v++)this.h.h=!0,d+=this.h.i.decode(k[v],{stream:!($&&v==F-1)});k.length=0,this.h.g+=d,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=S==200,fM(this.i,this.u,this.A,this.l,this.R,Rn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var Et,xn=this.g;if((Et=xn.g?xn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Et)){var ot=Et;break t}}ot=null}if(S=ot)hl(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kg(this,S);else{this.o=!1,this.s=3,jt(12),da(this),ou(this);break e}}if(this.P){S=!0;let ss;for(;!this.J&&this.C<ie.length;)if(ss=gM(this,ie),ss==Hg){Rn==4&&(this.s=4,jt(14),S=!1),hl(this.i,this.l,null,"[Incomplete Response]");break}else if(ss==lb){this.s=4,jt(15),hl(this.i,this.l,ie,"[Invalid Chunk]"),S=!1;break}else hl(this.i,this.l,ss,null),Kg(this,ss);if(ub(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rn!=4||ie.length!=0||this.h.h||(this.s=1,jt(16),S=!1),this.o=this.o&&S,!S)hl(this.i,this.l,ie,"[Invalid Chunked Response]"),da(this),ou(this);else if(0<ie.length&&!this.W){this.W=!0;var jn=this.j;jn.g==this&&jn.ba&&!jn.M&&(jn.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),ey(jn),jn.M=!0,jt(11))}}else hl(this.i,this.l,ie,null),Kg(this,ie);Rn==4&&da(this),this.o&&!this.J&&(Rn==4?Lb(this.j,this):(this.o=!1,Oh(this)))}else AM(this.g),S==400&&0<ie.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),da(this),ou(this)}}}catch{}finally{}};function ub(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function gM(d,v){var S=d.C,k=v.indexOf(`
`,S);return k==-1?Hg:(S=Number(v.substring(S,k)),isNaN(S)?lb:(k+=1,k+S>v.length?Hg:(v=v.slice(k,k+S),d.C=k+S,v)))}Bi.prototype.cancel=function(){this.J=!0,da(this)};function Oh(d){d.S=Date.now()+d.I,db(d,d.I)}function db(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=vn(m(d.ba,d),v)}function Gg(d){d.B&&(l.clearTimeout(d.B),d.B=null)}Bi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(mM(this.i,this.A),this.L!=2&&(yn(),jt(17)),da(this),this.s=2,ou(this)):db(this,this.S-d)};function ou(d){d.j.G==0||d.J||Lb(d.j,d)}function da(d){Gg(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,xr(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Kg(d,v){try{var S=d.j;if(S.G!=0&&(S.g==d||Qg(S.h,d))){if(!d.K&&Qg(S.h,d)&&S.G==3){try{var k=S.Da.g.parse(v)}catch{k=null}if(Array.isArray(k)&&k.length==3){var F=k;if(F[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<d.F)Wh(S),Bh(S);else break e;Jg(S),jt(18)}}else S.za=F[1],0<S.za-S.T&&37500>F[2]&&S.F&&S.v==0&&!S.C&&(S.C=vn(m(S.Za,S),6e3));if(1>=mb(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else fa(S,11)}else if((d.K||S.g==d)&&Wh(S),!w(v))for(F=S.Da.g.parse(v),v=0;v<F.length;v++){let ot=F[v];if(S.T=ot[0],ot=ot[1],S.G==2)if(ot[0]=="c"){S.K=ot[1],S.ia=ot[2];const jn=ot[3];jn!=null&&(S.la=jn,S.j.info("VER="+S.la));const Rn=ot[4];Rn!=null&&(S.Aa=Rn,S.j.info("SVER="+S.Aa));const pl=ot[5];pl!=null&&typeof pl=="number"&&0<pl&&(k=1.5*pl,S.L=k,S.j.info("backChannelRequestTimeoutMs_="+k)),k=S;const ss=d.g;if(ss){const qh=ss.g?ss.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qh){var $=k.h;$.g||qh.indexOf("spdy")==-1&&qh.indexOf("quic")==-1&&qh.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Yg($,$.h),$.h=null))}if(k.D){const ty=ss.g?ss.g.getResponseHeader("X-HTTP-Session-Id"):null;ty&&(k.ya=ty,Nt(k.I,k.D,ty))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-d.F,S.j.info("Handshake RTT: "+S.R+"ms")),k=S;var ie=d;if(k.qa=Ub(k,k.J?k.ia:null,k.W),ie.K){pb(k.h,ie);var Et=ie,xn=k.L;xn&&(Et.I=xn),Et.B&&(Gg(Et),Oh(Et)),k.g=ie}else Ob(k);0<S.i.length&&zh(S)}else ot[0]!="stop"&&ot[0]!="close"||fa(S,7);else S.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?fa(S,7):Zg(S):ot[0]!="noop"&&S.l&&S.l.ta(ot),S.v=0)}}yn(4)}catch{}}var yM=class{constructor(d,v){this.g=d,this.map=v}};function hb(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fb(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function mb(d){return d.h?1:d.g?d.g.size:0}function Qg(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Yg(d,v){d.g?d.g.add(v):d.h=v}function pb(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}hb.prototype.cancel=function(){if(this.i=gb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function gb(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const S of d.g.values())v=v.concat(S.D);return v}return g(d.i)}function vM(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var v=[],S=d.length,k=0;k<S;k++)v.push(d[k]);return v}v=[],S=0;for(k in d)v[S++]=d[k];return v}function xM(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var v=[];d=d.length;for(var S=0;S<d;S++)v.push(S);return v}v=[],S=0;for(const k in d)v[S++]=k;return v}}}function yb(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var S=xM(d),k=vM(d),F=k.length,$=0;$<F;$++)v.call(void 0,k[$],S&&S[$],d)}var vb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wM(d,v){if(d){d=d.split("&");for(var S=0;S<d.length;S++){var k=d[S].indexOf("="),F=null;if(0<=k){var $=d[S].substring(0,k);F=d[S].substring(k+1)}else $=d[S];v($,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function ha(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ha){this.h=d.h,Mh(this,d.j),this.o=d.o,this.g=d.g,Lh(this,d.s),this.l=d.l;var v=d.i,S=new cu;S.i=v.i,v.g&&(S.g=new Map(v.g),S.h=v.h),xb(this,S),this.m=d.m}else d&&(v=String(d).match(vb))?(this.h=!1,Mh(this,v[1]||"",!0),this.o=au(v[2]||""),this.g=au(v[3]||"",!0),Lh(this,v[4]),this.l=au(v[5]||"",!0),xb(this,v[6]||"",!0),this.m=au(v[7]||"")):(this.h=!1,this.i=new cu(null,this.h))}ha.prototype.toString=function(){var d=[],v=this.j;v&&d.push(lu(v,wb,!0),":");var S=this.g;return(S||v=="file")&&(d.push("//"),(v=this.o)&&d.push(lu(v,wb,!0),"@"),d.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&d.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(lu(S,S.charAt(0)=="/"?EM:bM,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",lu(S,TM)),d.join("")};function oi(d){return new ha(d)}function Mh(d,v,S){d.j=S?au(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Lh(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function xb(d,v,S){v instanceof cu?(d.i=v,NM(d.i,d.h)):(S||(v=lu(v,SM)),d.i=new cu(v,d.h))}function Nt(d,v,S){d.i.set(v,S)}function Vh(d){return Nt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function au(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function lu(d,v,S){return typeof d=="string"?(d=encodeURI(d).replace(v,_M),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function _M(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var wb=/[#\/\?@]/g,bM=/[#\?:]/g,EM=/[#\?]/g,SM=/[#\?@]/g,TM=/#/g;function cu(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function zi(d){d.g||(d.g=new Map,d.h=0,d.i&&wM(d.i,function(v,S){d.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}t=cu.prototype,t.add=function(d,v){zi(this),this.i=null,d=fl(this,d);var S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(v),this.h+=1,this};function _b(d,v){zi(d),v=fl(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function bb(d,v){return zi(d),v=fl(d,v),d.g.has(v)}t.forEach=function(d,v){zi(this),this.g.forEach(function(S,k){S.forEach(function(F){d.call(v,F,k,this)},this)},this)},t.na=function(){zi(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),S=[];for(let k=0;k<v.length;k++){const F=d[k];for(let $=0;$<F.length;$++)S.push(v[k])}return S},t.V=function(d){zi(this);let v=[];if(typeof d=="string")bb(this,d)&&(v=v.concat(this.g.get(fl(this,d))));else{d=Array.from(this.g.values());for(let S=0;S<d.length;S++)v=v.concat(d[S])}return v},t.set=function(d,v){return zi(this),this.i=null,d=fl(this,d),bb(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function Eb(d,v,S){_b(d,v),0<S.length&&(d.i=null,d.g.set(fl(d,v),g(S)),d.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var S=0;S<v.length;S++){var k=v[S];const $=encodeURIComponent(String(k)),ie=this.V(k);for(k=0;k<ie.length;k++){var F=$;ie[k]!==""&&(F+="="+encodeURIComponent(String(ie[k]))),d.push(F)}}return this.i=d.join("&")};function fl(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function NM(d,v){v&&!d.j&&(zi(d),d.i=null,d.g.forEach(function(S,k){var F=k.toLowerCase();k!=F&&(_b(this,k),Eb(this,F,S))},d)),d.j=v}function CM(d,v){const S=new er;if(l.Image){const k=new Image;k.onload=y(Wi,S,"TestLoadImage: loaded",!0,v,k),k.onerror=y(Wi,S,"TestLoadImage: error",!1,v,k),k.onabort=y(Wi,S,"TestLoadImage: abort",!1,v,k),k.ontimeout=y(Wi,S,"TestLoadImage: timeout",!1,v,k),l.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else v(!1)}function IM(d,v){const S=new er,k=new AbortController,F=setTimeout(()=>{k.abort(),Wi(S,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:k.signal}).then($=>{clearTimeout(F),$.ok?Wi(S,"TestPingServer: ok",!0,v):Wi(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),Wi(S,"TestPingServer: error",!1,v)})}function Wi(d,v,S,k,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),k(S)}catch{}}function PM(){this.g=new ru}function jM(d,v,S){const k=S||"";try{yb(d,function(F,$){let ie=F;u(F)&&(ie=Ui(F)),v.push(k+$+"="+encodeURIComponent(ie))})}catch(F){throw v.push(k+"type="+encodeURIComponent("_badmap")),F}}function Fh(d){this.l=d.Ub||null,this.j=d.eb||!1}x(Fh,$i),Fh.prototype.g=function(){return new Uh(this.l,this.j)},Fh.prototype.i=function(d){return function(){return d}}({});function Uh(d,v){te.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Uh,te),t=Uh.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,du(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||l).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,uu(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,du(this)),this.g&&(this.readyState=3,du(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sb(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sb(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?uu(this):du(this),this.readyState==3&&Sb(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,uu(this))},t.Qa=function(d){this.g&&(this.response=d,uu(this))},t.ga=function(){this.g&&uu(this)};function uu(d){d.readyState=4,d.l=null,d.j=null,d.v=null,du(d)}t.setRequestHeader=function(d,v){this.u.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=v.next();return d.join(`\r
`)};function du(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Uh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Tb(d){let v="";return O(d,function(S,k){v+=k,v+=":",v+=S,v+=`\r
`}),v}function Xg(d,v,S){e:{for(k in S){var k=!1;break e}k=!0}k||(S=Tb(S),typeof d=="string"?S!=null&&encodeURIComponent(String(S)):Nt(d,v,S))}function Vt(d){te.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Vt,te);var RM=/^https?$/i,kM=["POST","PUT"];t=Vt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,v,S,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wg.g(),this.v=this.o?su(this.o):su(Wg),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch($){Nb(this,$);return}if(d=S||"",S=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var F in k)S.set(F,k[F]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const $ of k.keys())S.set($,k.get($));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(S.keys()).find($=>$.toLowerCase()=="content-type"),F=l.FormData&&d instanceof l.FormData,!(0<=Array.prototype.indexOf.call(kM,v,void 0))||k||F||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ie]of S)this.g.setRequestHeader($,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pb(this),this.u=!0,this.g.send(d),this.u=!1}catch($){Nb(this,$)}};function Nb(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,Cb(d),$h(d)}function Cb(d){d.A||(d.A=!0,Ee(d,"complete"),Ee(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ee(this,"complete"),Ee(this,"abort"),$h(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$h(this,!0)),Vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ib(this):this.bb())},t.bb=function(){Ib(this)};function Ib(d){if(d.h&&typeof a<"u"&&(!d.v[1]||ai(d)!=4||d.Z()!=2)){if(d.u&&ai(d)==4)gn(d.Ea,0,d);else if(Ee(d,"readystatechange"),ai(d)==4){d.h=!1;try{const ie=d.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var S;if(!(S=v)){var k;if(k=ie===0){var F=String(d.D).match(vb)[1]||null;!F&&l.self&&l.self.location&&(F=l.self.location.protocol.slice(0,-1)),k=!RM.test(F?F.toLowerCase():"")}S=k}if(S)Ee(d,"complete"),Ee(d,"success");else{d.m=6;try{var $=2<ai(d)?d.g.statusText:""}catch{$=""}d.l=$+" ["+d.Z()+"]",Cb(d)}}finally{$h(d)}}}}function $h(d,v){if(d.g){Pb(d);const S=d.g,k=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Ee(d,"ready");try{S.onreadystatechange=k}catch{}}}function Pb(d){d.I&&(l.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ai(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ai(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),rs(v)}};function jb(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function AM(d){const v={};d=(d.g&&2<=ai(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(w(d[k]))continue;var S=A(d[k]);const F=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const $=v[F]||[];v[F]=$,$.push(S)}C(v,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hu(d,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||v}function Rb(d){this.Aa=0,this.i=[],this.j=new er,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hu("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hu("baseRetryDelayMs",5e3,d),this.cb=hu("retryDelaySeedMs",1e4,d),this.Wa=hu("forwardChannelMaxRetries",2,d),this.wa=hu("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new hb(d&&d.concurrentRequestLimit),this.Da=new PM,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Rb.prototype,t.la=8,t.G=1,t.connect=function(d,v,S,k){jt(0),this.W=d,this.H=v||{},S&&k!==void 0&&(this.H.OSID=S,this.H.OAID=k),this.F=this.X,this.I=Ub(this,null,this.W),zh(this)};function Zg(d){if(kb(d),d.G==3){var v=d.U++,S=oi(d.I);if(Nt(S,"SID",d.K),Nt(S,"RID",v),Nt(S,"TYPE","terminate"),fu(d,S),v=new Bi(d,d.j,v),v.L=2,v.v=Vh(oi(S)),S=!1,l.navigator&&l.navigator.sendBeacon)try{S=l.navigator.sendBeacon(v.v.toString(),"")}catch{}!S&&l.Image&&(new Image().src=v.v,S=!0),S||(v.g=$b(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Oh(v)}Fb(d)}function Bh(d){d.g&&(ey(d),d.g.cancel(),d.g=null)}function kb(d){Bh(d),d.u&&(l.clearTimeout(d.u),d.u=null),Wh(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&l.clearTimeout(d.s),d.s=null)}function zh(d){if(!fb(d.h)&&!d.s){d.s=!0;var v=d.Ga;le||G(),V||(le(),V=!0),L.add(v,d),d.B=0}}function DM(d,v){return mb(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=vn(m(d.Ga,d,v),Vb(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const F=new Bi(this,this.j,d);let $=this.o;if(this.S&&($?($=N($),R($,this.S)):$=this.S),this.m!==null||this.O||(F.H=$,$=null),this.P)e:{for(var v=0,S=0;S<this.i.length;S++){t:{var k=this.i[S];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(v+=k,4096<v){v=S;break e}if(v===4096||S===this.i.length-1){v=S+1;break e}}v=1e3}else v=1e3;v=Db(this,F,v),S=oi(this.I),Nt(S,"RID",d),Nt(S,"CVER",22),this.D&&Nt(S,"X-HTTP-Session-Id",this.D),fu(this,S),$&&(this.O?v="headers="+encodeURIComponent(String(Tb($)))+"&"+v:this.m&&Xg(S,this.m,$)),Yg(this.h,F),this.Ua&&Nt(S,"TYPE","init"),this.P?(Nt(S,"$req",v),Nt(S,"SID","null"),F.T=!0,qg(F,S,null)):qg(F,S,v),this.G=2}}else this.G==3&&(d?Ab(this,d):this.i.length==0||fb(this.h)||Ab(this))};function Ab(d,v){var S;v?S=v.l:S=d.U++;const k=oi(d.I);Nt(k,"SID",d.K),Nt(k,"RID",S),Nt(k,"AID",d.T),fu(d,k),d.m&&d.o&&Xg(k,d.m,d.o),S=new Bi(d,d.j,S,d.B+1),d.m===null&&(S.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Db(d,S,1e3),S.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Yg(d.h,S),qg(S,k,v)}function fu(d,v){d.H&&O(d.H,function(S,k){Nt(v,k,S)}),d.l&&yb({},function(S,k){Nt(v,k,S)})}function Db(d,v,S){S=Math.min(d.i.length,S);var k=d.l?m(d.l.Na,d.l,d):null;e:{var F=d.i;let $=-1;for(;;){const ie=["count="+S];$==-1?0<S?($=F[0].g,ie.push("ofs="+$)):$=0:ie.push("ofs="+$);let Et=!0;for(let xn=0;xn<S;xn++){let ot=F[xn].g;const jn=F[xn].map;if(ot-=$,0>ot)$=Math.max(0,F[xn].g-100),Et=!1;else try{jM(jn,ie,"req"+ot+"_")}catch{k&&k(jn)}}if(Et){k=ie.join("&");break e}}}return d=d.i.splice(0,S),v.D=d,k}function Ob(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;le||G(),V||(le(),V=!0),L.add(v,d),d.v=0}}function Jg(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=vn(m(d.Fa,d),Vb(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Mb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=vn(m(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,jt(10),Bh(this),Mb(this))};function ey(d){d.A!=null&&(l.clearTimeout(d.A),d.A=null)}function Mb(d){d.g=new Bi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=oi(d.qa);Nt(v,"RID","rpc"),Nt(v,"SID",d.K),Nt(v,"AID",d.T),Nt(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&Nt(v,"TO",d.ja),Nt(v,"TYPE","xmlhttp"),fu(d,v),d.m&&d.o&&Xg(v,d.m,d.o),d.L&&(d.g.I=d.L);var S=d.g;d=d.ia,S.L=1,S.v=Vh(oi(v)),S.m=null,S.P=!0,cb(S,d)}t.Za=function(){this.C!=null&&(this.C=null,Bh(this),Jg(this),jt(19))};function Wh(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function Lb(d,v){var S=null;if(d.g==v){Wh(d),ey(d),d.g=null;var k=2}else if(Qg(d.h,v))S=v.D,pb(d.h,v),k=1;else return;if(d.G!=0){if(v.o)if(k==1){S=v.m?v.m.length:0,v=Date.now()-v.F;var F=d.B;k=nt(),Ee(k,new Rs(k,S)),zh(d)}else Ob(d);else if(F=v.s,F==3||F==0&&0<v.X||!(k==1&&DM(d,v)||k==2&&Jg(d)))switch(S&&0<S.length&&(v=d.h,v.i=v.i.concat(S)),F){case 1:fa(d,5);break;case 4:fa(d,10);break;case 3:fa(d,6);break;default:fa(d,2)}}}function Vb(d,v){let S=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(S*=2),S*v}function fa(d,v){if(d.j.info("Error code "+v),v==2){var S=m(d.fb,d),k=d.Xa;const F=!k;k=new ha(k||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Mh(k,"https"),Vh(k),F?CM(k.toString(),S):IM(k.toString(),S)}else jt(2);d.G=0,d.l&&d.l.sa(v),Fb(d),kb(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function Fb(d){if(d.G=0,d.ka=[],d.l){const v=gb(d.h);(v.length!=0||d.i.length!=0)&&(_(d.ka,v),_(d.ka,d.i),d.h.i.length=0,g(d.i),d.i.length=0),d.l.ra()}}function Ub(d,v,S){var k=S instanceof ha?oi(S):new ha(S);if(k.g!="")v&&(k.g=v+"."+k.g),Lh(k,k.s);else{var F=l.location;k=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;var $=new ha(null);k&&Mh($,k),v&&($.g=v),F&&Lh($,F),S&&($.l=S),k=$}return S=d.D,v=d.ya,S&&v&&Nt(k,S,v),Nt(k,"VER",d.la),fu(d,k),k}function $b(d,v,S){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new Vt(new Fh({eb:S})):new Vt(d.pa),v.Ha(d.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bb(){}t=Bb.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Hh(){}Hh.prototype.g=function(d,v){return new wr(d,v)};function wr(d,v){te.call(this),this.g=new Rb(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!w(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!w(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new ml(this)}x(wr,te),wr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wr.prototype.close=function(){Zg(this.g)},wr.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.u&&(S={},S.__data__=Ui(d),d=S);v.i.push(new yM(v.Ya++,d)),v.G==3&&zh(v)},wr.prototype.N=function(){this.g.l=null,delete this.j,Zg(this.g),delete this.g,wr.aa.N.call(this)};function zb(d){ua.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const S in v){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}x(zb,ua);function Wb(){Ur.call(this),this.status=1}x(Wb,Ur);function ml(d){this.g=d}x(ml,Bb),ml.prototype.ua=function(){Ee(this.g,"a")},ml.prototype.ta=function(d){Ee(this.g,new zb(d))},ml.prototype.sa=function(d){Ee(this.g,new Wb)},ml.prototype.ra=function(){Ee(this.g,"b")},Hh.prototype.createWebChannel=Hh.prototype.g,wr.prototype.send=wr.prototype.o,wr.prototype.open=wr.prototype.m,wr.prototype.close=wr.prototype.close,HR=function(){return new Hh},WR=function(){return nt()},zR=ii,jx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ah.NO_ERROR=0,Ah.TIMEOUT=8,Ah.HTTP_ERROR=6,Gf=Ah,ob.COMPLETE="complete",BR=ob,iu.EventType=ca,ca.OPEN="a",ca.CLOSE="b",ca.ERROR="c",ca.MESSAGE="d",te.prototype.listen=te.prototype.K,Mu=iu,Vt.prototype.listenOnce=Vt.prototype.L,Vt.prototype.getLastError=Vt.prototype.Ka,Vt.prototype.getLastErrorCode=Vt.prototype.Ba,Vt.prototype.getStatus=Vt.prototype.Z,Vt.prototype.getResponseJson=Vt.prototype.Oa,Vt.prototype.getResponseText=Vt.prototype.oa,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Ha,$R=Vt}).apply(typeof vf<"u"?vf:typeof self<"u"?self:typeof window<"u"?window:{});const ES="@firebase/firestore",SS="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new Yp("@firebase/firestore");function bl(){return Ba.logLevel}function fe(t,...e){if(Ba.logLevel<=Ge.DEBUG){const n=e.map(q0);Ba.debug(`Firestore (${Kc}): ${t}`,...n)}}function ki(t,...e){if(Ba.logLevel<=Ge.ERROR){const n=e.map(q0);Ba.error(`Firestore (${Kc}): ${t}`,...n)}}function bc(t,...e){if(Ba.logLevel<=Ge.WARN){const n=e.map(q0);Ba.warn(`Firestore (${Kc}): ${t}`,...n)}}function q0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,qR(t,r,n)}function qR(t,e,n){let r=`FIRESTORE (${Kc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ki(r),new Error(r)}function yt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||qR(e,s,r)}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends es{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ln.UNAUTHENTICATED))}shutdown(){}}class sz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iz{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){yt(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new bi,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new bi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yt(typeof r.accessToken=="string",31837,{l:r}),new GR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string",2055,{h:e}),new Ln(e)}}class oz{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class az{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new oz(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lz{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ir(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){yt(this.o===void 0,3512);const r=i=>{i.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,fe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new TS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new TS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=cz(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ke(t,e){return t<e?-1:t>e?1:0}function Rx(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return qy(s)===qy(i)?Ke(s,i):qy(s)?1:-1}return Ke(t.length,e.length)}const uz=55296,dz=57343;function qy(t){const e=t.charCodeAt(0);return e>=uz&&e<=dz}function Ec(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="__name__";class Ds{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ds.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ds?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Ds.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ke(e.length,n.length)}static compareSegments(e,n){const r=Ds.isNumericId(e),s=Ds.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ds.extractNumericId(e).compare(Ds.extractNumericId(n)):Rx(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jo.fromString(e.substring(4,e.length-2))}}class St extends Ds{construct(e,n,r){return new St(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new St(n)}static emptyPath(){return new St([])}}const hz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends Ds{construct(e,n,r){return new bn(e,n,r)}static isValidIdentifier(e){return hz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===NS}static keyField(){return new bn([NS])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new de(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new de(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new de(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new de(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(n)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(St.fromString(e))}static fromName(e){return new be(St.fromString(e).popFirst(5))}static empty(){return new be(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new St(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t,e,n){if(!n)throw new de(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fz(t,e,n,r){if(e===!0&&r===!0)throw new de(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CS(t){if(!be.isDocumentKey(t))throw new de(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function IS(t){if(be.isDocumentKey(t))throw new de(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function QR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function tg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function Ts(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tg(t);throw new de(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t,e){const n={typeString:t};return e&&(n.value=e),n}function ph(t,e){if(!QR(t))throw new de(H.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new de(H.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=-62135596800,jS=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*jS);return new _t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<PS)throw new de(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jS}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ph(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-PS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:tn("string",_t._jsonSchemaVersion),seconds:tn("number"),nanoseconds:tn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new _t(0,0))}static max(){return new Pe(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=-1;function mz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Pe.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new Uo(s,be.empty(),e)}function pz(t){return new Uo(t.readTime,t.key,Ud)}class Uo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Uo(Pe.min(),be.empty(),Ud)}static max(){return new Uo(Pe.max(),be.empty(),Ud)}}function gz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==yz)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(s=>s?K.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new K((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(h=>{a[u]=h,++l,l===i&&r(a)},h=>s(h))}})}static doWhile(e,n){return new K((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function xz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ng.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=-1;function rg(t){return t==null}function zm(t){return t===0&&1/t==-1/0}function wz(t){return typeof t=="number"&&Number.isInteger(t)&&!zm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="";function _z(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=RS(e)),e=bz(t.get(n),e);return RS(e)}function bz(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case YR:n+="";break;default:n+=i}}return n}function RS(t){return t+YR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ta(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function XR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new Mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xf(this.root,e,this.comparator,!1)}getReverseIterator(){return new xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xf(this.root,e,this.comparator,!0)}}class xf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??_n.RED,this.left=s??_n.EMPTY,this.right=i??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new _n(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _n.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new AS(this.data.getIterator())}getIteratorFrom(e){return new AS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class AS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new Tr([])}unionWith(e){let n=new ln(bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Tr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ec(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new ZR("Invalid base64 string: "+i):i}}(e);return new In(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new In(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}In.EMPTY_BYTE_STRING=new In("");const Ez=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $o(t){if(yt(!!t,39018),typeof t=="string"){let e=0;const n=Ez.exec(t);if(yt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bo(t){return typeof t=="string"?In.fromBase64String(t):In.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="server_timestamp",ek="__type__",tk="__previous_value__",nk="__local_write_time__";function Q0(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[ek])==null?void 0:r.stringValue)===JR}function sg(t){const e=t.mapValue.fields[tk];return Q0(e)?sg(e):e}function $d(t){const e=$o(t.mapValue.fields[nk].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e,n,r,s,i,a,l,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const Wm="(default)";class Bd{constructor(e,n){this.projectId=e,this.database=n||Wm}static empty(){return new Bd("","")}get isDefaultDatabase(){return this.database===Wm}isEqual(e){return e instanceof Bd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="__type__",sk="__max__",wf={mapValue:{fields:{__type__:{stringValue:sk}}}},ik="__vector__",Hm="value";function zo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Q0(t)?4:Nz(t)?9007199254740991:Tz(t)?10:11:Ne(28295,{value:t})}function Js(t,e){if(t===e)return!0;const n=zo(t);if(n!==zo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $d(t).isEqual($d(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=$o(s.timestampValue),l=$o(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Bo(s.bytesValue).isEqual(Bo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Bt(s.geoPointValue.latitude)===Bt(i.geoPointValue.latitude)&&Bt(s.geoPointValue.longitude)===Bt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Bt(s.integerValue)===Bt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=Bt(s.doubleValue),l=Bt(i.doubleValue);return a===l?zm(a)===zm(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Ec(t.arrayValue.values||[],e.arrayValue.values||[],Js);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(kS(a)!==kS(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Js(a[c],l[c])))return!1;return!0}(t,e);default:return Ne(52216,{left:t})}}function zd(t,e){return(t.values||[]).find(n=>Js(n,e))!==void 0}function Sc(t,e){if(t===e)return 0;const n=zo(t),r=zo(e);if(n!==r)return Ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Bt(i.integerValue||i.doubleValue),c=Bt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return DS(t.timestampValue,e.timestampValue);case 4:return DS($d(t),$d(e));case 5:return Rx(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Bo(i),c=Bo(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const h=Ke(l[u],c[u]);if(h!==0)return h}return Ke(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Ke(Bt(i.latitude),Bt(a.latitude));return l!==0?l:Ke(Bt(i.longitude),Bt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return OS(t.arrayValue,e.arrayValue);case 10:return function(i,a){var m,y,x,g;const l=i.fields||{},c=a.fields||{},u=(m=l[Hm])==null?void 0:m.arrayValue,h=(y=c[Hm])==null?void 0:y.arrayValue,f=Ke(((x=u==null?void 0:u.values)==null?void 0:x.length)||0,((g=h==null?void 0:h.values)==null?void 0:g.length)||0);return f!==0?f:OS(u,h)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===wf.mapValue&&a===wf.mapValue)return 0;if(i===wf.mapValue)return 1;if(a===wf.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=a.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=Rx(c[f],h[f]);if(m!==0)return m;const y=Sc(l[c[f]],u[h[f]]);if(y!==0)return y}return Ke(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Ne(23264,{he:n})}}function DS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=$o(t),r=$o(e),s=Ke(n.seconds,r.seconds);return s!==0?s:Ke(n.nanos,r.nanos)}function OS(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Sc(n[s],r[s]);if(i)return i}return Ke(n.length,r.length)}function Tc(t){return kx(t)}function kx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$o(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=kx(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${kx(n.fields[a])}`;return s+"}"}(t.mapValue):Ne(61005,{value:t})}function Kf(t){switch(zo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sg(t);return e?16+Kf(e):16;case 5:return 2*t.stringValue.length;case 6:return Bo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Kf(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ta(r.fields,(i,a)=>{s+=i.length+Kf(a)}),s}(t.mapValue);default:throw Ne(13486,{value:t})}}function MS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ax(t){return!!t&&"integerValue"in t}function Y0(t){return!!t&&"arrayValue"in t}function LS(t){return!!t&&"nullValue"in t}function VS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qf(t){return!!t&&"mapValue"in t}function Tz(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[rk])==null?void 0:r.stringValue)===ik}function sd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ta(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sd(t.arrayValue.values[n]);return e}return{...t}}function Nz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===sk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Qf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sd(n)}setAll(e){let n=bn.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=sd(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Qf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Js(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Qf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ta(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new or(sd(this.value))}}function ok(t){const e=[];return ta(t.fields,(n,r)=>{const s=new bn([n]);if(Qf(r)){const i=ok(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new Tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Fn(e,0,Pe.min(),Pe.min(),Pe.min(),or.empty(),0)}static newFoundDocument(e,n,r,s){return new Fn(e,1,n,Pe.min(),r,s,0)}static newNoDocument(e,n){return new Fn(e,2,n,Pe.min(),Pe.min(),or.empty(),0)}static newUnknownDocument(e,n){return new Fn(e,3,n,Pe.min(),Pe.min(),or.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.position=e,this.inclusive=n}}function FS(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=be.comparator(be.fromName(a.referenceValue),n.key):r=Sc(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function US(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Js(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n="asc"){this.field=e,this.dir=n}}function Cz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{}class en extends ak{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Pz(e,n,r):n==="array-contains"?new kz(e,r):n==="in"?new Az(e,r):n==="not-in"?new Dz(e,r):n==="array-contains-any"?new Oz(e,r):new en(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new jz(e,r):new Rz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Sc(n,this.value)):n!==null&&zo(this.value)===zo(n)&&this.matchesComparison(Sc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ns extends ak{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ns(e,n)}matches(e){return lk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lk(t){return t.op==="and"}function ck(t){return Iz(t)&&lk(t)}function Iz(t){for(const e of t.filters)if(e instanceof Ns)return!1;return!0}function Dx(t){if(t instanceof en)return t.field.canonicalString()+t.op.toString()+Tc(t.value);if(ck(t))return t.filters.map(e=>Dx(e)).join(",");{const e=t.filters.map(n=>Dx(n)).join(",");return`${t.op}(${e})`}}function uk(t,e){return t instanceof en?function(r,s){return s instanceof en&&r.op===s.op&&r.field.isEqual(s.field)&&Js(r.value,s.value)}(t,e):t instanceof Ns?function(r,s){return s instanceof Ns&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&uk(a,s.filters[l]),!0):!1}(t,e):void Ne(19439)}function dk(t){return t instanceof en?function(n){return`${n.field.canonicalString()} ${n.op} ${Tc(n.value)}`}(t):t instanceof Ns?function(n){return n.op.toString()+" {"+n.getFilters().map(dk).join(" ,")+"}"}(t):"Filter"}class Pz extends en{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class jz extends en{constructor(e,n){super(e,"in",n),this.keys=hk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Rz extends en{constructor(e,n){super(e,"not-in",n),this.keys=hk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hk(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>be.fromName(r.referenceValue))}class kz extends en{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Y0(n)&&zd(n.arrayValue,this.value)}}class Az extends en{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zd(this.value.arrayValue,n)}}class Dz extends en{constructor(e,n){super(e,"not-in",n)}matches(e){if(zd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zd(this.value.arrayValue,n)}}class Oz extends en{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Y0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Te=null}}function $S(t,e=null,n=[],r=[],s=null,i=null,a=null){return new Mz(t,e,n,r,s,i,a)}function X0(t){const e=ke(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Dx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),rg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Tc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Tc(r)).join(",")),e.Te=n}return e.Te}function Z0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Cz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!US(t.startAt,e.startAt)&&US(t.endAt,e.endAt)}function Ox(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Lz(t,e,n,r,s,i,a,l){return new Xc(t,e,n,r,s,i,a,l)}function J0(t){return new Xc(t)}function BS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fk(t){return t.collectionGroup!==null}function id(t){const e=ke(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ln(bn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Wd(i,r))}),n.has(bn.keyField().canonicalString())||e.Ie.push(new Wd(bn.keyField(),r))}return e.Ie}function qs(t){const e=ke(t);return e.Ee||(e.Ee=Vz(e,id(t))),e.Ee}function Vz(t,e){if(t.limitType==="F")return $S(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Wd(s.field,i)});const n=t.endAt?new qm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qm(t.startAt.position,t.startAt.inclusive):null;return $S(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Mx(t,e){const n=t.filters.concat([e]);return new Xc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Lx(t,e,n){return new Xc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ig(t,e){return Z0(qs(t),qs(e))&&t.limitType===e.limitType}function mk(t){return`${X0(qs(t))}|lt:${t.limitType}`}function El(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>dk(s)).join(", ")}]`),rg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Tc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Tc(s)).join(",")),`Target(${r})`}(qs(t))}; limitType=${t.limitType})`}function og(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):be.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of id(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const u=FS(a,l,c);return a.inclusive?u<=0:u<0}(r.startAt,id(r),s)||r.endAt&&!function(a,l,c){const u=FS(a,l,c);return a.inclusive?u>=0:u>0}(r.endAt,id(r),s))}(t,e)}function Fz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pk(t){return(e,n)=>{let r=!1;for(const s of id(t)){const i=Uz(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Uz(t,e,n){const r=t.field.isKeyField()?be.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),u=l.data.field(i);return c!==null&&u!==null?Sc(c,u):Ne(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return XR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z=new Mt(be.comparator);function Ai(){return $z}const gk=new Mt(be.comparator);function Lu(...t){let e=gk;for(const n of t)e=e.insert(n.key,n);return e}function yk(t){let e=gk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _a(){return od()}function vk(){return od()}function od(){return new sl(t=>t.toString(),(t,e)=>t.isEqual(e))}const Bz=new Mt(be.comparator),zz=new ln(be.comparator);function Qe(...t){let e=zz;for(const n of t)e=e.add(n);return e}const Wz=new ln(Ke);function Hz(){return Wz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zm(e)?"-0":e}}function xk(t){return{integerValue:""+t}}function qz(t,e){return wz(e)?xk(e):e_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(){this._=void 0}}function Gz(t,e,n){return t instanceof Gm?function(s,i){const a={fields:{[ek]:{stringValue:JR},[nk]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Q0(i)&&(i=sg(i)),i&&(a.fields[tk]=i),{mapValue:a}}(n,e):t instanceof Hd?_k(t,e):t instanceof qd?bk(t,e):function(s,i){const a=wk(s,i),l=zS(a)+zS(s.Ae);return Ax(a)&&Ax(s.Ae)?xk(l):e_(s.serializer,l)}(t,e)}function Kz(t,e,n){return t instanceof Hd?_k(t,e):t instanceof qd?bk(t,e):n}function wk(t,e){return t instanceof Km?function(r){return Ax(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Gm extends ag{}class Hd extends ag{constructor(e){super(),this.elements=e}}function _k(t,e){const n=Ek(e);for(const r of t.elements)n.some(s=>Js(s,r))||n.push(r);return{arrayValue:{values:n}}}class qd extends ag{constructor(e){super(),this.elements=e}}function bk(t,e){let n=Ek(e);for(const r of t.elements)n=n.filter(s=>!Js(s,r));return{arrayValue:{values:n}}}class Km extends ag{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function zS(t){return Bt(t.integerValue||t.doubleValue)}function Ek(t){return Y0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Qz(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Hd&&s instanceof Hd||r instanceof qd&&s instanceof qd?Ec(r.elements,s.elements,Js):r instanceof Km&&s instanceof Km?Js(r.Ae,s.Ae):r instanceof Gm&&s instanceof Gm}(t.transform,e.transform)}class Yz{constructor(e,n){this.version=e,this.transformResults=n}}class Gr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gr}static exists(e){return new Gr(void 0,e)}static updateTime(e){return new Gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lg{}function Sk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new t_(t.key,Gr.none()):new gh(t.key,t.data,Gr.none());{const n=t.data,r=or.empty();let s=new ln(bn.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new na(t.key,r,new Tr(s.toArray()),Gr.none())}}function Xz(t,e,n){t instanceof gh?function(s,i,a){const l=s.value.clone(),c=HS(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof na?function(s,i,a){if(!Yf(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=HS(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(Tk(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function ad(t,e,n,r){return t instanceof gh?function(i,a,l,c){if(!Yf(i.precondition,a))return l;const u=i.value.clone(),h=qS(i.fieldTransforms,c,a);return u.setAll(h),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof na?function(i,a,l,c){if(!Yf(i.precondition,a))return l;const u=qS(i.fieldTransforms,c,a),h=a.data;return h.setAll(Tk(i)),h.setAll(u),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,a,l){return Yf(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function Zz(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=wk(r.transform,s||null);i!=null&&(n===null&&(n=or.empty()),n.set(r.field,i))}return n||null}function WS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ec(r,s,(i,a)=>Qz(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gh extends lg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class na extends lg{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Tk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function HS(t,e,n){const r=new Map;yt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,Kz(a,l,n[s]))}return r}function qS(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,Gz(i,a,e))}return r}class t_ extends lg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jz extends lg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Xz(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ad(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ad(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vk();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=Sk(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&Ec(this.mutations,e.mutations,(n,r)=>WS(n,r))&&Ec(this.baseMutations,e.baseMutations,(n,r)=>WS(n,r))}}class n_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){yt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return Bz}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new n_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t7=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,Je;function r7(t){switch(t){case H.OK:return Ne(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function Nk(t){if(t===void 0)return ki("GRPC error has no .code"),H.UNKNOWN;switch(t){case Xt.OK:return H.OK;case Xt.CANCELLED:return H.CANCELLED;case Xt.UNKNOWN:return H.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return H.INTERNAL;case Xt.UNAVAILABLE:return H.UNAVAILABLE;case Xt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Xt.NOT_FOUND:return H.NOT_FOUND;case Xt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Xt.ABORTED:return H.ABORTED;case Xt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Xt.DATA_LOSS:return H.DATA_LOSS;default:return Ne(39323,{code:t})}}(Je=Xt||(Xt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7=new jo([4294967295,4294967295],0);function GS(t){const e=s7().encode(t),n=new UR;return n.update(e),new Uint8Array(n.digest())}function KS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new jo([n,r],0),new jo([s,i],0)]}class r_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vu(`Invalid padding: ${n}`);if(r<0)throw new Vu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=jo.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(jo.fromNumber(r)));return s.compare(i7)===1&&(s=new jo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=GS(e),[r,s]=KS(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new r_(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=GS(e),[r,s]=KS(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,yh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new cg(Pe.min(),s,new Mt(Ke),Ai(),Qe())}}class yh{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yh(r,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class Ck{constructor(e,n){this.targetId=e,this.Ce=n}}class Ik{constructor(e,n,r=In.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class QS{constructor(){this.ve=0,this.Fe=YS(),this.Me=In.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),n=Qe(),r=Qe();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ne(38017,{changeType:i})}}),new yh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=YS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class o7{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ai(),this.Je=_f(),this.He=_f(),this.Ye=new Mt(Ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Ox(i))if(r===0){const a=new be(i.path);this.et(n,a,Fn.newNoDocument(a,Pe.min()))}else yt(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=Bo(r).toUint8Array()}catch(c){if(c instanceof ZR)return bc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new r_(a,s,i)}catch(c){return bc(c instanceof Vu?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,a)=>{const l=this.ot(a);if(l){if(i.current&&Ox(l.target)){const c=new be(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Fn.newNoDocument(c,e))}i.Be&&(n.set(a,i.ke()),i.qe())}});let r=Qe();this.He.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.je.forEach((i,a)=>a.setReadTime(e));const s=new cg(e,n,this.Ye,this.je,r);return this.je=Ai(),this.Je=_f(),this.He=_f(),this.Ye=new Mt(Ke),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new QS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ln(Ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ln(Ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new QS),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _f(){return new Mt(be.comparator)}function YS(){return new Mt(be.comparator)}const a7={asc:"ASCENDING",desc:"DESCENDING"},l7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c7={and:"AND",or:"OR"};class u7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vx(t,e){return t.useProto3Json||rg(e)?e:{value:e}}function Qm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function d7(t,e){return Qm(t,e.toTimestamp())}function Gs(t){return yt(!!t,49232),Pe.fromTimestamp(function(n){const r=$o(n);return new _t(r.seconds,r.nanos)}(t))}function s_(t,e){return Fx(t,e).canonicalString()}function Fx(t,e){const n=function(s){return new St(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function jk(t){const e=St.fromString(t);return yt(Ok(e),10190,{key:e.toString()}),e}function Ux(t,e){return s_(t.databaseId,e.path)}function Gy(t,e){const n=jk(e);if(n.get(1)!==t.databaseId.projectId)throw new de(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(kk(n))}function Rk(t,e){return s_(t.databaseId,e)}function h7(t){const e=jk(t);return e.length===4?St.emptyPath():kk(e)}function $x(t){return new St(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kk(t){return yt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function XS(t,e,n){return{name:Ux(t,e),fields:n.value.mapValue.fields}}function f7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ne(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(yt(h===void 0||typeof h=="string",58123),In.fromBase64String(h||"")):(yt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),In.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const h=u.code===void 0?H.UNKNOWN:Nk(u.code);return new de(h,u.message||"")}(a);n=new Ik(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Gy(t,r.document.name),i=Gs(r.document.updateTime),a=r.document.createTime?Gs(r.document.createTime):Pe.min(),l=new or({mapValue:{fields:r.document.fields}}),c=Fn.newFoundDocument(s,i,a,l),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Xf(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Gy(t,r.document),i=r.readTime?Gs(r.readTime):Pe.min(),a=Fn.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Xf([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Gy(t,r.document),i=r.removedTargetIds||[];n=new Xf([],i,s,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new n7(s,i),l=r.targetId;n=new Ck(l,a)}}return n}function m7(t,e){let n;if(e instanceof gh)n={update:XS(t,e.key,e.value)};else if(e instanceof t_)n={delete:Ux(t,e.key)};else if(e instanceof na)n={update:XS(t,e.key,e.data),updateMask:E7(e.fieldMask)};else{if(!(e instanceof Jz))return Ne(16599,{Vt:e.type});n={verify:Ux(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Gm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Hd)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof qd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Km)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Ne(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:d7(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ne(27497)}(t,e.precondition)),n}function p7(t,e){return t&&t.length>0?(yt(e!==void 0,14353),t.map(n=>function(s,i){let a=s.updateTime?Gs(s.updateTime):Gs(i);return a.isEqual(Pe.min())&&(a=Gs(i)),new Yz(a,s.transformResults||[])}(n,e))):[]}function g7(t,e){return{documents:[Rk(t,e.path)]}}function y7(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Rk(t,s);const i=function(u){if(u.length!==0)return Dk(Ns.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:Sl(m.field),direction:w7(m.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Vx(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function v7(t){let e=h7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){yt(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=Ak(f);return m instanceof Ns&&ck(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(m=>function(x){return new Wd(Tl(x.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,rg(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,y=f.values||[];return new qm(y,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,y=f.values||[];return new qm(y,m)}(n.endAt)),Lz(e,s,a,i,l,"F",c,u)}function x7(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ak(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Tl(n.unaryFilter.field);return en.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Tl(n.unaryFilter.field);return en.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Tl(n.unaryFilter.field);return en.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Tl(n.unaryFilter.field);return en.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}}(t):t.fieldFilter!==void 0?function(n){return en.create(Tl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ns.create(n.compositeFilter.filters.map(r=>Ak(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}}(n.compositeFilter.op))}(t):Ne(30097,{filter:t})}function w7(t){return a7[t]}function _7(t){return l7[t]}function b7(t){return c7[t]}function Sl(t){return{fieldPath:t.canonicalString()}}function Tl(t){return bn.fromServerFormat(t.fieldPath)}function Dk(t){return t instanceof en?function(n){if(n.op==="=="){if(VS(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NAN"}};if(LS(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VS(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NOT_NAN"}};if(LS(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sl(n.field),op:_7(n.op),value:n.value}}}(t):t instanceof Ns?function(n){const r=n.getFilters().map(s=>Dk(s));return r.length===1?r[0]:{compositeFilter:{op:b7(n.op),filters:r}}}(t):Ne(54877,{filter:t})}function E7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ok(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n,r,s,i=Pe.min(),a=Pe.min(),l=In.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new go(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e){this.yt=e}}function T7(t){const e=v7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(){this.Cn=new C7}addToCollectionParentIndex(e,n){return this.Cn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(Uo.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(Uo.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class C7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ln(St.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ln(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mk=41943040;class rr{static withCacheSize(e){return new rr(e,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr.DEFAULT_COLLECTION_PERCENTILE=10,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rr.DEFAULT=new rr(Mk,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rr.DISABLED=new rr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Nc(0)}static cr(){return new Nc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="LruGarbageCollector",I7=1048576;function eT([t,e],[n,r]){const s=Ke(t,n);return s===0?Ke(e,r):s}class P7{constructor(e){this.Ir=e,this.buffer=new ln(eT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();eT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class j7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(JS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yc(n)?fe(JS,"Ignoring IndexedDB error during garbage collection: ",n):await Qc(n)}await this.Vr(3e5)})}}class R7{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return K.resolve(ng.ce);const r=new P7(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(ZS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZS):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,a,l,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,a=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),bl()<=Ge.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function k7(t,e){return new R7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(){this.changes=new sl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ad(r.mutation,s,Tr.empty(),_t.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){const s=_a();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=Lu();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=_a();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let i=Ai();const a=od(),l=function(){return od()}();return n.forEach((c,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof na)?i=i.insert(u.key,u):h!==void 0?(a.set(u.key,h.mutation.getFieldMask()),ad(h.mutation,u,h.mutation.getFieldMask(),_t.now())):a.set(u.key,Tr.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,h)=>a.set(u,h)),n.forEach((u,h)=>l.set(u,new D7(h,a.get(u)??null))),l))}recalculateAndSaveOverlays(e,n){const r=od();let s=new Mt((a,l)=>a-l),i=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||Tr.empty();h=l.applyToLocalView(u,h),r.set(c,h);const f=(s.get(l.batchId)||Qe()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,h=c.value,f=vk();h.forEach(m=>{if(!i.has(m)){const y=Sk(n.get(m),r.get(m));y!==null&&f.set(m,y),i=i.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return K.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return be.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):K.resolve(_a());let l=Ud,c=i;return a.next(u=>K.forEach(u,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?K.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,Qe())).next(h=>({batchId:l,changes:yk(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next(r=>{let s=Lu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=Lu();return this.indexManager.getCollectionParents(e,i).next(l=>K.forEach(l,c=>{const u=function(f,m){return new Xc(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((f,m)=>{a=a.insert(f,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,u)=>{const h=u.getKey();a.get(h)===null&&(a=a.insert(h,Fn.newInvalidDocument(h)))});let l=Lu();return a.forEach((c,u)=>{const h=i.get(c);h!==void 0&&ad(h.mutation,u,Tr.empty(),_t.now()),og(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return K.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Gs(s.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:T7(s.bundledQuery),readTime:Gs(s.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(){this.overlays=new Mt(be.comparator),this.qr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_a();return K.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const s=_a(),i=n.length+1,a=new be(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return K.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Mt((u,h)=>u-h);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=_a(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const l=_a(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>l.set(u,h)),!(l.size()>=s)););return K.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new t7(n,r));let i=this.qr.get(n);i===void 0&&(i=Qe(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(){this.sessionToken=In.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(){this.Qr=new ln(dn.$r),this.Ur=new ln(dn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new dn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new dn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new be(new St([])),r=new dn(n,e),s=new dn(n,e+1),i=[];return this.Ur.forEachInRange([r,s],a=>{this.Gr(a),i.push(a.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new St([])),r=new dn(n,e),s=new dn(n,e+1);let i=Qe();return this.Ur.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new dn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||Ke(e.Yr,n.Yr)}static Kr(e,n){return Ke(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ln(dn.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new e7(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.Zr=this.Zr.add(new dn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return K.resolve(a)}lookupMutationBatch(e,n){return K.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return K.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?K0:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dn(n,0),s=new dn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],a=>{const l=this.Xr(a.Yr);i.push(l)}),K.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ln(Ke);return n.forEach(s=>{const i=new dn(s,0),a=new dn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],l=>{r=r.add(l.Yr)})}),K.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;be.isDocumentKey(i)||(i=i.child(""));const a=new dn(new be(i),0);let l=new ln(Ke);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Yr)),!0)},a),K.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){yt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return K.forEach(n.mutations,s=>{const i=new dn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new dn(n,0),s=this.Zr.firstAfterOrEqual(r);return K.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e){this.ri=e,this.docs=function(){return new Mt(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(n))}getEntries(e,n){let r=Ai();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Fn.newInvalidDocument(s))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ai();const a=n.path,l=new be(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||gz(pz(h),r)<=0||(s.has(h.key)||og(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return K.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ne(9500)}ii(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $7(this)}getSize(e){return K.resolve(this.size)}}class $7 extends A7{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(e){this.persistence=e,this.si=new sl(n=>X0(n),Z0),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new i_,this.targetCount=0,this.ai=Nc.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),K.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Nc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Pr(n),K.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),K.waitFor(i).next(()=>s)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),K.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,n){this.ui={},this.overlays={},this.ci=new ng(0),this.li=!1,this.li=!0,this.hi=new V7,this.referenceDelegate=e(this),this.Pi=new B7(this),this.indexManager=new N7,this.remoteDocumentCache=function(s){return new U7(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new S7(n),this.Ii=new M7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new L7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new F7(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const s=new z7(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return K.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class z7 extends vz{constructor(e){super(),this.currentSequenceNumber=e}}class o_{constructor(e){this.persistence=e,this.Ri=new i_,this.Vi=null}static mi(e){return new o_(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),K.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,r=>{const s=be.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,Pe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return K.or([()=>K.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ym{constructor(e,n){this.persistence=e,this.pi=new sl(r=>_z(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=k7(this,n)}static mi(e,n){return new Ym(e,n)}Ei(){}di(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return K.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?K.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,a=>this.br(e,a,n).next(l=>{l||(r++,i.removeEntry(a,Pe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),K.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kf(e.data.value)),n}br(e,n,r){return K.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return K.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Qe(),s=Qe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new a_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return i9()?8:xz($n())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new W7;return this.Ss(e,n,a).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,a,l.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(bl()<=Ge.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",El(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(bl()<=Ge.DEBUG&&fe("QueryEngine","Query:",El(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(bl()<=Ge.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",El(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qs(n))):K.resolve())}ys(e,n){if(BS(n))return K.resolve(null);let r=qs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Lx(n,null,"F"),r=qs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=Qe(...i);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,l);return this.Cs(n,u,a,c.readTime)?this.ys(e,Lx(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,s){return BS(n)||s.isEqual(Pe.min())?K.resolve(null):this.ps.getDocuments(e,r).next(i=>{const a=this.Ds(n,i);return this.Cs(n,a,r,s)?K.resolve(null):(bl()<=Ge.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),El(n)),this.vs(e,a,n,mz(s,Ud)).next(l=>l))})}Ds(e,n){let r=new ln(pk(e));return n.forEach((s,i)=>{og(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return bl()<=Ge.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",El(n)),this.ps.getDocumentsMatchingQuery(e,n,Uo.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="LocalStore",q7=3e8;class G7{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Mt(Ke),this.xs=new sl(i=>X0(i),Z0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new O7(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function K7(t,e,n,r){return new G7(t,e,n,r)}async function Vk(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=Qe();for(const u of s){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of i){l.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:l}))})})}function Q7(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,h){const f=u.batch,m=f.keys();let y=K.resolve();return m.forEach(x=>{y=y.next(()=>h.getEntry(c,x)).next(g=>{const _=u.docVersions.get(x);yt(_!==null,48541),g.version.compareTo(_)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),h.addEntry(g)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Qe();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Fk(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Y7(t,e){const n=ke(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;l.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let y=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(In.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),s=s.insert(f,y),function(g,_,b){return g.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=q7?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(m,y,h)&&l.push(n.Pi.updateTargetData(i,y))});let c=Ai(),u=Qe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(X7(i,a,e.documentUpdates).next(h=>{c=h.ks,u=h.qs})),!r.isEqual(Pe.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return K.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ms=s,i))}function X7(t,e,n){let r=Qe(),s=Qe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=Ai();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Pe.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):fe(l_,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:a,qs:s}})}function Z7(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=K0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function J7(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,K.resolve(s)):n.Pi.allocateTargetId(r).next(a=>(s=new go(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Bx(t,e,n){const r=ke(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Yc(a))throw a;fe(l_,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function tT(t,e,n){const r=ke(t);let s=Pe.min(),i=Qe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,h){const f=ke(c),m=f.xs.get(h);return m!==void 0?K.resolve(f.Ms.get(m)):f.Pi.getTargetData(u,h)}(r,a,qs(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?s:Pe.min(),n?i:Qe())).next(l=>(eW(r,Fz(e),l),{documents:l,Qs:i})))}function eW(t,e,n){let r=t.Os.get(e)||Pe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class nT{constructor(){this.activeTargetIds=Hz()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tW{constructor(){this.Mo=new nT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new nT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="ConnectivityMonitor";class sT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(rT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(rT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf=null;function zx(){return bf===null?bf=function(){return 268435456+Math.round(2147483648*Math.random())}():bf++,"0x"+bf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="RestConnection",rW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sW{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Wm?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const a=zx(),l=this.zo(e,n.toUriEncodedString());fe(Ky,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:u}=new URL(l),h=tl(u);return this.Jo(e,l,c,r,h).then(f=>(fe(Ky,`Received RPC '${e}' ${a}: `,f),f),f=>{throw bc(Ky,`RPC '${e}' ${a} failed with error: `,f,"url: ",l,"request:",r),f})}Ho(e,n,r,s,i,a){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Kc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=rW[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class oW extends sW{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=zx();return new Promise((l,c)=>{const u=new $R;u.setWithCredentials(!0),u.listenOnce(BR.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Gf.NO_ERROR:const f=u.getResponseJson();fe(On,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),l(f);break;case Gf.TIMEOUT:fe(On,`RPC '${e}' ${a} timed out`),c(new de(H.DEADLINE_EXCEEDED,"Request time out"));break;case Gf.HTTP_ERROR:const m=u.getStatus();if(fe(On,`RPC '${e}' ${a} failed with status:`,m,"response text:",u.getResponseText()),m>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y==null?void 0:y.error;if(x&&x.status&&x.message){const g=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(w)>=0?w:H.UNKNOWN}(x.status);c(new de(g,x.message))}else c(new de(H.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new de(H.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{fe(On,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(s);fe(On,`RPC '${e}' ${a} sending request:`,s),u.send(n,"POST",h,r,15)})}T_(e,n,r){const s=zx(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=HR(),l=WR(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");fe(On,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=a.createWebChannel(h,c);this.I_(f);let m=!1,y=!1;const x=new iW({Yo:_=>{y?fe(On,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(m||(fe(On,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),fe(On,`RPC '${e}' stream ${s} sending:`,_),f.send(_))},Zo:()=>f.close()}),g=(_,b,w)=>{_.listen(b,E=>{try{w(E)}catch(T){setTimeout(()=>{throw T},0)}})};return g(f,Mu.EventType.OPEN,()=>{y||(fe(On,`RPC '${e}' stream ${s} transport opened.`),x.o_())}),g(f,Mu.EventType.CLOSE,()=>{y||(y=!0,fe(On,`RPC '${e}' stream ${s} transport closed`),x.a_(),this.E_(f))}),g(f,Mu.EventType.ERROR,_=>{y||(y=!0,bc(On,`RPC '${e}' stream ${s} transport errored. Name:`,_.name,"Message:",_.message),x.a_(new de(H.UNAVAILABLE,"The operation could not be completed")))}),g(f,Mu.EventType.MESSAGE,_=>{var b;if(!y){const w=_.data[0];yt(!!w,16349);const E=w,T=(E==null?void 0:E.error)||((b=E[0])==null?void 0:b.error);if(T){fe(On,`RPC '${e}' stream ${s} received error:`,T);const I=T.status;let O=function(P){const R=Xt[P];if(R!==void 0)return Nk(R)}(I),C=T.message;O===void 0&&(O=H.INTERNAL,C="Unknown error status: "+I+" with message "+T.message),y=!0,x.a_(new de(O,C)),f.close()}else fe(On,`RPC '${e}' stream ${s} received:`,w),x.u_(w)}}),g(l,zR.STAT_EVENT,_=>{_.stat===jx.PROXY?fe(On,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===jx.NOPROXY&&fe(On,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Qy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t){return new u7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&fe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="PersistentStream";class $k{constructor(e,n,r,s,i,a,l,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Uk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(ki(n.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new de(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return fe(iT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(fe(iT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aW extends $k{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=f7(this.serializer,e),r=function(i){if(!("targetChange"in i))return Pe.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Pe.min():a.readTime?Gs(a.readTime):Pe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=$x(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=Ox(c)?{documents:g7(i,c)}:{query:y7(i,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=Pk(i,a.resumeToken);const u=Vx(i,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(Pe.min())>0){l.readTime=Qm(i,a.snapshotVersion.toTimestamp());const u=Vx(i,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=x7(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=$x(this.serializer),n.removeTarget=e,this.q_(n)}}class lW extends $k{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return yt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,yt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){yt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=p7(e.writeResults,e.commitTime),r=Gs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=$x(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>m7(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{}class uW extends cW{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new de(H.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Go(e,Fx(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new de(H.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,Fx(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new de(H.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class dW{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ki(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="RemoteStore";class hW{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{il(this)&&(fe(za,"Restarting streams for network reachability change."),await async function(c){const u=ke(c);u.Ea.add(4),await vh(u),u.Ra.set("Unknown"),u.Ea.delete(4),await dg(u)}(this))})}),this.Ra=new dW(r,s)}}async function dg(t){if(il(t))for(const e of t.da)await e(!0)}async function vh(t){for(const e of t.da)await e(!1)}function Bk(t,e){const n=ke(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),h_(n)?d_(n):Zc(n).O_()&&u_(n,e))}function c_(t,e){const n=ke(t),r=Zc(n);n.Ia.delete(e),r.O_()&&zk(n,e),n.Ia.size===0&&(r.O_()?r.L_():il(n)&&n.Ra.set("Unknown"))}function u_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zc(t).Y_(e)}function zk(t,e){t.Va.Ue(e),Zc(t).Z_(e)}function d_(t){t.Va=new o7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Zc(t).start(),t.Ra.ua()}function h_(t){return il(t)&&!Zc(t).x_()&&t.Ia.size>0}function il(t){return ke(t).Ea.size===0}function Wk(t){t.Va=void 0}async function fW(t){t.Ra.set("Online")}async function mW(t){t.Ia.forEach((e,n)=>{u_(t,e)})}async function pW(t,e){Wk(t),h_(t)?(t.Ra.ha(e),d_(t)):t.Ra.set("Unknown")}async function gW(t,e,n){if(t.Ra.set("Online"),e instanceof Ik&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(r){fe(za,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xm(t,r)}else if(e instanceof Xf?t.Va.Ze(e):e instanceof Ck?t.Va.st(e):t.Va.tt(e),!n.isEqual(Pe.min()))try{const r=await Fk(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.Va.Tt(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(u);h&&i.Ia.set(u,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(In.EMPTY_BYTE_STRING,h.snapshotVersion)),zk(i,c);const f=new go(h.target,c,u,h.sequenceNumber);u_(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){fe(za,"Failed to raise snapshot:",r),await Xm(t,r)}}async function Xm(t,e,n){if(!Yc(e))throw e;t.Ea.add(1),await vh(t),t.Ra.set("Offline"),n||(n=()=>Fk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe(za,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await dg(t)})}function Hk(t,e){return e().catch(n=>Xm(t,n,e))}async function hg(t){const e=ke(t),n=Wo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:K0;for(;yW(e);)try{const s=await Z7(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,vW(e,s)}catch(s){await Xm(e,s)}qk(e)&&Gk(e)}function yW(t){return il(t)&&t.Ta.length<10}function vW(t,e){t.Ta.push(e);const n=Wo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function qk(t){return il(t)&&!Wo(t).x_()&&t.Ta.length>0}function Gk(t){Wo(t).start()}async function xW(t){Wo(t).ra()}async function wW(t){const e=Wo(t);for(const n of t.Ta)e.ea(n.mutations)}async function _W(t,e,n){const r=t.Ta.shift(),s=n_.from(r,e,n);await Hk(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await hg(t)}async function bW(t,e){e&&Wo(t).X_&&await async function(r,s){if(function(a){return r7(a)&&a!==H.ABORTED}(s.code)){const i=r.Ta.shift();Wo(r).B_(),await Hk(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await hg(r)}}(t,e),qk(t)&&Gk(t)}async function oT(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),fe(za,"RemoteStore received new credentials");const r=il(n);n.Ea.add(3),await vh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await dg(n)}async function EW(t,e){const n=ke(t);e?(n.Ea.delete(2),await dg(n)):e||(n.Ea.add(2),await vh(n),n.Ra.set("Unknown"))}function Zc(t){return t.ma||(t.ma=function(n,r,s){const i=ke(n);return i.sa(),new aW(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:fW.bind(null,t),t_:mW.bind(null,t),r_:pW.bind(null,t),H_:gW.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),h_(t)?d_(t):t.Ra.set("Unknown")):(await t.ma.stop(),Wk(t))})),t.ma}function Wo(t){return t.fa||(t.fa=function(n,r,s){const i=ke(n);return i.sa(),new lW(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:xW.bind(null,t),r_:bW.bind(null,t),ta:wW.bind(null,t),na:_W.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await hg(t)):(await t.fa.stop(),t.Ta.length>0&&(fe(za,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new f_(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function m_(t,e){if(ki("AsyncQueue",`${e}: ${t}`),Yc(t))return new de(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{static emptySet(e){return new Zl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=Lu(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Zl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.ga=new Mt(be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Cc{constructor(e,n,r,s,i,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Cc(e,n,Zl.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ig(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class TW{constructor(){this.queries=lT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ke(n),i=s.queries;s.queries=lT(),i.forEach((a,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new de(H.ABORTED,"Firestore shutting down"))}}function lT(){return new sl(t=>mk(t),ig)}async function Kk(t,e){const n=ke(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new SW,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=m_(a,`Initialization of query '${El(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&p_(n)}async function Qk(t,e){const n=ke(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function NW(t,e){const n=ke(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Fa(s)&&(r=!0);a.wa=s}}r&&p_(n)}function CW(t,e,n){const r=ke(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function p_(t){t.Ca.forEach(e=>{e.next()})}var Wx,cT;(cT=Wx||(Wx={})).Ma="default",cT.Cache="cache";class Yk{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Cc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.key=e}}class Zk{constructor(e){this.key=e}}class IW{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=pk(e),this.tu=new Zl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new aT,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),y=og(this.query,f)?f:null,x=!!m&&this.mutatedKeys.has(m.key),g=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let _=!1;m&&y?m.data.isEqual(y.data)?x!==g&&(r.track({type:3,doc:y}),_=!0):this.su(m,y)||(r.track({type:2,doc:y}),_=!0,(c&&this.eu(y,c)>0||u&&this.eu(y,u)<0)&&(l=!0)):!m&&y?(r.track({type:0,doc:y}),_=!0):m&&!y&&(r.track({type:1,doc:m}),_=!0,(c||u)&&(l=!0)),_&&(y?(a=a.add(y),i=g?i.add(h):i.delete(h)):(a=a.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:a,iu:r,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((h,f)=>function(y,x){const g=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:_})}};return g(y)-g(x)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,a.length!==0||u?{snapshot:new Cc(this.query,e.tu,i,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new Zk(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new Xk(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Cc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const g_="SyncEngine";class PW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jW{constructor(e){this.key=e,this.hu=!1}}class RW{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new sl(l=>mk(l),ig),this.Iu=new Map,this.Eu=new Set,this.du=new Mt(be.comparator),this.Au=new Map,this.Ru=new i_,this.Vu={},this.mu=new Map,this.fu=Nc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kW(t,e,n=!0){const r=sA(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await Jk(r,e,n,!0),s}async function AW(t,e){const n=sA(t);await Jk(n,e,!0,!1)}async function Jk(t,e,n,r){const s=await J7(t.localStore,qs(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await DW(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&Bk(t.remoteStore,s),l}async function DW(t,e,n,r,s){t.pu=(f,m,y)=>async function(g,_,b,w){let E=_.view.ru(b);E.Cs&&(E=await tT(g.localStore,_.query,!1).then(({documents:C})=>_.view.ru(C,E)));const T=w&&w.targetChanges.get(_.targetId),I=w&&w.targetMismatches.get(_.targetId)!=null,O=_.view.applyChanges(E,g.isPrimaryClient,T,I);return dT(g,_.targetId,O.au),O.snapshot}(t,f,m,y);const i=await tT(t.localStore,e,!0),a=new IW(e,i.Qs),l=a.ru(i.documents),c=yh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=a.applyChanges(l,t.isPrimaryClient,c);dT(t,n,u.au);const h=new PW(e,n,a);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function OW(t,e,n){const r=ke(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(a=>!ig(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Bx(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&c_(r.remoteStore,s.targetId),Hx(r,s.targetId)}).catch(Qc)):(Hx(r,s.targetId),await Bx(r.localStore,s.targetId,!0))}async function MW(t,e){const n=ke(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),c_(n.remoteStore,r.targetId))}async function LW(t,e,n){const r=WW(t);try{const s=await function(a,l){const c=ke(a),u=_t.now(),h=l.reduce((y,x)=>y.add(x.key),Qe());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let x=Ai(),g=Qe();return c.Ns.getEntries(y,h).next(_=>{x=_,x.forEach((b,w)=>{w.isValidDocument()||(g=g.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,x)).next(_=>{f=_;const b=[];for(const w of l){const E=Zz(w,f.get(w.key).overlayedDocument);E!=null&&b.push(new na(w.key,E,ok(E.value.mapValue),Gr.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,b,l)}).next(_=>{m=_;const b=_.applyToLocalDocumentSet(f,g);return c.documentOverlayCache.saveOverlays(y,_.batchId,b)})}).then(()=>({batchId:m.batchId,changes:yk(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let u=a.Vu[a.currentUser.toKey()];u||(u=new Mt(Ke)),u=u.insert(l,c),a.Vu[a.currentUser.toKey()]=u}(r,s.batchId,n),await xh(r,s.changes),await hg(r.remoteStore)}catch(s){const i=m_(s,"Failed to persist write");n.reject(i)}}async function eA(t,e){const n=ke(t);try{const r=await Y7(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Au.get(i);a&&(yt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?yt(a.hu,14607):s.removedDocuments.size>0&&(yt(a.hu,42227),a.hu=!1))}),await xh(n,r,e)}catch(r){await Qc(r)}}function uT(t,e,n){const r=ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,a)=>{const l=a.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=ke(a);c.onlineState=l;let u=!1;c.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(l)&&(u=!0)}),u&&p_(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VW(t,e,n){const r=ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let a=new Mt(be.comparator);a=a.insert(i,Fn.newNoDocument(i,Pe.min()));const l=Qe().add(i),c=new cg(Pe.min(),new Map,new Mt(Ke),a,l);await eA(r,c),r.du=r.du.remove(i),r.Au.delete(e),y_(r)}else await Bx(r.localStore,e,!1).then(()=>Hx(r,e,n)).catch(Qc)}async function FW(t,e){const n=ke(t),r=e.batch.batchId;try{const s=await Q7(n.localStore,e);nA(n,r,null),tA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xh(n,s)}catch(s){await Qc(s)}}async function UW(t,e,n){const r=ke(t);try{const s=await function(a,l){const c=ke(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(yt(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);nA(r,e,n),tA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xh(r,s)}catch(s){await Qc(s)}}function tA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function nA(t,e,n){const r=ke(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Hx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||rA(t,r)})}function rA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(c_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),y_(t))}function dT(t,e,n){for(const r of n)r instanceof Xk?(t.Ru.addReference(r.key,e),$W(t,r)):r instanceof Zk?(fe(g_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||rA(t,r.key)):Ne(19791,{wu:r})}function $W(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(fe(g_,"New document in limbo: "+n),t.Eu.add(r),y_(t))}function y_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new be(St.fromString(e)),r=t.fu.next();t.Au.set(r,new jW(n)),t.du=t.du.insert(n,r),Bk(t.remoteStore,new go(qs(J0(n.path)),r,"TargetPurposeLimboResolution",ng.ce))}}async function xh(t,e,n){const r=ke(t),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{a.push(r.pu(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=a_.As(c.targetId,u);i.push(f)}}))}),await Promise.all(a),r.Pu.H_(s),await async function(c,u){const h=ke(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>K.forEach(u,m=>K.forEach(m.Es,y=>h.persistence.referenceDelegate.addReference(f,m.targetId,y)).next(()=>K.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(f,m.targetId,y)))))}catch(f){if(!Yc(f))throw f;fe(l_,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const y=h.Ms.get(m),x=y.snapshotVersion,g=y.withLastLimboFreeSnapshotVersion(x);h.Ms=h.Ms.insert(m,g)}}}(r.localStore,i))}async function BW(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){fe(g_,"User change. New user:",e.toKey());const r=await Vk(n.localStore,e);n.currentUser=e,function(i,a){i.mu.forEach(l=>{l.forEach(c=>{c.reject(new de(H.CANCELLED,a))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xh(n,r.Ls)}}function zW(t,e){const n=ke(t),r=n.Au.get(e);if(r&&r.hu)return Qe().add(r.key);{let s=Qe();const i=n.Iu.get(e);if(!i)return s;for(const a of i){const l=n.Tu.get(a);s=s.unionWith(l.view.nu)}return s}}function sA(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VW.bind(null,e),e.Pu.H_=NW.bind(null,e.eventManager),e.Pu.yu=CW.bind(null,e.eventManager),e}function WW(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UW.bind(null,e),e}class Zm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ug(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return K7(this.persistence,new H7,e.initialUser,this.serializer)}Cu(e){return new Lk(o_.mi,this.serializer)}Du(e){return new tW}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zm.provider={build:()=>new Zm};class HW extends Zm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){yt(this.persistence.referenceDelegate instanceof Ym,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new j7(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?rr.withCacheSize(this.cacheSizeBytes):rr.DEFAULT;return new Lk(r=>Ym.mi(r,n),this.serializer)}}class qx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BW.bind(null,this.syncEngine),await EW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TW}()}createDatastore(e){const n=ug(e.databaseInfo.databaseId),r=function(i){return new oW(i)}(e.databaseInfo);return function(i,a,l,c){return new uW(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,l){return new hW(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>uT(this.syncEngine,n,0),function(){return sT.v()?new sT:new nW}())}createSyncEngine(e,n){return function(s,i,a,l,c,u,h){const f=new RW(s,i,a,l,c,u);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ke(s);fe(za,"RemoteStore shutting down."),i.Ea.add(5),await vh(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}qx.provider={build:()=>new qx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="FirestoreClient";class qW{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ln.UNAUTHENTICATED,this.clientId=G0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{fe(Ho,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(fe(Ho,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=m_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Yy(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Ho,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Vk(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function hT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await GW(t);fe(Ho,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>oT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>oT(e.remoteStore,s)),t._onlineComponents=e}async function GW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Ho,"Using user provided OfflineComponentProvider");try{await Yy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===H.FAILED_PRECONDITION||s.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;bc("Error using user provided cache. Falling back to memory cache: "+n),await Yy(t,new Zm)}}else fe(Ho,"Using default OfflineComponentProvider"),await Yy(t,new HW(void 0));return t._offlineComponents}async function oA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Ho,"Using user provided OnlineComponentProvider"),await hT(t,t._uninitializedComponentsProvider._online)):(fe(Ho,"Using default OnlineComponentProvider"),await hT(t,new qx))),t._onlineComponents}function KW(t){return oA(t).then(e=>e.syncEngine)}async function aA(t){const e=await oA(t),n=e.eventManager;return n.onListen=kW.bind(null,e.syncEngine),n.onUnlisten=OW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MW.bind(null,e.syncEngine),n}function QW(t,e,n={}){const r=new bi;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const h=new iA({next:m=>{h.Nu(),a.enqueueAndForget(()=>Qk(i,f));const y=m.docs.has(l);!y&&m.fromCache?u.reject(new de(H.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&c.source==="server"?u.reject(new de(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new Yk(J0(l.path),h,{includeMetadataChanges:!0,qa:!0});return Kk(i,f)}(await aA(t),t.asyncQueue,e,n,r)),r.promise}function YW(t,e,n={}){const r=new bi;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const h=new iA({next:m=>{h.Nu(),a.enqueueAndForget(()=>Qk(i,f)),m.fromCache&&c.source==="server"?u.reject(new de(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new Yk(l,h,{includeMetadataChanges:!0,qa:!0});return Kk(i,f)}(await aA(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="firestore.googleapis.com",mT=!0;class pT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cA,this.ssl=mT}else this.host=e.host,this.ssl=e.ssl??mT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Mk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<I7)throw new de(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lA(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rz;switch(r.type){case"firstParty":return new az(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=fT.get(n);r&&(fe("ComponentProvider","Removing Datastore"),fT.delete(n),r.terminate())}(this),Promise.resolve()}}function XW(t,e,n,r={}){var u;t=Ts(t,fg);const s=tl(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(D0(`https://${l}`),O0("Firestore",!0)),i.host!==cA&&i.host!==l&&bc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:r};if(!Fo(c,a)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Ln.MOCK_USER;else{h=qj(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new de(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ln(m)}t._authCredentials=new sz(new GR(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ol(this.firestore,e,this._query)}}class Gt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}toJSON(){return{type:Gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ph(n,Gt._jsonSchema))return new Gt(e,r||null,new be(St.fromString(n.referencePath)))}}Gt._jsonSchemaVersion="firestore/documentReference/1.0",Gt._jsonSchema={type:tn("string",Gt._jsonSchemaVersion),referencePath:tn("string")};class Ro extends ol{constructor(e,n,r){super(e,n,J0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new be(e))}withConverter(e){return new Ro(this.firestore,e,this._path)}}function un(t,e,...n){if(t=Ot(t),KR("collection","path",e),t instanceof fg){const r=St.fromString(e,...n);return IS(r),new Ro(t,null,r)}{if(!(t instanceof Gt||t instanceof Ro))throw new de(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return IS(r),new Ro(t.firestore,null,r)}}function Bn(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=G0.newId()),KR("doc","path",e),t instanceof fg){const r=St.fromString(e,...n);return CS(r),new Gt(t,null,new be(r))}{if(!(t instanceof Gt||t instanceof Ro))throw new de(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return CS(r),new Gt(t.firestore,t instanceof Ro?t.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="AsyncQueue";class yT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Uk(this,"async_queue_retry"),this._c=()=>{const r=Qy();r&&fe(gT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Qy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Qy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new bi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Yc(e))throw e;fe(gT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ki("INTERNAL UNHANDLED ERROR: ",vT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=f_.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&Ne(47125,{Pc:vT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function vT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class al extends fg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new yT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yT(e),this._firestoreClient=void 0,await e}}}function ZW(t,e){const n=typeof t=="object"?t:Xp(),r=typeof t=="string"?t:Wm,s=Jo(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=zj("firestore");i&&XW(s,...i)}return s}function v_(t){if(t._terminated)throw new de(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||JW(t),t._firestoreClient}function JW(t){var r,s,i;const e=t._freezeSettings(),n=function(l,c,u,h){return new Sz(l,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,lA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new qW(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wr(In.fromBase64String(e))}catch(n){throw new de(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wr(In.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ph(e,Wr._jsonSchema))return Wr.fromBase64String(e.bytes)}}Wr._jsonSchemaVersion="firestore/bytes/1.0",Wr._jsonSchema={type:tn("string",Wr._jsonSchemaVersion),bytes:tn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ks._jsonSchemaVersion}}static fromJSON(e){if(ph(e,Ks._jsonSchema))return new Ks(e.latitude,e.longitude)}}Ks._jsonSchemaVersion="firestore/geoPoint/1.0",Ks._jsonSchema={type:tn("string",Ks._jsonSchemaVersion),latitude:tn("number"),longitude:tn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Qs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ph(e,Qs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Qs(e.vectorValues);throw new de(H.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qs._jsonSchemaVersion="firestore/vectorValue/1.0",Qs._jsonSchema={type:tn("string",Qs._jsonSchemaVersion),vectorValues:tn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH=/^__.*__$/;class tH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new na(e,this.data,this.fieldMask,n,this.fieldTransforms):new gh(e,this.data,n,this.fieldTransforms)}}class uA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new na(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:t})}}class w_{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new w_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(dA(this.Ac)&&eH.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class nH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ug(e)}Cc(e,n,r,s=!1){return new w_({Ac:e,methodName:n,Dc:r,path:bn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pg(t){const e=t._freezeSettings(),n=ug(t._databaseId);return new nH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hA(t,e,n,r,s,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);__("Data must be an object, but it was:",a,r);const l=fA(r,a);let c,u;if(i.merge)c=new Tr(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=Gx(e,f,n);if(!a.contains(m))throw new de(H.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);pA(h,m)||h.push(m)}c=new Tr(h),u=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=a.fieldTransforms;return new tH(new or(l),c,u)}class gg extends x_{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gg}}function rH(t,e,n,r){const s=t.Cc(1,e,n);__("Data must be an object, but it was:",s,r);const i=[],a=or.empty();ta(r,(c,u)=>{const h=b_(e,c,n);u=Ot(u);const f=s.yc(h);if(u instanceof gg)i.push(h);else{const m=wh(u,f);m!=null&&(i.push(h),a.set(h,m))}});const l=new Tr(i);return new uA(a,l,s.fieldTransforms)}function sH(t,e,n,r,s,i){const a=t.Cc(1,e,n),l=[Gx(e,r,n)],c=[s];if(i.length%2!=0)throw new de(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(Gx(e,i[m])),c.push(i[m+1]);const u=[],h=or.empty();for(let m=l.length-1;m>=0;--m)if(!pA(u,l[m])){const y=l[m];let x=c[m];x=Ot(x);const g=a.yc(y);if(x instanceof gg)u.push(y);else{const _=wh(x,g);_!=null&&(u.push(y),h.set(y,_))}}const f=new Tr(u);return new uA(h,f,a.fieldTransforms)}function iH(t,e,n,r=!1){return wh(n,t.Cc(r?4:3,e))}function wh(t,e){if(mA(t=Ot(t)))return __("Unsupported field value:",e,t),fA(t,e);if(t instanceof x_)return function(r,s){if(!dA(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let c=wh(l,s.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qz(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=_t.fromDate(r);return{timestampValue:Qm(s.serializer,i)}}if(r instanceof _t){const i=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qm(s.serializer,i)}}if(r instanceof Ks)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wr)return{bytesValue:Pk(s.serializer,r._byteString)};if(r instanceof Gt){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:s_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Qs)return function(a,l){return{mapValue:{fields:{[rk]:{stringValue:ik},[Hm]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return e_(l.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${tg(r)}`)}(t,e)}function fA(t,e){const n={};return XR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(t,(r,s)=>{const i=wh(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function mA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof Ks||t instanceof Wr||t instanceof Gt||t instanceof x_||t instanceof Qs)}function __(t,e,n){if(!mA(n)||!QR(n)){const r=tg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Gx(t,e,n){if((e=Ot(e))instanceof mg)return e._internalPath;if(typeof e=="string")return b_(t,e);throw Jm("Field path arguments must be of type string or ",t,!1,void 0,n)}const oH=new RegExp("[~\\*/\\[\\]]");function b_(t,e,n){if(e.search(oH)>=0)throw Jm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mg(...e.split("."))._internalPath}catch{throw Jm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jm(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new de(H.INVALID_ARGUMENT,l+t+c)}function pA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aH extends gA{data(){return super.data()}}function yg(t,e){return typeof e=="string"?b_(t,e):e instanceof mg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class E_{}class yA extends E_{}function ll(t,e,...n){let r=[];e instanceof E_&&r.push(e),r=r.concat(n),function(i){const a=i.filter(c=>c instanceof S_).length,l=i.filter(c=>c instanceof vg).length;if(a>1||a>0&&l>0)throw new de(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class vg extends yA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new vg(e,n,r)}_apply(e){const n=this._parse(e);return vA(e._query,n),new ol(e.firestore,e.converter,Mx(e._query,n))}_parse(e){const n=pg(e.firestore);return function(i,a,l,c,u,h,f){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new de(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){wT(f,h);const x=[];for(const g of f)x.push(xT(c,i,g));m={arrayValue:{values:x}}}else m=xT(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||wT(f,h),m=iH(l,a,f,h==="in"||h==="not-in");return en.create(u,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function _h(t,e,n){const r=e,s=yg("where",t);return vg._create(s,r,n)}class S_ extends E_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new S_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ns.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)vA(a,c),a=Mx(a,c)}(e._query,n),new ol(e.firestore,e.converter,Mx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class T_ extends yA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new T_(e,n)}_apply(e){const n=function(s,i,a){if(s.startAt!==null)throw new de(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new de(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wd(i,a)}(e._query,this._field,this._direction);return new ol(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new Xc(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function N_(t,e="asc"){const n=e,r=yg("orderBy",t);return T_._create(r,n)}function xT(t,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new de(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fk(e)&&n.indexOf("/")!==-1)throw new de(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(St.fromString(n));if(!be.isDocumentKey(r))throw new de(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return MS(t,new be(r))}if(n instanceof Gt)return MS(t,n._key);throw new de(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tg(n)}.`)}function wT(t,e){if(!Array.isArray(t)||t.length===0)throw new de(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vA(t,e){const n=function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class cH{convertValue(e,n="none"){switch(zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ta(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Hm].arrayValue)==null?void 0:s.values)==null?void 0:i.map(a=>Bt(a.doubleValue));return new Qs(n)}convertGeoPoint(e){return new Ks(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($d(e));default:return null}}convertTimestamp(e){const n=$o(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=St.fromString(e);yt(Ok(r),9688,{name:e});const s=new Bd(r.get(1),r.get(3)),i=new be(r.popFirst(5));return s.isEqual(n)||ki(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Fu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ka extends gA{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(H.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ka._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ka._jsonSchemaVersion="firestore/documentSnapshot/1.0",ka._jsonSchema={type:tn("string",ka._jsonSchemaVersion),bundleSource:tn("string","DocumentSnapshot"),bundleName:tn("string"),bundle:tn("string")};class Zf extends ka{data(e={}){return super.data(e)}}class Jl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Fu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zf(this._firestore,this._userDataWriter,r.key,r,new Fu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new Zf(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Fu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Zf(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Fu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:uH(l.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(H.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=G0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t){t=Ts(t,Gt);const e=Ts(t.firestore,al);return QW(v_(e),t._key).then(n=>dH(e,t,n))}Jl._jsonSchemaVersion="firestore/querySnapshot/1.0",Jl._jsonSchema={type:tn("string",Jl._jsonSchemaVersion),bundleSource:tn("string","QuerySnapshot"),bundleName:tn("string"),bundle:tn("string")};class wA extends cH{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function Mr(t){t=Ts(t,ol);const e=Ts(t.firestore,al),n=v_(e),r=new wA(e);return lH(t._query),YW(n,t._query).then(s=>new Jl(e,r,t,s))}function _A(t,e,n){t=Ts(t,Gt);const r=Ts(t.firestore,al),s=xA(t.converter,e);return xg(r,[hA(pg(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Gr.none())])}function Jc(t,e,n,...r){t=Ts(t,Gt);const s=Ts(t.firestore,al),i=pg(s);let a;return a=typeof(e=Ot(e))=="string"||e instanceof mg?sH(i,"updateDoc",t._key,e,n,r):rH(i,"updateDoc",t._key,e),xg(s,[a.toMutation(t._key,Gr.exists(!0))])}function bh(t){return xg(Ts(t.firestore,al),[new t_(t._key,Gr.none())])}function eu(t,e){const n=Ts(t.firestore,al),r=Bn(t),s=xA(t.converter,e);return xg(n,[hA(pg(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Gr.exists(!1))]).then(()=>r)}function xg(t,e){return function(r,s){const i=new bi;return r.asyncQueue.enqueueAndForget(async()=>LW(await KW(r),s,i)),i.promise}(v_(t),e)}function dH(t,e,n){const r=n.docs.get(e._key),s=new wA(t);return new ka(t,s,e._key,r,new Fu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Kc=s})(rl),Es(new Zr("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new al(new iz(r.getProvider("auth-internal")),new lz(a,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new de(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bd(u.options.projectId,h)}(a,s),a);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),mr(ES,SS,e),mr(ES,SS,"esm2020")})();var hH="firebase",fH="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(hH,fH,"app");const bA="@firebase/installations",I_="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=1e4,SA=`w:${I_}`,TA="FIS_v2",mH="https://firebaseinstallations.googleapis.com/v1",pH=60*60*1e3,gH="installations",yH="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Wa=new nl(gH,yH,vH);function NA(t){return t instanceof es&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA({projectId:t}){return`${mH}/projects/${t}/installations`}function IA(t){return{token:t.token,requestStatus:2,expiresIn:wH(t.expiresIn),creationTime:Date.now()}}async function PA(t,e){const r=(await e.json()).error;return Wa.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function jA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function xH(t,{refreshToken:e}){const n=jA(t);return n.append("Authorization",_H(e)),n}async function RA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function wH(t){return Number(t.replace("s","000"))}function _H(t){return`${TA} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bH({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=CA(t),s=jA(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const a={fid:n,authVersion:TA,appId:t.appId,sdkVersion:SA},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await RA(()=>fetch(r,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:IA(u.authToken)}}else throw await PA("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EH(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SH=/^[cdef][\w-]{21}$/,Kx="";function TH(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=NH(t);return SH.test(n)?n:Kx}catch{return Kx}}function NH(t){return EH(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=new Map;function DA(t,e){const n=wg(t);OA(n,e),CH(n,e)}function OA(t,e){const n=AA.get(t);if(n)for(const r of n)r(e)}function CH(t,e){const n=IH();n&&n.postMessage({key:t,fid:e}),PH()}let ba=null;function IH(){return!ba&&"BroadcastChannel"in self&&(ba=new BroadcastChannel("[Firebase] FID Change"),ba.onmessage=t=>{OA(t.data.key,t.data.fid)}),ba}function PH(){AA.size===0&&ba&&(ba.close(),ba=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH="firebase-installations-database",RH=1,Ha="firebase-installations-store";let Xy=null;function P_(){return Xy||(Xy=Zj(jH,RH,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ha)}}})),Xy}async function ep(t,e){const n=wg(t),s=(await P_()).transaction(Ha,"readwrite"),i=s.objectStore(Ha),a=await i.get(n);return await i.put(e,n),await s.done,(!a||a.fid!==e.fid)&&DA(t,e.fid),e}async function MA(t){const e=wg(t),r=(await P_()).transaction(Ha,"readwrite");await r.objectStore(Ha).delete(e),await r.done}async function _g(t,e){const n=wg(t),s=(await P_()).transaction(Ha,"readwrite"),i=s.objectStore(Ha),a=await i.get(n),l=e(a);return l===void 0?await i.delete(n):await i.put(l,n),await s.done,l&&(!a||a.fid!==l.fid)&&DA(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j_(t){let e;const n=await _g(t.appConfig,r=>{const s=kH(r),i=AH(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Kx?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function kH(t){const e=t||{fid:TH(),registrationStatus:0};return LA(e)}function AH(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Wa.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=DH(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:OH(t)}:{installationEntry:e}}async function DH(t,e){try{const n=await bH(t,e);return ep(t.appConfig,n)}catch(n){throw NA(n)&&n.customData.serverCode===409?await MA(t.appConfig):await ep(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function OH(t){let e=await _T(t.appConfig);for(;e.registrationStatus===1;)await kA(100),e=await _T(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await j_(t);return r||n}return e}function _T(t){return _g(t,e=>{if(!e)throw Wa.create("installation-not-found");return LA(e)})}function LA(t){return MH(t)?{fid:t.fid,registrationStatus:0}:t}function MH(t){return t.registrationStatus===1&&t.registrationTime+EA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LH({appConfig:t,heartbeatServiceProvider:e},n){const r=VH(t,n),s=xH(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const a={installation:{sdkVersion:SA,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await RA(()=>fetch(r,l));if(c.ok){const u=await c.json();return IA(u)}else throw await PA("Generate Auth Token",c)}function VH(t,{fid:e}){return`${CA(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R_(t,e=!1){let n;const r=await _g(t.appConfig,i=>{if(!VA(i))throw Wa.create("not-registered");const a=i.authToken;if(!e&&$H(a))return i;if(a.requestStatus===1)return n=FH(t,e),i;{if(!navigator.onLine)throw Wa.create("app-offline");const l=zH(i);return n=UH(t,l),l}});return n?await n:r.authToken}async function FH(t,e){let n=await bT(t.appConfig);for(;n.authToken.requestStatus===1;)await kA(100),n=await bT(t.appConfig);const r=n.authToken;return r.requestStatus===0?R_(t,e):r}function bT(t){return _g(t,e=>{if(!VA(e))throw Wa.create("not-registered");const n=e.authToken;return WH(n)?{...e,authToken:{requestStatus:0}}:e})}async function UH(t,e){try{const n=await LH(t,e),r={...e,authToken:n};return await ep(t.appConfig,r),n}catch(n){if(NA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await MA(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await ep(t.appConfig,r)}throw n}}function VA(t){return t!==void 0&&t.registrationStatus===2}function $H(t){return t.requestStatus===2&&!BH(t)}function BH(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+pH}function zH(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function WH(t){return t.requestStatus===1&&t.requestTime+EA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HH(t){const e=t,{installationEntry:n,registrationPromise:r}=await j_(e);return r?r.catch(console.error):R_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qH(t,e=!1){const n=t;return await GH(n),(await R_(n,e)).token}async function GH(t){const{registrationPromise:e}=await j_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KH(t){if(!t||!t.options)throw Zy("App Configuration");if(!t.name)throw Zy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Zy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Zy(t){return Wa.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="installations",QH="installations-internal",YH=t=>{const e=t.getProvider("app").getImmediate(),n=KH(e),r=Jo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},XH=t=>{const e=t.getProvider("app").getImmediate(),n=Jo(e,FA).getImmediate();return{getId:()=>HH(n),getToken:s=>qH(n,s)}};function ZH(){Es(new Zr(FA,YH,"PUBLIC")),Es(new Zr(QH,XH,"PRIVATE"))}ZH();mr(bA,I_);mr(bA,I_,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="analytics",JH="firebase_id",eq="origin",tq=60*1e3,nq="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",k_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new Yp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rq={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Pr=new nl("analytics","Analytics",rq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sq(t){if(!t.startsWith(k_)){const e=Pr.create("invalid-gtag-resource",{gtagURL:t});return pr.warn(e.message),""}return t}function UA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function iq(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function oq(t,e){const n=iq("firebase-js-sdk-policy",{createScriptURL:sq}),r=document.createElement("script"),s=`${k_}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function aq(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function lq(t,e,n,r,s,i){const a=r[s];try{if(a)await e[a];else{const c=(await UA(n)).find(u=>u.measurementId===s);c&&await e[c.appId]}}catch(l){pr.error(l)}t("config",s,i)}async function cq(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const l=await UA(n);for(const c of a){const u=l.find(f=>f.measurementId===c),h=u&&e[u.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){pr.error(i)}}function uq(t,e,n,r){async function s(i,...a){try{if(i==="event"){const[l,c]=a;await cq(t,e,n,l,c)}else if(i==="config"){const[l,c]=a;await lq(t,e,n,r,l,c)}else if(i==="consent"){const[l,c]=a;t("consent",l,c)}else if(i==="get"){const[l,c,u]=a;t("get",l,c,u)}else if(i==="set"){const[l]=a;t("set",l)}else t(i,...a)}catch(l){pr.error(l)}}return s}function dq(t,e,n,r,s){let i=function(...a){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=uq(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function hq(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(k_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq=30,mq=1e3;class pq{constructor(e={},n=mq){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const $A=new pq;function gq(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function yq(t){var a;const{appId:e,apiKey:n}=t,r={method:"GET",headers:gq(n)},s=nq.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let l="";try{const c=await i.json();(a=c.error)!=null&&a.message&&(l=c.error.message)}catch{}throw Pr.create("config-fetch-failed",{httpStatus:i.status,responseMessage:l})}return i.json()}async function vq(t,e=$A,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Pr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Pr.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new _q;return setTimeout(async()=>{l.abort()},tq),BA({appId:r,apiKey:s,measurementId:i},a,l,e)}async function BA(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=$A){var l;const{appId:i,measurementId:a}=t;try{await xq(r,e)}catch(c){if(a)return pr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:a};throw c}try{const c=await yq(t);return s.deleteThrottleMetadata(i),c}catch(c){const u=c;if(!wq(u)){if(s.deleteThrottleMetadata(i),a)return pr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:i,measurementId:a};throw c}const h=Number((l=u==null?void 0:u.customData)==null?void 0:l.httpStatus)===503?HE(n,s.intervalMillis,fq):HE(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(i,f),pr.debug(`Calling attemptFetch again in ${h} millis`),BA(t,f,r,s)}}function xq(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Pr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function wq(t){if(!(t instanceof es)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class _q{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function bq(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,a={...r,send_to:i};t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eq(){if(Kj())try{await Qj()}catch(t){return pr.warn(Pr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return pr.warn(Pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Sq(t,e,n,r,s,i,a){const l=vq(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&pr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>pr.error(m)),e.push(l);const c=Eq().then(m=>{if(m)return r.getId()}),[u,h]=await Promise.all([l,c]);hq(i)||oq(i,u.measurementId),s("js",new Date);const f=(a==null?void 0:a.config)??{};return f[eq]="firebase",f.update=!0,h!=null&&(f[JH]=h),s("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(e){this.app=e}_delete(){return delete ld[this.app.options.appId],Promise.resolve()}}let ld={},ET=[];const ST={};let Jy="dataLayer",Nq="gtag",TT,zA,NT=!1;function Cq(){const t=[];if(Gj()&&t.push("This is a browser extension environment."),o9()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Pr.create("invalid-analytics-context",{errorInfo:e});pr.warn(n.message)}}function Iq(t,e,n){Cq();const r=t.options.appId;if(!r)throw Pr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)pr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Pr.create("no-api-key");if(ld[r]!=null)throw Pr.create("already-exists",{id:r});if(!NT){aq(Jy);const{wrappedGtag:i,gtagCore:a}=dq(ld,ET,ST,Jy,Nq);zA=i,TT=a,NT=!0}return ld[r]=Sq(t,ET,ST,e,TT,Jy,n),new Tq(t)}function Pq(t=Xp()){t=Ot(t);const e=Jo(t,tp);return e.isInitialized()?e.getImmediate():jq(t)}function jq(t,e={}){const n=Jo(t,tp);if(n.isInitialized()){const s=n.getImmediate();if(Fo(e,n.getOptions()))return s;throw Pr.create("already-initialized")}return n.initialize({options:e})}function Rq(t,e,n,r){t=Ot(t),bq(zA,ld[t.app.options.appId],e,n,r).catch(s=>pr.error(s))}const CT="@firebase/analytics",IT="0.10.18";function kq(){Es(new Zr(tp,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return Iq(r,s,n)},"PUBLIC")),Es(new Zr("analytics-internal",t,"PRIVATE")),mr(CT,IT),mr(CT,IT,"esm2020");function t(e){try{const n=e.getProvider(tp).getImmediate();return{logEvent:(r,s,i)=>Rq(n,r,s,i)}}catch(n){throw Pr.create("interop-component-reg-failed",{reason:n})}}}kq();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="firebasestorage.googleapis.com",Aq="storageBucket",Dq=2*60*1e3,Oq=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends es{constructor(e,n,r=0){super(ev(e),`Firebase Storage: ${n} (${ev(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,si.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ev(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ei;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ei||(ei={}));function ev(t){return"storage/"+t}function Mq(){const t="An unknown error occurred, please check the error payload for server response.";return new si(ei.UNKNOWN,t)}function Lq(){return new si(ei.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Vq(){return new si(ei.CANCELED,"User canceled the upload/download.")}function Fq(t){return new si(ei.INVALID_URL,"Invalid URL '"+t+"'.")}function Uq(t){return new si(ei.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function PT(t){return new si(ei.INVALID_ARGUMENT,t)}function HA(){return new si(ei.APP_DELETED,"The Firebase app was deleted.")}function $q(t){return new si(ei.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ys.makeFromUrl(e,n)}catch{return new ys(e,"")}if(r.path==="")return r;throw Uq(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+s+a,"i"),c={bucket:1,path:3};function u(T){T.path_=decodeURIComponent(T.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${f}/${h}/b/${s}/o${m}`,"i"),x={bucket:1,path:3},g=n===WA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",b=new RegExp(`^https?://${g}/${s}/${_}`,"i"),E=[{regex:l,indices:c,postModify:i},{regex:y,indices:x,postModify:u},{regex:b,indices:{bucket:1,path:2},postModify:u}];for(let T=0;T<E.length;T++){const I=E[T],O=I.regex.exec(e);if(O){const C=O[I.indices.bucket];let N=O[I.indices.path];N||(N=""),r=new ys(C,N),I.postModify(r);break}}if(r==null)throw Fq(e);return r}}class Bq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zq(t,e,n){let r=1,s=null,i=null,a=!1,l=0;function c(){return l===2}let u=!1;function h(..._){u||(u=!0,e.apply(null,_))}function f(_){s=setTimeout(()=>{s=null,t(y,c())},_)}function m(){i&&clearTimeout(i)}function y(_,...b){if(u){m();return}if(_){m(),h.call(null,_,...b);return}if(c()||a){m(),h.call(null,_,...b);return}r<64&&(r*=2);let E;l===1?(l=2,E=0):E=(r+Math.random())*1e3,f(E)}let x=!1;function g(_){x||(x=!0,m(),!u&&(s!==null?(_||(l=2),clearTimeout(s),f(0)):_||(l=1)))}return f(0),i=setTimeout(()=>{a=!0,g(!0)},n),g}function Wq(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hq(t){return t!==void 0}function jT(t,e,n,r){if(r<e)throw PT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw PT(`Invalid value for '${t}'. Expected ${n} or less.`)}function qq(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var np;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(np||(np={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gq(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e,n,r,s,i,a,l,c,u,h,f,m=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,g)=>{this.resolve_=x,this.reject_=g,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Ef(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const l=i.getErrorCode()===np.NO_ERROR,c=i.getStatus();if(!l||Gq(c,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===np.ABORT;r(!1,new Ef(!1,null,h));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new Ef(u,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());Hq(c)?i(c):i()}catch(c){a(c)}else if(l!==null){const c=Mq();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(s.canceled){const c=this.appDelete_?HA():Vq();a(c)}else{const c=Lq();a(c)}};this.canceled_?n(!1,new Ef(!1,null,!0)):this.backoffId_=zq(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Wq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ef{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Qq(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Yq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Xq(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Zq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Jq(t,e,n,r,s,i,a=!0,l=!1){const c=qq(t.urlParams),u=t.url+c,h=Object.assign({},t.headers);return Xq(h,e),Qq(h,n),Yq(h,i),Zq(h,r),new Kq(u,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eG(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function tG(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n){this._service=e,n instanceof ys?this._location=n:this._location=ys.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new rp(e,n)}get root(){const e=new ys(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tG(this._location.path)}get storage(){return this._service}get parent(){const e=eG(this._location.path);if(e===null)return null;const n=new ys(this._location.bucket,e);return new rp(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw $q(e)}}function RT(t,e){const n=e==null?void 0:e[Aq];return n==null?null:ys.makeFromBucketSpec(n,t)}function nG(t,e,n,r={}){t.host=`${e}:${n}`;const s=tl(e);s&&(D0(`https://${t.host}/b`),O0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:qj(i,t.app.options.projectId))}class rG{constructor(e,n,r,s,i,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=WA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Dq,this._maxUploadRetryTime=Oq,this._requests=new Set,s!=null?this._bucket=ys.makeFromBucketSpec(s,this._host):this._bucket=RT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ys.makeFromBucketSpec(this._url,e):this._bucket=RT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rp(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Bq(HA());{const a=Jq(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const kT="@firebase/storage",AT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="storage";function sG(t=Xp(),e){t=Ot(t);const r=Jo(t,qA).getImmediate({identifier:e}),s=zj("storage");return s&&iG(r,...s),r}function iG(t,e,n,r={}){nG(t,e,n,r)}function oG(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new rG(n,r,s,e,rl)}function aG(){Es(new Zr(qA,oG,"PUBLIC").setMultipleInstances(!0)),mr(kT,AT,""),mr(kT,AT,"esm2020")}aG();const lG={apiKey:"AIzaSyC7Zt5bErob58hnlafbZTTRzWzAZ_Agdmg",authDomain:"stamp-iokode.firebaseapp.com",projectId:"stamp-iokode",storageBucket:"stamp-iokode.firebasestorage.app",messagingSenderId:"1065350474534",appId:"1:1065350474534:web:4e3bd59b1178db8687afe7",measurementId:"G-3SXS705MRJ"},bg=Jj(lG);Pq(bg);const Ic=tz(bg),et=ZW(bg);sG(bg);const cG=["admin@estamp.com","support@estamp.com"],uG=t=>!t||!t.email?!1:cG.includes(t.email.toLowerCase()),dG=async(t,e,n)=>{try{const s=(await IB(Ic,t,e)).user;n&&await jR(s,{displayName:n});const i={uid:s.uid,email:s.email,displayName:n||s.displayName||"",createdAt:new Date,updatedAt:new Date};return await _A(Bn(et,"users",s.uid),i),s}catch(r){throw console.error("Sign up error:",r),r}},hG=async(t,e)=>{try{return(await PB(Ic,t,e)).user}catch(n){throw console.error("Sign in error:",n),n}},fG=async()=>{try{await DB(Ic)}catch(t){throw console.error("Sign out error:",t),t}},mG=t=>AB(Ic,t),GA=p.createContext({user:null,loading:!0,isAdmin:!1}),pG=({children:t})=>{const[e,n]=p.useState(null),[r,s]=p.useState(!0),[i,a]=p.useState(!1);return p.useEffect(()=>{const l=mG(c=>{n(c),a(uG(c)),s(!1)});return()=>l()},[]),o.jsx(GA.Provider,{value:{user:e,loading:r,isAdmin:i},children:t})},Eh=()=>{const t=p.useContext(GA);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},gG=lh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?JI:"button";return o.jsx(a,{className:we(gG({variant:e,size:n,className:t})),ref:i,...s})});ee.displayName="Button";var yG=p.createContext(void 0);function Eg(t){const e=p.useContext(yG);return t||e||"ltr"}var tv=0;function A_(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??DT()),document.body.insertAdjacentElement("beforeend",t[1]??DT()),tv++,()=>{tv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tv--}},[])}function DT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var nv="focusScope.autoFocusOnMount",rv="focusScope.autoFocusOnUnmount",OT={bubbles:!1,cancelable:!0},vG="FocusScope",Sg=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[l,c]=p.useState(null),u=gr(s),h=gr(i),f=p.useRef(null),m=Xe(e,g=>c(g)),y=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let g=function(E){if(y.paused||!l)return;const T=E.target;l.contains(T)?f.current=T:Xi(f.current,{select:!0})},_=function(E){if(y.paused||!l)return;const T=E.relatedTarget;T!==null&&(l.contains(T)||Xi(f.current,{select:!0}))},b=function(E){if(document.activeElement===document.body)for(const I of E)I.removedNodes.length>0&&Xi(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",_);const w=new MutationObserver(b);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",_),w.disconnect()}}},[r,l,y.paused]),p.useEffect(()=>{if(l){LT.add(y);const g=document.activeElement;if(!l.contains(g)){const b=new CustomEvent(nv,OT);l.addEventListener(nv,u),l.dispatchEvent(b),b.defaultPrevented||(xG(SG(KA(l)),{select:!0}),document.activeElement===g&&Xi(l))}return()=>{l.removeEventListener(nv,u),setTimeout(()=>{const b=new CustomEvent(rv,OT);l.addEventListener(rv,h),l.dispatchEvent(b),b.defaultPrevented||Xi(g??document.body,{select:!0}),l.removeEventListener(rv,h),LT.remove(y)},0)}}},[l,u,h,y]);const x=p.useCallback(g=>{if(!n&&!r||y.paused)return;const _=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(_&&b){const w=g.currentTarget,[E,T]=wG(w);E&&T?!g.shiftKey&&b===T?(g.preventDefault(),n&&Xi(E,{select:!0})):g.shiftKey&&b===E&&(g.preventDefault(),n&&Xi(T,{select:!0})):b===w&&g.preventDefault()}},[n,r,y.paused]);return o.jsx(Se.div,{tabIndex:-1,...a,ref:m,onKeyDown:x})});Sg.displayName=vG;function xG(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Xi(r,{select:e}),document.activeElement!==n)return}function wG(t){const e=KA(t),n=MT(e,t),r=MT(e.reverse(),t);return[n,r]}function KA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function MT(t,e){for(const n of t)if(!_G(n,{upTo:e}))return n}function _G(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function bG(t){return t instanceof HTMLInputElement&&"select"in t}function Xi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&bG(t)&&e&&t.select()}}var LT=EG();function EG(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=VT(t,e),t.unshift(e)},remove(e){var n;t=VT(t,e),(n=t[0])==null||n.resume()}}}function VT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function SG(t){return t.filter(e=>e.tagName!=="A")}var sv="rovingFocusGroup.onEntryFocus",TG={bubbles:!1,cancelable:!0},Sh="RovingFocusGroup",[Qx,QA,NG]=Mp(Sh),[CG,Tg]=Dr(Sh,[NG]),[IG,PG]=CG(Sh),YA=p.forwardRef((t,e)=>o.jsx(Qx.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(Qx.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(jG,{...t,ref:e})})}));YA.displayName=Sh;var jG=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=t,m=p.useRef(null),y=Xe(e,m),x=Eg(i),[g,_]=Mo({prop:a,defaultProp:l??null,onChange:c,caller:Sh}),[b,w]=p.useState(!1),E=gr(u),T=QA(n),I=p.useRef(!1),[O,C]=p.useState(0);return p.useEffect(()=>{const N=m.current;if(N)return N.addEventListener(sv,E),()=>N.removeEventListener(sv,E)},[E]),o.jsx(IG,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:g,onItemFocus:p.useCallback(N=>_(N),[_]),onItemShiftTab:p.useCallback(()=>w(!0),[]),onFocusableItemAdd:p.useCallback(()=>C(N=>N+1),[]),onFocusableItemRemove:p.useCallback(()=>C(N=>N-1),[]),children:o.jsx(Se.div,{tabIndex:b||O===0?-1:0,"data-orientation":r,...f,ref:y,style:{outline:"none",...t.style},onMouseDown:ae(t.onMouseDown,()=>{I.current=!0}),onFocus:ae(t.onFocus,N=>{const P=!I.current;if(N.target===N.currentTarget&&P&&!b){const R=new CustomEvent(sv,TG);if(N.currentTarget.dispatchEvent(R),!R.defaultPrevented){const A=T().filter(Y=>Y.focusable),D=A.find(Y=>Y.active),j=A.find(Y=>Y.id===g),re=[D,j,...A].filter(Boolean).map(Y=>Y.ref.current);JA(re,h)}}I.current=!1}),onBlur:ae(t.onBlur,()=>w(!1))})})}),XA="RovingFocusGroupItem",ZA=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...l}=t,c=_i(),u=i||c,h=PG(XA,n),f=h.currentTabStopId===u,m=QA(n),{onFocusableItemAdd:y,onFocusableItemRemove:x,currentTabStopId:g}=h;return p.useEffect(()=>{if(r)return y(),()=>x()},[r,y,x]),o.jsx(Qx.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:o.jsx(Se.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:ae(t.onMouseDown,_=>{r?h.onItemFocus(u):_.preventDefault()}),onFocus:ae(t.onFocus,()=>h.onItemFocus(u)),onKeyDown:ae(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){h.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const b=AG(_,h.orientation,h.dir);if(b!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let E=m().filter(T=>T.focusable).map(T=>T.ref.current);if(b==="last")E.reverse();else if(b==="prev"||b==="next"){b==="prev"&&E.reverse();const T=E.indexOf(_.currentTarget);E=h.loop?DG(E,T+1):E.slice(T+1)}setTimeout(()=>JA(E))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:g!=null}):a})})});ZA.displayName=XA;var RG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function kG(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function AG(t,e,n){const r=kG(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return RG[r]}function JA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function DG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var e2=YA,t2=ZA,OG=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},yl=new WeakMap,Sf=new WeakMap,Tf={},iv=0,n2=function(t){return t&&(t.host||n2(t.parentNode))},MG=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=n2(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},LG=function(t,e,n,r){var s=MG(e,Array.isArray(t)?t:[t]);Tf[n]||(Tf[n]=new WeakMap);var i=Tf[n],a=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var y=m.getAttribute(r),x=y!==null&&y!=="false",g=(yl.get(m)||0)+1,_=(i.get(m)||0)+1;yl.set(m,g),i.set(m,_),a.push(m),g===1&&x&&Sf.set(m,!0),_===1&&m.setAttribute(n,"true"),x||m.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return h(e),l.clear(),iv++,function(){a.forEach(function(f){var m=yl.get(f)-1,y=i.get(f)-1;yl.set(f,m),i.set(f,y),m||(Sf.has(f)||f.removeAttribute(r),Sf.delete(f)),y||f.removeAttribute(n)}),iv--,iv||(yl=new WeakMap,yl=new WeakMap,Sf=new WeakMap,Tf={})}},D_=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=OG(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),LG(r,s,n,"aria-hidden")):function(){return null}},Fs=function(){return Fs=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fs.apply(this,arguments)};function r2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function VG(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Jf="right-scroll-bar-position",em="width-before-scroll-bar",FG="with-scroll-bars-hidden",UG="--removed-body-scroll-bar-size";function ov(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function $G(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var BG=typeof window<"u"?p.useLayoutEffect:p.useEffect,FT=new WeakMap;function zG(t,e){var n=$G(null,function(r){return t.forEach(function(s){return ov(s,r)})});return BG(function(){var r=FT.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(l){i.has(l)||ov(l,null)}),i.forEach(function(l){s.has(l)||ov(l,a)})}FT.set(n,t)},[t]),n}function WG(t){return t}function HG(t,e){e===void 0&&(e=WG);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var h=a;a=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){a.push(h),u()},filter:function(h){return a=a.filter(h),n}}}};return s}function qG(t){t===void 0&&(t={});var e=HG(null);return e.options=Fs({async:!0,ssr:!1},t),e}var s2=function(t){var e=t.sideCar,n=r2(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Fs({},n))};s2.isSideCarExport=!0;function GG(t,e){return t.useMedium(e),s2}var i2=qG(),av=function(){},Ng=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:av,onWheelCapture:av,onTouchMoveCapture:av}),s=r[0],i=r[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,y=t.noRelative,x=t.noIsolation,g=t.inert,_=t.allowPinchZoom,b=t.as,w=b===void 0?"div":b,E=t.gapMode,T=r2(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=m,O=zG([n,e]),C=Fs(Fs({},T),s);return p.createElement(p.Fragment,null,h&&p.createElement(I,{sideCar:i2,removeScrollBar:u,shards:f,noRelative:y,noIsolation:x,inert:g,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:E}),a?p.cloneElement(p.Children.only(l),Fs(Fs({},C),{ref:O})):p.createElement(w,Fs({},C,{className:c,ref:O}),l))});Ng.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ng.classNames={fullWidth:em,zeroRight:Jf};var KG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function QG(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=KG();return e&&t.setAttribute("nonce",e),t}function YG(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function XG(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var ZG=function(){var t=0,e=null;return{add:function(n){t==0&&(e=QG())&&(YG(e,n),XG(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},JG=function(){var t=ZG();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},o2=function(){var t=JG(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},eK={left:0,top:0,right:0,gap:0},lv=function(t){return parseInt(t||"",10)||0},tK=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[lv(n),lv(r),lv(s)]},nK=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return eK;var e=tK(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},rK=o2(),ec="data-scroll-locked",sK=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(FG,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(ec,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Jf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(em,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Jf," .").concat(Jf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(em," .").concat(em,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ec,`] {
    `).concat(UG,": ").concat(l,`px;
  }
`)},UT=function(){var t=parseInt(document.body.getAttribute(ec)||"0",10);return isFinite(t)?t:0},iK=function(){p.useEffect(function(){return document.body.setAttribute(ec,(UT()+1).toString()),function(){var t=UT()-1;t<=0?document.body.removeAttribute(ec):document.body.setAttribute(ec,t.toString())}},[])},oK=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;iK();var i=p.useMemo(function(){return nK(s)},[s]);return p.createElement(rK,{styles:sK(i,!e,s,n?"":"!important")})},Yx=!1;if(typeof window<"u")try{var Nf=Object.defineProperty({},"passive",{get:function(){return Yx=!0,!0}});window.addEventListener("test",Nf,Nf),window.removeEventListener("test",Nf,Nf)}catch{Yx=!1}var vl=Yx?{passive:!1}:!1,aK=function(t){return t.tagName==="TEXTAREA"},a2=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!aK(t)&&n[e]==="visible")},lK=function(t){return a2(t,"overflowY")},cK=function(t){return a2(t,"overflowX")},$T=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=l2(t,r);if(s){var i=c2(t,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},uK=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},dK=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},l2=function(t,e){return t==="v"?lK(e):cK(e)},c2=function(t,e){return t==="v"?uK(e):dK(e)},hK=function(t,e){return t==="h"&&e==="rtl"?-1:1},fK=function(t,e,n,r,s){var i=hK(t,window.getComputedStyle(e).direction),a=i*r,l=n.target,c=e.contains(l),u=!1,h=a>0,f=0,m=0;do{if(!l)break;var y=c2(t,l),x=y[0],g=y[1],_=y[2],b=g-_-i*x;(x||b)&&l2(t,l)&&(f+=b,m+=x);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(m)<1||!s))&&(u=!0),u},Cf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},BT=function(t){return[t.deltaX,t.deltaY]},zT=function(t){return t&&"current"in t?t.current:t},mK=function(t,e){return t[0]===e[0]&&t[1]===e[1]},pK=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},gK=0,xl=[];function yK(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(gK++)[0],i=p.useState(o2)[0],a=p.useRef(t);p.useEffect(function(){a.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=VG([t.lockRef.current],(t.shards||[]).map(zT),!0).filter(Boolean);return g.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(g,_){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var b=Cf(g),w=n.current,E="deltaX"in g?g.deltaX:w[0]-b[0],T="deltaY"in g?g.deltaY:w[1]-b[1],I,O=g.target,C=Math.abs(E)>Math.abs(T)?"h":"v";if("touches"in g&&C==="h"&&O.type==="range")return!1;var N=$T(C,O);if(!N)return!0;if(N?I=C:(I=C==="v"?"h":"v",N=$T(C,O)),!N)return!1;if(!r.current&&"changedTouches"in g&&(E||T)&&(r.current=I),!I)return!0;var P=r.current||I;return fK(P,_,g,P==="h"?E:T,!0)},[]),c=p.useCallback(function(g){var _=g;if(!(!xl.length||xl[xl.length-1]!==i)){var b="deltaY"in _?BT(_):Cf(_),w=e.current.filter(function(I){return I.name===_.type&&(I.target===_.target||_.target===I.shadowParent)&&mK(I.delta,b)})[0];if(w&&w.should){_.cancelable&&_.preventDefault();return}if(!w){var E=(a.current.shards||[]).map(zT).filter(Boolean).filter(function(I){return I.contains(_.target)}),T=E.length>0?l(_,E[0]):!a.current.noIsolation;T&&_.cancelable&&_.preventDefault()}}},[]),u=p.useCallback(function(g,_,b,w){var E={name:g,delta:_,target:b,should:w,shadowParent:vK(b)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(T){return T!==E})},1)},[]),h=p.useCallback(function(g){n.current=Cf(g),r.current=void 0},[]),f=p.useCallback(function(g){u(g.type,BT(g),g.target,l(g,t.lockRef.current))},[]),m=p.useCallback(function(g){u(g.type,Cf(g),g.target,l(g,t.lockRef.current))},[]);p.useEffect(function(){return xl.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,vl),document.addEventListener("touchmove",c,vl),document.addEventListener("touchstart",h,vl),function(){xl=xl.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,vl),document.removeEventListener("touchmove",c,vl),document.removeEventListener("touchstart",h,vl)}},[]);var y=t.removeScrollBar,x=t.inert;return p.createElement(p.Fragment,null,x?p.createElement(i,{styles:pK(s)}):null,y?p.createElement(oK,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function vK(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const xK=GG(i2,yK);var Cg=p.forwardRef(function(t,e){return p.createElement(Ng,Fs({},t,{ref:e,sideCar:xK}))});Cg.classNames=Ng.classNames;var Xx=["Enter"," "],wK=["ArrowDown","PageUp","Home"],u2=["ArrowUp","PageDown","End"],_K=[...wK,...u2],bK={ltr:[...Xx,"ArrowRight"],rtl:[...Xx,"ArrowLeft"]},EK={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Th="Menu",[Gd,SK,TK]=Mp(Th),[cl,d2]=Dr(Th,[TK,zc,Tg]),Ig=zc(),h2=Tg(),[NK,ul]=cl(Th),[CK,Nh]=cl(Th),f2=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=t,l=Ig(e),[c,u]=p.useState(null),h=p.useRef(!1),f=gr(i),m=Eg(s);return p.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),o.jsx(mj,{...l,children:o.jsx(NK,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(CK,{scope:e,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:m,modal:a,children:r})})})};f2.displayName=Th;var IK="MenuAnchor",O_=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Ig(n);return o.jsx(E0,{...s,...r,ref:e})});O_.displayName=IK;var M_="MenuPortal",[PK,m2]=cl(M_,{forceMount:void 0}),p2=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=ul(M_,e);return o.jsx(PK,{scope:e,forceMount:n,children:o.jsx(Jr,{present:n||i.open,children:o.jsx(oh,{asChild:!0,container:s,children:r})})})};p2.displayName=M_;var Kr="MenuContent",[jK,L_]=cl(Kr),g2=p.forwardRef((t,e)=>{const n=m2(Kr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=ul(Kr,t.__scopeMenu),a=Nh(Kr,t.__scopeMenu);return o.jsx(Gd.Provider,{scope:t.__scopeMenu,children:o.jsx(Jr,{present:r||i.open,children:o.jsx(Gd.Slot,{scope:t.__scopeMenu,children:a.modal?o.jsx(RK,{...s,ref:e}):o.jsx(kK,{...s,ref:e})})})})}),RK=p.forwardRef((t,e)=>{const n=ul(Kr,t.__scopeMenu),r=p.useRef(null),s=Xe(e,r);return p.useEffect(()=>{const i=r.current;if(i)return D_(i)},[]),o.jsx(V_,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ae(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),kK=p.forwardRef((t,e)=>{const n=ul(Kr,t.__scopeMenu);return o.jsx(V_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),AK=Va("MenuContent.ScrollLock"),V_=p.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:y,disableOutsideScroll:x,...g}=t,_=ul(Kr,n),b=Nh(Kr,n),w=Ig(n),E=h2(n),T=SK(n),[I,O]=p.useState(null),C=p.useRef(null),N=Xe(e,C,_.onContentChange),P=p.useRef(0),R=p.useRef(""),A=p.useRef(0),D=p.useRef(null),j=p.useRef("right"),B=p.useRef(0),re=x?Cg:p.Fragment,Y=x?{as:AK,allowPinchZoom:!0}:void 0,le=L=>{var X,He;const G=R.current+L,ue=T().filter(Be=>!Be.disabled),oe=document.activeElement,ge=(X=ue.find(Be=>Be.ref.current===oe))==null?void 0:X.textValue,Te=ue.map(Be=>Be.textValue),We=HK(Te,G,ge),it=(He=ue.find(Be=>Be.textValue===We))==null?void 0:He.ref.current;(function Be(Ae){R.current=Ae,window.clearTimeout(P.current),Ae!==""&&(P.current=window.setTimeout(()=>Be(""),1e3))})(G),it&&setTimeout(()=>it.focus())};p.useEffect(()=>()=>window.clearTimeout(P.current),[]),A_();const V=p.useCallback(L=>{var ue,oe;return j.current===((ue=D.current)==null?void 0:ue.side)&&GK(L,(oe=D.current)==null?void 0:oe.area)},[]);return o.jsx(jK,{scope:n,searchRef:R,onItemEnter:p.useCallback(L=>{V(L)&&L.preventDefault()},[V]),onItemLeave:p.useCallback(L=>{var G;V(L)||((G=C.current)==null||G.focus(),O(null))},[V]),onTriggerLeave:p.useCallback(L=>{V(L)&&L.preventDefault()},[V]),pointerGraceTimerRef:A,onPointerGraceIntentChange:p.useCallback(L=>{D.current=L},[]),children:o.jsx(re,{...Y,children:o.jsx(Sg,{asChild:!0,trapped:s,onMountAutoFocus:ae(i,L=>{var G;L.preventDefault(),(G=C.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(Mc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:y,children:o.jsx(e2,{asChild:!0,...E,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:I,onCurrentTabStopIdChange:O,onEntryFocus:ae(c,L=>{b.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(S0,{role:"menu","aria-orientation":"vertical","data-state":k2(_.open),"data-radix-menu-content":"",dir:b.dir,...w,...g,ref:N,style:{outline:"none",...g.style},onKeyDown:ae(g.onKeyDown,L=>{const ue=L.target.closest("[data-radix-menu-content]")===L.currentTarget,oe=L.ctrlKey||L.altKey||L.metaKey,ge=L.key.length===1;ue&&(L.key==="Tab"&&L.preventDefault(),!oe&&ge&&le(L.key));const Te=C.current;if(L.target!==Te||!_K.includes(L.key))return;L.preventDefault();const it=T().filter(X=>!X.disabled).map(X=>X.ref.current);u2.includes(L.key)&&it.reverse(),zK(it)}),onBlur:ae(t.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(P.current),R.current="")}),onPointerMove:ae(t.onPointerMove,Kd(L=>{const G=L.target,ue=B.current!==L.clientX;if(L.currentTarget.contains(G)&&ue){const oe=L.clientX>B.current?"right":"left";j.current=oe,B.current=L.clientX}}))})})})})})})});g2.displayName=Kr;var DK="MenuGroup",F_=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Se.div,{role:"group",...r,ref:e})});F_.displayName=DK;var OK="MenuLabel",y2=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Se.div,{...r,ref:e})});y2.displayName=OK;var sp="MenuItem",WT="menu.itemSelect",Pg=p.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=p.useRef(null),a=Nh(sp,t.__scopeMenu),l=L_(sp,t.__scopeMenu),c=Xe(e,i),u=p.useRef(!1),h=()=>{const f=i.current;if(!n&&f){const m=new CustomEvent(WT,{bubbles:!0,cancelable:!0});f.addEventListener(WT,y=>r==null?void 0:r(y),{once:!0}),o0(f,m),m.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(v2,{...s,ref:c,disabled:n,onClick:ae(t.onClick,h),onPointerDown:f=>{var m;(m=t.onPointerDown)==null||m.call(t,f),u.current=!0},onPointerUp:ae(t.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:ae(t.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||Xx.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Pg.displayName=sp;var v2=p.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,a=L_(sp,n),l=h2(n),c=p.useRef(null),u=Xe(e,c),[h,f]=p.useState(!1),[m,y]=p.useState("");return p.useEffect(()=>{const x=c.current;x&&y((x.textContent??"").trim())},[i.children]),o.jsx(Gd.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:o.jsx(t2,{asChild:!0,...l,focusable:!r,children:o.jsx(Se.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:ae(t.onPointerMove,Kd(x=>{r?a.onItemLeave(x):(a.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ae(t.onPointerLeave,Kd(x=>a.onItemLeave(x))),onFocus:ae(t.onFocus,()=>f(!0)),onBlur:ae(t.onBlur,()=>f(!1))})})})}),MK="MenuCheckboxItem",x2=p.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return o.jsx(S2,{scope:t.__scopeMenu,checked:n,children:o.jsx(Pg,{role:"menuitemcheckbox","aria-checked":ip(n)?"mixed":n,...s,ref:e,"data-state":$_(n),onSelect:ae(s.onSelect,()=>r==null?void 0:r(ip(n)?!0:!n),{checkForDefaultPrevented:!1})})})});x2.displayName=MK;var w2="MenuRadioGroup",[LK,VK]=cl(w2,{value:void 0,onValueChange:()=>{}}),_2=p.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=gr(r);return o.jsx(LK,{scope:t.__scopeMenu,value:n,onValueChange:i,children:o.jsx(F_,{...s,ref:e})})});_2.displayName=w2;var b2="MenuRadioItem",E2=p.forwardRef((t,e)=>{const{value:n,...r}=t,s=VK(b2,t.__scopeMenu),i=n===s.value;return o.jsx(S2,{scope:t.__scopeMenu,checked:i,children:o.jsx(Pg,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":$_(i),onSelect:ae(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});E2.displayName=b2;var U_="MenuItemIndicator",[S2,FK]=cl(U_,{checked:!1}),T2=p.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=FK(U_,n);return o.jsx(Jr,{present:r||ip(i.checked)||i.checked===!0,children:o.jsx(Se.span,{...s,ref:e,"data-state":$_(i.checked)})})});T2.displayName=U_;var UK="MenuSeparator",N2=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Se.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});N2.displayName=UK;var $K="MenuArrow",C2=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Ig(n);return o.jsx(T0,{...s,...r,ref:e})});C2.displayName=$K;var BK="MenuSub",[Nee,I2]=cl(BK),Uu="MenuSubTrigger",P2=p.forwardRef((t,e)=>{const n=ul(Uu,t.__scopeMenu),r=Nh(Uu,t.__scopeMenu),s=I2(Uu,t.__scopeMenu),i=L_(Uu,t.__scopeMenu),a=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},h=p.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return p.useEffect(()=>h,[h]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(O_,{asChild:!0,...u,children:o.jsx(v2,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":k2(n.open),...t,ref:Op(e,s.onTriggerChange),onClick:f=>{var m;(m=t.onClick)==null||m.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ae(t.onPointerMove,Kd(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:ae(t.onPointerLeave,Kd(f=>{var y,x;h();const m=(y=n.content)==null?void 0:y.getBoundingClientRect();if(m){const g=(x=n.content)==null?void 0:x.dataset.side,_=g==="right",b=_?-5:5,w=m[_?"left":"right"],E=m[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:w,y:m.top},{x:E,y:m.top},{x:E,y:m.bottom},{x:w,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ae(t.onKeyDown,f=>{var y;const m=i.searchRef.current!=="";t.disabled||m&&f.key===" "||bK[r.dir].includes(f.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),f.preventDefault())})})})});P2.displayName=Uu;var j2="MenuSubContent",R2=p.forwardRef((t,e)=>{const n=m2(Kr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=ul(Kr,t.__scopeMenu),a=Nh(Kr,t.__scopeMenu),l=I2(j2,t.__scopeMenu),c=p.useRef(null),u=Xe(e,c);return o.jsx(Gd.Provider,{scope:t.__scopeMenu,children:o.jsx(Jr,{present:r||i.open,children:o.jsx(Gd.Slot,{scope:t.__scopeMenu,children:o.jsx(V_,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ae(t.onFocusOutside,h=>{h.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ae(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:ae(t.onKeyDown,h=>{var y;const f=h.currentTarget.contains(h.target),m=EK[a.dir].includes(h.key);f&&m&&(i.onOpenChange(!1),(y=l.trigger)==null||y.focus(),h.preventDefault())})})})})})});R2.displayName=j2;function k2(t){return t?"open":"closed"}function ip(t){return t==="indeterminate"}function $_(t){return ip(t)?"indeterminate":t?"checked":"unchecked"}function zK(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function WK(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function HK(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=WK(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function qK(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i],c=e[a],u=l.x,h=l.y,f=c.x,m=c.y;h>r!=m>r&&n<(f-u)*(r-h)/(m-h)+u&&(s=!s)}return s}function GK(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return qK(n,e)}function Kd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var KK=f2,QK=O_,YK=p2,XK=g2,ZK=F_,JK=y2,eQ=Pg,tQ=x2,nQ=_2,rQ=E2,sQ=T2,iQ=N2,oQ=C2,aQ=P2,lQ=R2,jg="DropdownMenu",[cQ,Cee]=Dr(jg,[d2]),Xn=d2(),[uQ,A2]=cQ(jg),D2=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:l=!0}=t,c=Xn(e),u=p.useRef(null),[h,f]=Mo({prop:s,defaultProp:i??!1,onChange:a,caller:jg});return o.jsx(uQ,{scope:e,triggerId:_i(),triggerRef:u,contentId:_i(),open:h,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(m=>!m),[f]),modal:l,children:o.jsx(KK,{...c,open:h,onOpenChange:f,dir:r,modal:l,children:n})})};D2.displayName=jg;var O2="DropdownMenuTrigger",M2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=A2(O2,n),a=Xn(n);return o.jsx(QK,{asChild:!0,...a,children:o.jsx(Se.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Op(e,i.triggerRef),onPointerDown:ae(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ae(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});M2.displayName=O2;var dQ="DropdownMenuPortal",L2=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Xn(e);return o.jsx(YK,{...r,...n})};L2.displayName=dQ;var V2="DropdownMenuContent",F2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=A2(V2,n),i=Xn(n),a=p.useRef(!1);return o.jsx(XK,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ae(t.onCloseAutoFocus,l=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:ae(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!s.modal||h)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});F2.displayName=V2;var hQ="DropdownMenuGroup",fQ=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Xn(n);return o.jsx(ZK,{...s,...r,ref:e})});fQ.displayName=hQ;var mQ="DropdownMenuLabel",U2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Xn(n);return o.jsx(JK,{...s,...r,ref:e})});U2.displayName=mQ;var pQ="DropdownMenuItem",$2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Xn(n);return o.jsx(eQ,{...s,...r,ref:e})});$2.displayName=pQ;var gQ="DropdownMenuCheckboxItem",B2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Xn(n);return o.jsx(tQ,{...s,...r,ref:e})});B2.displayName=gQ;var yQ="DropdownMenuRadioGroup",vQ=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Xn(n);return o.jsx(nQ,{...s,...r,ref:e})});vQ.displayName=yQ;var xQ="DropdownMenuRadioItem",z2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Xn(n);return o.jsx(rQ,{...s,...r,ref:e})});z2.displayName=xQ;var wQ="DropdownMenuItemIndicator",W2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Xn(n);return o.jsx(sQ,{...s,...r,ref:e})});W2.displayName=wQ;var _Q="DropdownMenuSeparator",H2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Xn(n);return o.jsx(iQ,{...s,...r,ref:e})});H2.displayName=_Q;var bQ="DropdownMenuArrow",EQ=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Xn(n);return o.jsx(oQ,{...s,...r,ref:e})});EQ.displayName=bQ;var SQ="DropdownMenuSubTrigger",q2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Xn(n);return o.jsx(aQ,{...s,...r,ref:e})});q2.displayName=SQ;var TQ="DropdownMenuSubContent",G2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Xn(n);return o.jsx(lQ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});G2.displayName=TQ;var NQ=D2,CQ=M2,IQ=L2,K2=F2,Q2=U2,Y2=$2,X2=B2,Z2=z2,J2=W2,eD=H2,tD=q2,nD=G2;const PQ=NQ,jQ=CQ,RQ=p.forwardRef(({className:t,inset:e,children:n,...r},s)=>o.jsxs(tD,{ref:s,className:we("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,o.jsx(lF,{className:"ml-auto h-4 w-4"})]}));RQ.displayName=tD.displayName;const kQ=p.forwardRef(({className:t,...e},n)=>o.jsx(nD,{ref:n,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));kQ.displayName=nD.displayName;const rD=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(IQ,{children:o.jsx(K2,{ref:r,sideOffset:e,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));rD.displayName=K2.displayName;const Zx=p.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(Y2,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Zx.displayName=Y2.displayName;const AQ=p.forwardRef(({className:t,children:e,checked:n,...r},s)=>o.jsxs(X2,{ref:s,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(J2,{children:o.jsx(u0,{className:"h-4 w-4"})})}),e]}));AQ.displayName=X2.displayName;const DQ=p.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(Z2,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(J2,{children:o.jsx(PP,{className:"h-2 w-2 fill-current"})})}),e]}));DQ.displayName=Z2.displayName;const OQ=p.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(Q2,{ref:r,className:we("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));OQ.displayName=Q2.displayName;const MQ=p.forwardRef(({className:t,...e},n)=>o.jsx(eD,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));MQ.displayName=eD.displayName;const LQ=()=>{const{user:t,loading:e,isAdmin:n}=Eh(),r=async()=>{try{await fG()}catch(s){console.error("Sign out error:",s)}};return o.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:o.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[o.jsxs(lt,{to:"/",className:"flex items-center space-x-2",children:[o.jsx(qt,{className:"h-8 w-8 text-primary"}),o.jsx("span",{className:"text-xl font-bold text-foreground",children:"e-StampExpress"})]}),o.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[o.jsx(lt,{to:"/",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Home"}),o.jsx(lt,{to:"/about",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"About"}),o.jsx(lt,{to:"/contact",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Contact"})]}),o.jsx("div",{className:"flex items-center space-x-4",children:!e&&o.jsxs(o.Fragment,{children:[n&&o.jsx(ee,{variant:"ghost",size:"sm",asChild:!0,children:o.jsxs(lt,{to:"/admin/dashboard",className:"flex items-center space-x-2",children:[o.jsx(AP,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Admin"})]})}),t?o.jsxs(PQ,{children:[o.jsx(jQ,{asChild:!0,children:o.jsxs(ee,{variant:"ghost",size:"sm",className:"flex items-center space-x-2",children:[o.jsx(Fc,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:t.displayName||t.email})]})}),o.jsxs(rD,{align:"end",className:"w-48",children:[o.jsx(Zx,{asChild:!0,children:o.jsxs(lt,{to:"/my-orders",className:"flex items-center",children:[o.jsx(qt,{className:"mr-2 h-4 w-4"}),"My Orders"]})}),o.jsxs(Zx,{onClick:r,className:"flex items-center",children:[o.jsx(hF,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ee,{variant:"ghost",size:"sm",asChild:!0,children:o.jsx(lt,{to:"/login",children:"Sign In"})}),o.jsx(ee,{size:"sm",asChild:!0,children:o.jsx(lt,{to:"/register",children:"Sign Up"})})]})]})})]})})},VQ=({children:t})=>{const{user:e,loading:n,isAdmin:r}=Eh();return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):!e||!r?o.jsx(P6,{to:"/",replace:!0}):o.jsx(o.Fragment,{children:t})};var FQ="Separator",HT="horizontal",UQ=["horizontal","vertical"],sD=p.forwardRef((t,e)=>{const{decorative:n,orientation:r=HT,...s}=t,i=$Q(r)?r:HT,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(Se.div,{"data-orientation":i,...l,...s,ref:e})});sD.displayName=FQ;function $Q(t){return UQ.includes(t)}var iD=sD;const Qr=p.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>o.jsx(iD,{ref:s,decorative:n,orientation:e,className:we("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Qr.displayName=iD.displayName;const BQ=[{title:"Dashboard",href:"/admin/dashboard",icon:dF},{title:"Orders",href:"/admin/orders",icon:DP},{title:"Products",href:"/admin/catalog/products",icon:Ci},{title:"Categories",href:"/admin/catalog/categories",icon:qt},{title:"States",href:"/admin/geo/states",icon:fr},{title:"Districts",href:"/admin/geo/districts",icon:fr},{title:"Tehsils",href:"/admin/geo/tehsils",icon:fr},{title:"Bulk Upload",href:"/admin/catalog/bulk-upload",icon:Ci},{title:"Users",href:"/admin/users",icon:d0},{title:"Reports",href:"/admin/reports",icon:aF},{title:"Settings",href:"/admin/settings",icon:AP}],zQ=()=>{const t=Zo();return o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"w-64 min-h-screen bg-card border-r",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[o.jsx(qt,{className:"h-8 w-8 text-primary"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold",children:"Admin Panel"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"e-StampExpress"})]})]}),o.jsxs("nav",{className:"space-y-2",children:[o.jsx(ee,{variant:"ghost",asChild:!0,className:"w-full justify-start",children:o.jsxs(lt,{to:"/",className:"flex items-center gap-2",children:[o.jsx(RP,{className:"h-4 w-4"}),"Back to Site"]})}),o.jsx(Qr,{className:"my-4"}),BQ.map(e=>{const n=t.pathname===e.href||e.href!=="/admin/dashboard"&&t.pathname.startsWith(e.href);return o.jsx(ee,{variant:n?"secondary":"ghost",asChild:!0,className:we("w-full justify-start",n&&"bg-primary/10 text-primary"),children:o.jsxs(lt,{to:e.href,className:"flex items-center gap-2",children:[o.jsx(e.icon,{className:"h-4 w-4"}),e.title]})},e.href)})]})]})}),o.jsx("div",{className:"flex-1",children:o.jsx("div",{className:"p-6",children:o.jsx(j6,{})})})]})})},ye=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:we("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ye.displayName="Card";const Le=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:we("flex flex-col space-y-1.5 p-6",t),...e}));Le.displayName="CardHeader";const Ve=p.forwardRef(({className:t,...e},n)=>o.jsx("h3",{ref:n,className:we("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ve.displayName="CardTitle";const nn=p.forwardRef(({className:t,...e},n)=>o.jsx("p",{ref:n,className:we("text-sm text-muted-foreground",t),...e}));nn.displayName="CardDescription";const ve=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:we("p-6 pt-0",t),...e}));ve.displayName="CardContent";const WQ=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:we("flex items-center p-6 pt-0",t),...e}));WQ.displayName="CardFooter";const HQ=()=>o.jsxs("div",{className:"min-h-screen",children:[o.jsx("section",{className:"relative overflow-hidden bg-gradient-to-br from-primary/5 to-success/5 py-20",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[o.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-foreground mb-6",children:["Get Your ",o.jsx("span",{className:"text-primary",children:"E-Stamp"})," Instantly"]}),o.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Legal, secure, and instant digital stamps with door delivery option. Trusted by thousands of businesses across India."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsx(ee,{size:"lg",asChild:!0,className:"text-lg px-8 py-6",children:o.jsx(lt,{to:"/select-state",children:"Get E-Stamp Now"})}),o.jsx(ee,{size:"lg",variant:"outline",asChild:!0,className:"text-lg px-8 py-6",children:o.jsx(lt,{to:"/about",children:"Learn More"})})]})]})})}),o.jsx("section",{className:"py-20 bg-background",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"Why Choose e-StampExpress?"}),o.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Professional, fast, and secure stamp services with guaranteed authenticity"})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:yc,title:"Instant Processing",description:"Get your digital stamps in seconds, available 24/7"},{icon:jd,title:"100% Legal",description:"Government authorized stamps with full legal validity"},{icon:qt,title:"Multiple Formats",description:"Digital delivery via email/WhatsApp or door delivery"},{icon:hr,title:"Guaranteed Delivery",description:"Money-back guarantee if delivery fails"}].map((t,e)=>o.jsx(ye,{className:"text-center border-0 shadow-lg hover:shadow-xl transition-shadow",children:o.jsxs(ve,{className:"p-8",children:[o.jsx(t.icon,{className:"h-12 w-12 text-primary mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-3",children:t.title}),o.jsx("p",{className:"text-muted-foreground",children:t.description})]})},e))})]})}),o.jsx("section",{className:"py-16 bg-muted/30",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-8 mb-8",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex",children:[1,2,3,4,5].map(t=>o.jsx(mF,{className:"h-5 w-5 fill-primary text-primary"},t))}),o.jsx("span",{className:"text-lg font-semibold",children:"4.9/5 Rating"})]}),o.jsxs("div",{className:"text-lg",children:[o.jsx("span",{className:"font-bold text-primary",children:"50,000+"})," Stamps Delivered"]}),o.jsxs("div",{className:"text-lg",children:[o.jsx("span",{className:"font-bold text-primary",children:"99.9%"})," Success Rate"]})]}),o.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Trusted by businesses, individuals, and legal professionals across India. Government approved and legally recognized."})]})})}),o.jsx("section",{className:"py-20 bg-background",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"How It Works"}),o.jsx("p",{className:"text-xl text-muted-foreground",children:"Simple 6-step process to get your stamps"})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{step:"1",title:"Select State",description:"Choose your state and district"},{step:"2",title:"Enter Details",description:"Fill in party and address details"},{step:"3",title:"Choose Stamp",description:"Select stamp type and amount"},{step:"4",title:"Select Delivery",description:"Digital or door delivery option"},{step:"5",title:"Make Payment",description:"Secure online payment"},{step:"6",title:"Receive Stamp",description:"Instant download or door delivery"}].map((t,e)=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-4",children:t.step}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:t.title}),o.jsx("p",{className:"text-muted-foreground",children:t.description})]},e))})]})}),o.jsx("section",{className:"py-20 bg-primary text-primary-foreground",children:o.jsxs("div",{className:"container mx-auto px-4 text-center",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Get Your E-Stamp?"}),o.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto opacity-90",children:"Join thousands of satisfied customers who trust us for their stamp needs"}),o.jsx(ee,{size:"lg",variant:"secondary",asChild:!0,className:"text-lg px-8 py-6",children:o.jsx(lt,{to:"/select-state",children:"Start Your Order"})})]})})]});var Ch=t=>t.type==="checkbox",Ea=t=>t instanceof Date,Hn=t=>t==null;const oD=t=>typeof t=="object";var Qt=t=>!Hn(t)&&!Array.isArray(t)&&oD(t)&&!Ea(t),aD=t=>Qt(t)&&t.target?Ch(t.target)?t.target.checked:t.target.value:t,qQ=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,lD=(t,e)=>t.has(qQ(e)),GQ=t=>{const e=t.constructor&&t.constructor.prototype;return Qt(e)&&e.hasOwnProperty("isPrototypeOf")},B_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function sn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(B_&&(t instanceof Blob||r))&&(n||Qt(t)))if(e=n?[]:{},!n&&!GQ(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=sn(t[s]));else return t;return e}var Rg=t=>/^\w*$/.test(t),zt=t=>t===void 0,z_=t=>Array.isArray(t)?t.filter(Boolean):[],W_=t=>z_(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ce=(t,e,n)=>{if(!e||!Qt(t))return n;const r=(Rg(e)?[e]:W_(e)).reduce((s,i)=>Hn(s)?s:s[i],t);return zt(r)||r===t?zt(t[e])?n:t[e]:r},br=t=>typeof t=="boolean",vt=(t,e,n)=>{let r=-1;const s=Rg(e)?[e]:W_(e),i=s.length,a=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==a){const u=t[l];c=Qt(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const op={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ms={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ci={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},H_=W.createContext(null);H_.displayName="HookFormContext";const kg=()=>W.useContext(H_),KQ=t=>{const{children:e,...n}=t;return W.createElement(H_.Provider,{value:n},e)};var cD=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==ms.all&&(e._proxyFormState[a]=!r||ms.all),n&&(n[a]=!0),t[a]}});return s};const q_=typeof window<"u"?W.useLayoutEffect:W.useEffect;function QQ(t){const e=kg(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[a,l]=W.useState(n._formState),c=W.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return q_(()=>n._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!r&&l({...n._formState,...u})}}),[s,r,i]),W.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),W.useMemo(()=>cD(a,n,c.current,!1),[a,n])}var $s=t=>typeof t=="string",uD=(t,e,n,r,s)=>$s(t)?(r&&e.watch.add(t),ce(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),ce(n,i))):(r&&(e.watchAll=!0),n),Jx=t=>Hn(t)||!oD(t);function mi(t,e,n=new WeakSet){if(Jx(t)||Jx(e))return t===e;if(Ea(t)&&Ea(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const a=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=e[i];if(Ea(a)&&Ea(l)||Qt(a)&&Qt(l)||Array.isArray(a)&&Array.isArray(l)?!mi(a,l,n):a!==l)return!1}}return!0}function YQ(t){const e=kg(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:a,compute:l}=t||{},c=W.useRef(s),u=W.useRef(l),h=W.useRef(void 0);u.current=l;const f=W.useMemo(()=>n._getWatch(r,c.current),[n,r]),[m,y]=W.useState(u.current?u.current(f):f);return q_(()=>n._subscribe({name:r,formState:{values:!0},exact:a,callback:x=>{if(!i){const g=uD(r,n._names,x.values||n._formValues,!1,c.current);if(u.current){const _=u.current(g);mi(_,h.current)||(y(_),h.current=_)}else y(g)}}}),[n,i,r,a]),W.useEffect(()=>n._removeUnmounted()),m}function XQ(t){const e=kg(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i,defaultValue:a}=t,l=lD(s._names.array,n),c=W.useMemo(()=>ce(s._formValues,n,ce(s._defaultValues,n,a)),[s,n,a]),u=YQ({control:s,name:n,defaultValue:c,exact:!0}),h=QQ({control:s,name:n,exact:!0}),f=W.useRef(t),m=W.useRef(s.register(n,{...t.rules,value:u,...br(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const y=W.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ce(h.errors,n)},isDirty:{enumerable:!0,get:()=>!!ce(h.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ce(h.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ce(h.validatingFields,n)},error:{enumerable:!0,get:()=>ce(h.errors,n)}}),[h,n]),x=W.useCallback(w=>m.current.onChange({target:{value:aD(w),name:n},type:op.CHANGE}),[n]),g=W.useCallback(()=>m.current.onBlur({target:{value:ce(s._formValues,n),name:n},type:op.BLUR}),[n,s._formValues]),_=W.useCallback(w=>{const E=ce(s._fields,n);E&&w&&(E._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:T=>w.setCustomValidity(T),reportValidity:()=>w.reportValidity()})},[s._fields,n]),b=W.useMemo(()=>({name:n,value:u,...br(r)||h.disabled?{disabled:h.disabled||r}:{},onChange:x,onBlur:g,ref:_}),[n,r,h.disabled,x,g,_,u]);return W.useEffect(()=>{const w=s._options.shouldUnregister||i;s.register(n,{...f.current.rules,...br(f.current.disabled)?{disabled:f.current.disabled}:{}});const E=(T,I)=>{const O=ce(s._fields,T);O&&O._f&&(O._f.mount=I)};if(E(n,!0),w){const T=sn(ce(s._options.defaultValues,n));vt(s._defaultValues,n,T),zt(ce(s._formValues,n))&&vt(s._formValues,n,T)}return!l&&s.register(n),()=>{(l?w&&!s._state.action:w)?s.unregister(n):E(n,!1)}},[n,s,l,i]),W.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),W.useMemo(()=>({field:b,formState:h,fieldState:y}),[b,h,y])}const ZQ=t=>t.render(XQ(t));var dD=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},cd=t=>Array.isArray(t)?t:[t],qT=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},tr=t=>Qt(t)&&!Object.keys(t).length,G_=t=>t.type==="file",ps=t=>typeof t=="function",ap=t=>{if(!B_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},hD=t=>t.type==="select-multiple",K_=t=>t.type==="radio",JQ=t=>K_(t)||Ch(t),cv=t=>ap(t)&&t.isConnected;function eY(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=zt(t)?r++:t[e[r++]];return t}function tY(t){for(const e in t)if(t.hasOwnProperty(e)&&!zt(t[e]))return!1;return!0}function Yt(t,e){const n=Array.isArray(e)?e:Rg(e)?[e]:W_(e),r=n.length===1?t:eY(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Qt(r)&&tr(r)||Array.isArray(r)&&tY(r))&&Yt(t,n.slice(0,-1)),t}var fD=t=>{for(const e in t)if(ps(t[e]))return!0;return!1};function lp(t,e={}){const n=Array.isArray(t);if(Qt(t)||n)for(const r in t)Array.isArray(t[r])||Qt(t[r])&&!fD(t[r])?(e[r]=Array.isArray(t[r])?[]:{},lp(t[r],e[r])):Hn(t[r])||(e[r]=!0);return e}function mD(t,e,n){const r=Array.isArray(t);if(Qt(t)||r)for(const s in t)Array.isArray(t[s])||Qt(t[s])&&!fD(t[s])?zt(e)||Jx(n[s])?n[s]=Array.isArray(t[s])?lp(t[s],[]):{...lp(t[s])}:mD(t[s],Hn(e)?{}:e[s],n[s]):n[s]=!mi(t[s],e[s]);return n}var Tu=(t,e)=>mD(t,e,lp(e));const GT={value:!1,isValid:!1},KT={value:!0,isValid:!0};var pD=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!zt(t[0].attributes.value)?zt(t[0].value)||t[0].value===""?KT:{value:t[0].value,isValid:!0}:KT:GT}return GT},gD=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>zt(t)?t:e?t===""?NaN:t&&+t:n&&$s(t)?new Date(t):r?r(t):t;const QT={isValid:!1,value:null};var yD=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,QT):QT;function YT(t){const e=t.ref;return G_(e)?e.files:K_(e)?yD(t.refs).value:hD(e)?[...e.selectedOptions].map(({value:n})=>n):Ch(e)?pD(t.refs).value:gD(zt(e.value)?t.ref.value:e.value,t)}var nY=(t,e,n,r)=>{const s={};for(const i of t){const a=ce(e,i);a&&vt(s,i,a._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},cp=t=>t instanceof RegExp,Nu=t=>zt(t)?t:cp(t)?t.source:Qt(t)?cp(t.value)?t.value.source:t.value:t,XT=t=>({isOnSubmit:!t||t===ms.onSubmit,isOnBlur:t===ms.onBlur,isOnChange:t===ms.onChange,isOnAll:t===ms.all,isOnTouch:t===ms.onTouched});const ZT="AsyncFunction";var rY=t=>!!t&&!!t.validate&&!!(ps(t.validate)&&t.validate.constructor.name===ZT||Qt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===ZT)),sY=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),JT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const ud=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=ce(t,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(ud(l,e))break}else if(Qt(l)&&ud(l,e))break}}};function eN(t,e,n){const r=ce(t,n);if(r||Rg(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=ce(e,i),l=ce(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:n}}var iY=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return tr(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!r||ms.all))},oY=(t,e,n)=>!t||!e||t===e||cd(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),aY=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,lY=(t,e)=>!z_(ce(t,e)).length&&Yt(t,e),cY=(t,e,n)=>{const r=cd(ce(t,n));return vt(r,"root",e[n]),vt(t,n,r),t},tm=t=>$s(t);function tN(t,e,n="validate"){if(tm(t)||Array.isArray(t)&&t.every(tm)||br(t)&&!t)return{type:n,message:tm(t)?t:"",ref:e}}var wl=t=>Qt(t)&&!cp(t)?t:{value:t,message:""},nN=async(t,e,n,r,s,i)=>{const{ref:a,refs:l,required:c,maxLength:u,minLength:h,min:f,max:m,pattern:y,validate:x,name:g,valueAsNumber:_,mount:b}=t._f,w=ce(n,g);if(!b||e.has(g))return{};const E=l?l[0]:a,T=D=>{s&&E.reportValidity&&(E.setCustomValidity(br(D)?"":D||""),E.reportValidity())},I={},O=K_(a),C=Ch(a),N=O||C,P=(_||G_(a))&&zt(a.value)&&zt(w)||ap(a)&&a.value===""||w===""||Array.isArray(w)&&!w.length,R=dD.bind(null,g,r,I),A=(D,j,B,re=ci.maxLength,Y=ci.minLength)=>{const le=D?j:B;I[g]={type:D?re:Y,message:le,ref:a,...R(D?re:Y,le)}};if(i?!Array.isArray(w)||!w.length:c&&(!N&&(P||Hn(w))||br(w)&&!w||C&&!pD(l).isValid||O&&!yD(l).isValid)){const{value:D,message:j}=tm(c)?{value:!!c,message:c}:wl(c);if(D&&(I[g]={type:ci.required,message:j,ref:E,...R(ci.required,j)},!r))return T(j),I}if(!P&&(!Hn(f)||!Hn(m))){let D,j;const B=wl(m),re=wl(f);if(!Hn(w)&&!isNaN(w)){const Y=a.valueAsNumber||w&&+w;Hn(B.value)||(D=Y>B.value),Hn(re.value)||(j=Y<re.value)}else{const Y=a.valueAsDate||new Date(w),le=G=>new Date(new Date().toDateString()+" "+G),V=a.type=="time",L=a.type=="week";$s(B.value)&&w&&(D=V?le(w)>le(B.value):L?w>B.value:Y>new Date(B.value)),$s(re.value)&&w&&(j=V?le(w)<le(re.value):L?w<re.value:Y<new Date(re.value))}if((D||j)&&(A(!!D,B.message,re.message,ci.max,ci.min),!r))return T(I[g].message),I}if((u||h)&&!P&&($s(w)||i&&Array.isArray(w))){const D=wl(u),j=wl(h),B=!Hn(D.value)&&w.length>+D.value,re=!Hn(j.value)&&w.length<+j.value;if((B||re)&&(A(B,D.message,j.message),!r))return T(I[g].message),I}if(y&&!P&&$s(w)){const{value:D,message:j}=wl(y);if(cp(D)&&!w.match(D)&&(I[g]={type:ci.pattern,message:j,ref:a,...R(ci.pattern,j)},!r))return T(j),I}if(x){if(ps(x)){const D=await x(w,n),j=tN(D,E);if(j&&(I[g]={...j,...R(ci.validate,j.message)},!r))return T(j.message),I}else if(Qt(x)){let D={};for(const j in x){if(!tr(D)&&!r)break;const B=tN(await x[j](w,n),E,j);B&&(D={...B,...R(j,B.message)},T(B.message),r&&(I[g]=D))}if(!tr(D)&&(I[g]={ref:E,...D},!r))return I}}return T(!0),I};const uY={mode:ms.onSubmit,reValidateMode:ms.onChange,shouldFocusError:!0};function dY(t={}){let e={...uY,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:ps(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Qt(e.defaultValues)||Qt(e.values)?sn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:sn(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...h};const m={array:qT(),state:qT()},y=e.criteriaMode===ms.all,x=M=>U=>{clearTimeout(u),u=setTimeout(M,U)},g=async M=>{if(!e.disabled&&(h.isValid||f.isValid||M)){const U=e.resolver?tr((await C()).errors):await P(r,!0);U!==n.isValid&&m.state.next({isValid:U})}},_=(M,U)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&((M||Array.from(l.mount)).forEach(z=>{z&&(U?vt(n.validatingFields,z,U):Yt(n.validatingFields,z))}),m.state.next({validatingFields:n.validatingFields,isValidating:!tr(n.validatingFields)}))},b=(M,U=[],z,se,ne=!0,Z=!0)=>{if(se&&z&&!e.disabled){if(a.action=!0,Z&&Array.isArray(ce(r,M))){const te=z(ce(r,M),se.argA,se.argB);ne&&vt(r,M,te)}if(Z&&Array.isArray(ce(n.errors,M))){const te=z(ce(n.errors,M),se.argA,se.argB);ne&&vt(n.errors,M,te),lY(n.errors,M)}if((h.touchedFields||f.touchedFields)&&Z&&Array.isArray(ce(n.touchedFields,M))){const te=z(ce(n.touchedFields,M),se.argA,se.argB);ne&&vt(n.touchedFields,M,te)}(h.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Tu(s,i)),m.state.next({name:M,isDirty:A(M,U),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else vt(i,M,U)},w=(M,U)=>{vt(n.errors,M,U),m.state.next({errors:n.errors})},E=M=>{n.errors=M,m.state.next({errors:n.errors,isValid:!1})},T=(M,U,z,se)=>{const ne=ce(r,M);if(ne){const Z=ce(i,M,zt(z)?ce(s,M):z);zt(Z)||se&&se.defaultChecked||U?vt(i,M,U?Z:YT(ne._f)):B(M,Z),a.mount&&g()}},I=(M,U,z,se,ne)=>{let Z=!1,te=!1;const Ee={name:M};if(!e.disabled){if(!z||se){(h.isDirty||f.isDirty)&&(te=n.isDirty,n.isDirty=Ee.isDirty=A(),Z=te!==Ee.isDirty);const tt=mi(ce(s,M),U);te=!!ce(n.dirtyFields,M),tt?Yt(n.dirtyFields,M):vt(n.dirtyFields,M,!0),Ee.dirtyFields=n.dirtyFields,Z=Z||(h.dirtyFields||f.dirtyFields)&&te!==!tt}if(z){const tt=ce(n.touchedFields,M);tt||(vt(n.touchedFields,M,z),Ee.touchedFields=n.touchedFields,Z=Z||(h.touchedFields||f.touchedFields)&&tt!==z)}Z&&ne&&m.state.next(Ee)}return Z?Ee:{}},O=(M,U,z,se)=>{const ne=ce(n.errors,M),Z=(h.isValid||f.isValid)&&br(U)&&n.isValid!==U;if(e.delayError&&z?(c=x(()=>w(M,z)),c(e.delayError)):(clearTimeout(u),c=null,z?vt(n.errors,M,z):Yt(n.errors,M)),(z?!mi(ne,z):ne)||!tr(se)||Z){const te={...se,...Z&&br(U)?{isValid:U}:{},errors:n.errors,name:M};n={...n,...te},m.state.next(te)}},C=async M=>{_(M,!0);const U=await e.resolver(i,e.context,nY(M||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return _(M),U},N=async M=>{const{errors:U}=await C(M);if(M)for(const z of M){const se=ce(U,z);se?vt(n.errors,z,se):Yt(n.errors,z)}else n.errors=U;return U},P=async(M,U,z={valid:!0})=>{for(const se in M){const ne=M[se];if(ne){const{_f:Z,...te}=ne;if(Z){const Ee=l.array.has(Z.name),tt=ne._f&&rY(ne._f);tt&&h.validatingFields&&_([se],!0);const gn=await nN(ne,l.disabled,i,y,e.shouldUseNativeValidation&&!U,Ee);if(tt&&h.validatingFields&&_([se]),gn[Z.name]&&(z.valid=!1,U))break;!U&&(ce(gn,Z.name)?Ee?cY(n.errors,gn,Z.name):vt(n.errors,Z.name,gn[Z.name]):Yt(n.errors,Z.name))}!tr(te)&&await P(te,U,z)}}return z.valid},R=()=>{for(const M of l.unMount){const U=ce(r,M);U&&(U._f.refs?U._f.refs.every(z=>!cv(z)):!cv(U._f.ref))&&X(M)}l.unMount=new Set},A=(M,U)=>!e.disabled&&(M&&U&&vt(i,M,U),!mi(G(),s)),D=(M,U,z)=>uD(M,l,{...a.mount?i:zt(U)?s:$s(M)?{[M]:U}:U},z,U),j=M=>z_(ce(a.mount?i:s,M,e.shouldUnregister?ce(s,M,[]):[])),B=(M,U,z={})=>{const se=ce(r,M);let ne=U;if(se){const Z=se._f;Z&&(!Z.disabled&&vt(i,M,gD(U,Z)),ne=ap(Z.ref)&&Hn(U)?"":U,hD(Z.ref)?[...Z.ref.options].forEach(te=>te.selected=ne.includes(te.value)):Z.refs?Ch(Z.ref)?Z.refs.forEach(te=>{(!te.defaultChecked||!te.disabled)&&(Array.isArray(ne)?te.checked=!!ne.find(Ee=>Ee===te.value):te.checked=ne===te.value||!!ne)}):Z.refs.forEach(te=>te.checked=te.value===ne):G_(Z.ref)?Z.ref.value="":(Z.ref.value=ne,Z.ref.type||m.state.next({name:M,values:sn(i)})))}(z.shouldDirty||z.shouldTouch)&&I(M,ne,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&L(M)},re=(M,U,z)=>{for(const se in U){if(!U.hasOwnProperty(se))return;const ne=U[se],Z=M+"."+se,te=ce(r,Z);(l.array.has(M)||Qt(ne)||te&&!te._f)&&!Ea(ne)?re(Z,ne,z):B(Z,ne,z)}},Y=(M,U,z={})=>{const se=ce(r,M),ne=l.array.has(M),Z=sn(U);vt(i,M,Z),ne?(m.array.next({name:M,values:sn(i)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&z.shouldDirty&&m.state.next({name:M,dirtyFields:Tu(s,i),isDirty:A(M,Z)})):se&&!se._f&&!Hn(Z)?re(M,Z,z):B(M,Z,z),JT(M,l)&&m.state.next({...n,name:M}),m.state.next({name:a.mount?M:void 0,values:sn(i)})},le=async M=>{a.mount=!0;const U=M.target;let z=U.name,se=!0;const ne=ce(r,z),Z=tt=>{se=Number.isNaN(tt)||Ea(tt)&&isNaN(tt.getTime())||mi(tt,ce(i,z,tt))},te=XT(e.mode),Ee=XT(e.reValidateMode);if(ne){let tt,gn;const Vr=U.type?YT(ne._f):aD(M),Fr=M.type===op.BLUR||M.type===op.FOCUS_OUT,Ps=!sY(ne._f)&&!e.resolver&&!ce(n.errors,z)&&!ne._f.deps||aY(Fr,ce(n.touchedFields,z),n.isSubmitted,Ee,te),js=JT(z,l,Fr);vt(i,z,Vr),Fr?(ne._f.onBlur&&ne._f.onBlur(M),c&&c(0)):ne._f.onChange&&ne._f.onChange(M);const xr=I(z,Vr,Fr),Ui=!tr(xr)||js;if(!Fr&&m.state.next({name:z,type:M.type,values:sn(i)}),Ps)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?Fr&&g():Fr||g()),Ui&&m.state.next({name:z,...js?{}:xr});if(!Fr&&js&&m.state.next({...n}),e.resolver){const{errors:rs}=await C([z]);if(Z(Vr),se){const ru=eN(n.errors,r,z),$i=eN(rs,r,ru.name||z);tt=$i.error,z=$i.name,gn=tr(rs)}}else _([z],!0),tt=(await nN(ne,l.disabled,i,y,e.shouldUseNativeValidation))[z],_([z]),Z(Vr),se&&(tt?gn=!1:(h.isValid||f.isValid)&&(gn=await P(r,!0)));se&&(ne._f.deps&&L(ne._f.deps),O(z,gn,tt,xr))}},V=(M,U)=>{if(ce(n.errors,U)&&M.focus)return M.focus(),1},L=async(M,U={})=>{let z,se;const ne=cd(M);if(e.resolver){const Z=await N(zt(M)?M:ne);z=tr(Z),se=M?!ne.some(te=>ce(Z,te)):z}else M?(se=(await Promise.all(ne.map(async Z=>{const te=ce(r,Z);return await P(te&&te._f?{[Z]:te}:te)}))).every(Boolean),!(!se&&!n.isValid)&&g()):se=z=await P(r);return m.state.next({...!$s(M)||(h.isValid||f.isValid)&&z!==n.isValid?{}:{name:M},...e.resolver||!M?{isValid:z}:{},errors:n.errors}),U.shouldFocus&&!se&&ud(r,V,M?ne:l.mount),se},G=M=>{const U={...a.mount?i:s};return zt(M)?U:$s(M)?ce(U,M):M.map(z=>ce(U,z))},ue=(M,U)=>({invalid:!!ce((U||n).errors,M),isDirty:!!ce((U||n).dirtyFields,M),error:ce((U||n).errors,M),isValidating:!!ce(n.validatingFields,M),isTouched:!!ce((U||n).touchedFields,M)}),oe=M=>{M&&cd(M).forEach(U=>Yt(n.errors,U)),m.state.next({errors:M?n.errors:{}})},ge=(M,U,z)=>{const se=(ce(r,M,{_f:{}})._f||{}).ref,ne=ce(n.errors,M)||{},{ref:Z,message:te,type:Ee,...tt}=ne;vt(n.errors,M,{...tt,...U,ref:se}),m.state.next({name:M,errors:n.errors,isValid:!1}),z&&z.shouldFocus&&se&&se.focus&&se.focus()},Te=(M,U)=>ps(M)?m.state.subscribe({next:z=>"values"in z&&M(D(void 0,U),z)}):D(M,U,!0),We=M=>m.state.subscribe({next:U=>{oY(M.name,U.name,M.exact)&&iY(U,M.formState||h,ns,M.reRenderRoot)&&M.callback({values:{...i},...n,...U,defaultValues:s})}}).unsubscribe,it=M=>(a.mount=!0,f={...f,...M.formState},We({...M,formState:f})),X=(M,U={})=>{for(const z of M?cd(M):l.mount)l.mount.delete(z),l.array.delete(z),U.keepValue||(Yt(r,z),Yt(i,z)),!U.keepError&&Yt(n.errors,z),!U.keepDirty&&Yt(n.dirtyFields,z),!U.keepTouched&&Yt(n.touchedFields,z),!U.keepIsValidating&&Yt(n.validatingFields,z),!e.shouldUnregister&&!U.keepDefaultValue&&Yt(s,z);m.state.next({values:sn(i)}),m.state.next({...n,...U.keepDirty?{isDirty:A()}:{}}),!U.keepIsValid&&g()},He=({disabled:M,name:U})=>{(br(M)&&a.mount||M||l.disabled.has(U))&&(M?l.disabled.add(U):l.disabled.delete(U))},Be=(M,U={})=>{let z=ce(r,M);const se=br(U.disabled)||br(e.disabled);return vt(r,M,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:M}},name:M,mount:!0,...U}}),l.mount.add(M),z?He({disabled:br(U.disabled)?U.disabled:e.disabled,name:M}):T(M,!0,U.value),{...se?{disabled:U.disabled||e.disabled}:{},...e.progressive?{required:!!U.required,min:Nu(U.min),max:Nu(U.max),minLength:Nu(U.minLength),maxLength:Nu(U.maxLength),pattern:Nu(U.pattern)}:{},name:M,onChange:le,onBlur:le,ref:ne=>{if(ne){Be(M,U),z=ce(r,M);const Z=zt(ne.value)&&ne.querySelectorAll&&ne.querySelectorAll("input,select,textarea")[0]||ne,te=JQ(Z),Ee=z._f.refs||[];if(te?Ee.find(tt=>tt===Z):Z===z._f.ref)return;vt(r,M,{_f:{...z._f,...te?{refs:[...Ee.filter(cv),Z,...Array.isArray(ce(s,M))?[{}]:[]],ref:{type:Z.type,name:M}}:{ref:Z}}}),T(M,!1,void 0,Z)}else z=ce(r,M,{}),z._f&&(z._f.mount=!1),(e.shouldUnregister||U.shouldUnregister)&&!(lD(l.array,M)&&a.action)&&l.unMount.add(M)}}},Ae=()=>e.shouldFocusError&&ud(r,V,l.mount),Oe=M=>{br(M)&&(m.state.next({disabled:M}),ud(r,(U,z)=>{const se=ce(r,z);se&&(U.disabled=se._f.disabled||M,Array.isArray(se._f.refs)&&se._f.refs.forEach(ne=>{ne.disabled=se._f.disabled||M}))},0,!1))},$e=(M,U)=>async z=>{let se;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let ne=sn(i);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:Z,values:te}=await C();n.errors=Z,ne=sn(te)}else await P(r);if(l.disabled.size)for(const Z of l.disabled)Yt(ne,Z);if(Yt(n.errors,"root"),tr(n.errors)){m.state.next({errors:{}});try{await M(ne,z)}catch(Z){se=Z}}else U&&await U({...n.errors},z),Ae(),setTimeout(Ae);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:tr(n.errors)&&!se,submitCount:n.submitCount+1,errors:n.errors}),se)throw se},Lt=(M,U={})=>{ce(r,M)&&(zt(U.defaultValue)?Y(M,sn(ce(s,M))):(Y(M,U.defaultValue),vt(s,M,sn(U.defaultValue))),U.keepTouched||Yt(n.touchedFields,M),U.keepDirty||(Yt(n.dirtyFields,M),n.isDirty=U.defaultValue?A(M,sn(ce(s,M))):A()),U.keepError||(Yt(n.errors,M),h.isValid&&g()),m.state.next({...n}))},rn=(M,U={})=>{const z=M?sn(M):s,se=sn(z),ne=tr(M),Z=ne?s:se;if(U.keepDefaultValues||(s=z),!U.keepValues){if(U.keepDirtyValues){const te=new Set([...l.mount,...Object.keys(Tu(s,i))]);for(const Ee of Array.from(te))ce(n.dirtyFields,Ee)?vt(Z,Ee,ce(i,Ee)):Y(Ee,ce(Z,Ee))}else{if(B_&&zt(M))for(const te of l.mount){const Ee=ce(r,te);if(Ee&&Ee._f){const tt=Array.isArray(Ee._f.refs)?Ee._f.refs[0]:Ee._f.ref;if(ap(tt)){const gn=tt.closest("form");if(gn){gn.reset();break}}}}if(U.keepFieldsRef)for(const te of l.mount)Y(te,ce(Z,te));else r={}}i=e.shouldUnregister?U.keepDefaultValues?sn(s):{}:sn(Z),m.array.next({values:{...Z}}),m.state.next({values:{...Z}})}l={mount:U.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!U.keepIsValid||!!U.keepDirtyValues,a.watch=!!e.shouldUnregister,m.state.next({submitCount:U.keepSubmitCount?n.submitCount:0,isDirty:ne?!1:U.keepDirty?n.isDirty:!!(U.keepDefaultValues&&!mi(M,s)),isSubmitted:U.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ne?{}:U.keepDirtyValues?U.keepDefaultValues&&i?Tu(s,i):n.dirtyFields:U.keepDefaultValues&&M?Tu(s,M):U.keepDirty?n.dirtyFields:{},touchedFields:U.keepTouched?n.touchedFields:{},errors:U.keepErrors?n.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Zn=(M,U)=>rn(ps(M)?M(i):M,U),vr=(M,U={})=>{const z=ce(r,M),se=z&&z._f;if(se){const ne=se.refs?se.refs[0]:se.ref;ne.focus&&(ne.focus(),U.shouldSelect&&ps(ne.select)&&ne.select())}},ns=M=>{n={...n,...M}},Lr={control:{register:Be,unregister:X,getFieldState:ue,handleSubmit:$e,setError:ge,_subscribe:We,_runSchema:C,_focusError:Ae,_getWatch:D,_getDirty:A,_setValid:g,_setFieldArray:b,_setDisabledField:He,_setErrors:E,_getFieldArray:j,_reset:rn,_resetDefaultValues:()=>ps(e.defaultValues)&&e.defaultValues().then(M=>{Zn(M,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:Oe,_subjects:m,_proxyFormState:h,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(M){a=M},get _defaultValues(){return s},get _names(){return l},set _names(M){l=M},get _formState(){return n},get _options(){return e},set _options(M){e={...e,...M}}},subscribe:it,trigger:L,register:Be,handleSubmit:$e,watch:Te,setValue:Y,getValues:G,reset:Zn,resetField:Lt,clearErrors:oe,unregister:X,setError:ge,setFocus:vr,getFieldState:ue};return{...Lr,formControl:Lr}}function ra(t={}){const e=W.useRef(void 0),n=W.useRef(void 0),[r,s]=W.useState({isDirty:!1,isValidating:!1,isLoading:ps(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ps(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!ps(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...l}=dY(t);e.current={...l,formState:r}}const i=e.current.control;return i._options=t,q_(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,a},[i]),W.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),W.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),W.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),W.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),W.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),W.useEffect(()=>{t.values&&!mi(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,s(a=>({...a}))):i._resetDefaultValues()},[i,t.values]),W.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=cD(r,i),e.current}const rN=(t,e,n)=>{if(t&&"reportValidity"in t){const r=ce(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},vD=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?rN(r.ref,n,t):r.refs&&r.refs.forEach(s=>rN(s,n,t))}},hY=(t,e)=>{e.shouldUseNativeValidation&&vD(t,e);const n={};for(const r in t){const s=ce(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(fY(e.names||Object.keys(t),r)){const a=Object.assign({},ce(n,r));vt(a,"root",i),vt(n,r,a)}else vt(n,r,i)}return n},fY=(t,e)=>t.some(n=>n.startsWith(e+"."));var mY=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[a]={message:l.message,type:l.code}}else n[a]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(f){return t.push(f)})}),e){var c=n[a].types,u=c&&c[r.code];n[a]=dD(a,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n},sa=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(a,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return i.shouldUseNativeValidation&&vD({},i),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(a){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(a))return{values:{},errors:hY(mY(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},ct;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of i)a[l]=s[l];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ct||(ct={}));var sN;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(sN||(sN={}));const xe=ct.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),eo=t=>{switch(typeof t){case"undefined":return xe.undefined;case"string":return xe.string;case"number":return Number.isNaN(t)?xe.nan:xe.number;case"boolean":return xe.boolean;case"function":return xe.function;case"bigint":return xe.bigint;case"symbol":return xe.symbol;case"object":return Array.isArray(t)?xe.array:t===null?xe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?xe.promise:typeof Map<"u"&&t instanceof Map?xe.map:typeof Set<"u"&&t instanceof Set?xe.set:typeof Date<"u"&&t instanceof Date?xe.date:xe.object;default:return xe.unknown}},J=ct.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Di extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let l=r,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),r}static assert(e){if(!(e instanceof Di))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ct.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Di.create=t=>new Di(t);const ew=(t,e)=>{let n;switch(t.code){case J.invalid_type:t.received===xe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case J.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ct.jsonStringifyReplacer)}`;break;case J.unrecognized_keys:n=`Unrecognized key(s) in object: ${ct.joinValues(t.keys,", ")}`;break;case J.invalid_union:n="Invalid input";break;case J.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ct.joinValues(t.options)}`;break;case J.invalid_enum_value:n=`Invalid enum value. Expected ${ct.joinValues(t.options)}, received '${t.received}'`;break;case J.invalid_arguments:n="Invalid function arguments";break;case J.invalid_return_type:n="Invalid function return type";break;case J.invalid_date:n="Invalid date";break;case J.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ct.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case J.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case J.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case J.custom:n="Invalid input";break;case J.invalid_intersection_types:n="Intersection results could not be merged";break;case J.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case J.not_finite:n="Number must be finite";break;default:n=e.defaultError,ct.assertNever(t)}return{message:n}};let pY=ew;function gY(){return pY}const yY=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(a,{data:e,defaultError:l}).message;return{...s,path:i,message:l}};function he(t,e){const n=gY(),r=yY({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===ew?void 0:ew].filter(s=>!!s)});t.common.issues.push(r)}class Rr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return je;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return Rr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return je;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const je=Object.freeze({status:"aborted"}),$u=t=>({status:"dirty",value:t}),ts=t=>({status:"valid",value:t}),iN=t=>t.status==="aborted",oN=t=>t.status==="dirty",Pc=t=>t.status==="valid",up=t=>typeof Promise<"u"&&t instanceof Promise;var _e;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(_e||(_e={}));class qo{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const aN=(t,e)=>{if(Pc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Di(t.common.issues);return this._error=n,this._error}}};function ze(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,l)=>{const{message:c}=t;return a.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:s}}class st{get description(){return this._def.description}_getType(e){return eo(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:eo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Rr,ctx:{common:e.parent.common,data:e.data,parsedType:eo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(up(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:eo(e)},s=this._parseSync({data:e,path:r.path,parent:r});return aN(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:eo(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return Pc(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>Pc(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:eo(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(up(s)?s:Promise.resolve(s));return aN(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=e(s),l=()=>i.addIssue({code:J.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Rc({schema:this,typeName:Re.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ko.create(this,this._def)}nullable(){return kc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ys.create(this)}promise(){return mp.create(this,this._def)}or(e){return hp.create([this,e],this._def)}and(e){return fp.create(this,e,this._def)}transform(e){return new Rc({...ze(this._def),schema:this,typeName:Re.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new nw({...ze(this._def),innerType:this,defaultValue:n,typeName:Re.ZodDefault})}brand(){return new UY({typeName:Re.ZodBranded,type:this,...ze(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new rw({...ze(this._def),innerType:this,catchValue:n,typeName:Re.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Q_.create(this,e)}readonly(){return sw.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const vY=/^c[^\s-]{8,}$/i,xY=/^[0-9a-z]+$/,wY=/^[0-9A-HJKMNP-TV-Z]{26}$/i,_Y=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,bY=/^[a-z0-9_-]{21}$/i,EY=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,SY=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,TY=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,NY="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let uv;const CY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,IY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,PY=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,jY=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,RY=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,kY=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,xD="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",AY=new RegExp(`^${xD}$`);function wD(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function DY(t){return new RegExp(`^${wD(t)}$`)}function OY(t){let e=`${xD}T${wD(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function MY(t,e){return!!((e==="v4"||!e)&&CY.test(t)||(e==="v6"||!e)&&PY.test(t))}function LY(t,e){if(!EY.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function VY(t,e){return!!((e==="v4"||!e)&&IY.test(t)||(e==="v6"||!e)&&jY.test(t))}class yo extends st{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==xe.string){const i=this._getOrReturnCtx(e);return he(i,{code:J.invalid_type,expected:xe.string,received:i.parsedType}),je}const r=new Rr;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),he(s,{code:J.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),he(s,{code:J.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,l=e.data.length<i.value;(a||l)&&(s=this._getOrReturnCtx(e,s),a?he(s,{code:J.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&he(s,{code:J.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")TY.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"email",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")uv||(uv=new RegExp(NY,"u")),uv.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"emoji",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")_Y.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"uuid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")bY.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"nanoid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")vY.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"cuid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")xY.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"cuid2",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")wY.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"ulid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),he(s,{validation:"url",code:J.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"regex",code:J.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),he(s,{code:J.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),he(s,{code:J.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),he(s,{code:J.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?OY(i).test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{code:J.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?AY.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{code:J.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?DY(i).test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{code:J.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?SY.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"duration",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?MY(e.data,i.version)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"ip",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?LY(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"jwt",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?VY(e.data,i.version)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"cidr",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?RY.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"base64",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?kY.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"base64url",code:J.invalid_string,message:i.message}),r.dirty()):ct.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:J.invalid_string,..._e.errToObj(r)})}_addCheck(e){return new yo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",..._e.errToObj(e)})}url(e){return this._addCheck({kind:"url",..._e.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",..._e.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",..._e.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",..._e.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",..._e.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",..._e.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",..._e.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",..._e.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",..._e.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",..._e.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",..._e.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",..._e.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,..._e.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,..._e.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",..._e.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,..._e.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,..._e.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,..._e.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,..._e.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,..._e.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,..._e.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,..._e.errToObj(n)})}nonempty(e){return this.min(1,_e.errToObj(e))}trim(){return new yo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new yo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new yo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}yo.create=t=>new yo({checks:[],typeName:Re.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...ze(t)});function FY(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return i%a/10**s}class Qd extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==xe.number){const i=this._getOrReturnCtx(e);return he(i,{code:J.invalid_type,expected:xe.number,received:i.parsedType}),je}let r;const s=new Rr;for(const i of this._def.checks)i.kind==="int"?ct.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{code:J.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:J.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:J.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?FY(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),he(r,{code:J.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{code:J.not_finite,message:i.message}),s.dirty()):ct.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,_e.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_e.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_e.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_e.toString(n))}setLimit(e,n,r,s){return new Qd({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:_e.toString(s)}]})}_addCheck(e){return new Qd({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:_e.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_e.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_e.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:_e.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_e.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_e.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ct.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Qd.create=t=>new Qd({checks:[],typeName:Re.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ze(t)});class Yd extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==xe.bigint)return this._getInvalidInput(e);let r;const s=new Rr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:J.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:J.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),he(r,{code:J.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ct.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return he(n,{code:J.invalid_type,expected:xe.bigint,received:n.parsedType}),je}gte(e,n){return this.setLimit("min",e,!0,_e.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_e.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_e.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_e.toString(n))}setLimit(e,n,r,s){return new Yd({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:_e.toString(s)}]})}_addCheck(e){return new Yd({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_e.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_e.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Yd.create=t=>new Yd({checks:[],typeName:Re.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...ze(t)});class lN extends st{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==xe.boolean){const r=this._getOrReturnCtx(e);return he(r,{code:J.invalid_type,expected:xe.boolean,received:r.parsedType}),je}return ts(e.data)}}lN.create=t=>new lN({typeName:Re.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ze(t)});class dp extends st{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==xe.date){const i=this._getOrReturnCtx(e);return he(i,{code:J.invalid_type,expected:xe.date,received:i.parsedType}),je}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return he(i,{code:J.invalid_date}),je}const r=new Rr;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),he(s,{code:J.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),he(s,{code:J.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ct.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new dp({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:_e.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:_e.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}dp.create=t=>new dp({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Re.ZodDate,...ze(t)});class cN extends st{_parse(e){if(this._getType(e)!==xe.symbol){const r=this._getOrReturnCtx(e);return he(r,{code:J.invalid_type,expected:xe.symbol,received:r.parsedType}),je}return ts(e.data)}}cN.create=t=>new cN({typeName:Re.ZodSymbol,...ze(t)});class uN extends st{_parse(e){if(this._getType(e)!==xe.undefined){const r=this._getOrReturnCtx(e);return he(r,{code:J.invalid_type,expected:xe.undefined,received:r.parsedType}),je}return ts(e.data)}}uN.create=t=>new uN({typeName:Re.ZodUndefined,...ze(t)});class dN extends st{_parse(e){if(this._getType(e)!==xe.null){const r=this._getOrReturnCtx(e);return he(r,{code:J.invalid_type,expected:xe.null,received:r.parsedType}),je}return ts(e.data)}}dN.create=t=>new dN({typeName:Re.ZodNull,...ze(t)});class hN extends st{constructor(){super(...arguments),this._any=!0}_parse(e){return ts(e.data)}}hN.create=t=>new hN({typeName:Re.ZodAny,...ze(t)});class fN extends st{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ts(e.data)}}fN.create=t=>new fN({typeName:Re.ZodUnknown,...ze(t)});class Go extends st{_parse(e){const n=this._getOrReturnCtx(e);return he(n,{code:J.invalid_type,expected:xe.never,received:n.parsedType}),je}}Go.create=t=>new Go({typeName:Re.ZodNever,...ze(t)});class mN extends st{_parse(e){if(this._getType(e)!==xe.undefined){const r=this._getOrReturnCtx(e);return he(r,{code:J.invalid_type,expected:xe.void,received:r.parsedType}),je}return ts(e.data)}}mN.create=t=>new mN({typeName:Re.ZodVoid,...ze(t)});class Ys extends st{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==xe.array)return he(n,{code:J.invalid_type,expected:xe.array,received:n.parsedType}),je;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(a||l)&&(he(n,{code:a?J.too_big:J.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(he(n,{code:J.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(he(n,{code:J.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,l)=>s.type._parseAsync(new qo(n,a,n.path,l)))).then(a=>Rr.mergeArray(r,a));const i=[...n.data].map((a,l)=>s.type._parseSync(new qo(n,a,n.path,l)));return Rr.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Ys({...this._def,minLength:{value:e,message:_e.toString(n)}})}max(e,n){return new Ys({...this._def,maxLength:{value:e,message:_e.toString(n)}})}length(e,n){return new Ys({...this._def,exactLength:{value:e,message:_e.toString(n)}})}nonempty(e){return this.min(1,e)}}Ys.create=(t,e)=>new Ys({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Re.ZodArray,...ze(e)});function Nl(t){if(t instanceof Ut){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ko.create(Nl(r))}return new Ut({...t._def,shape:()=>e})}else return t instanceof Ys?new Ys({...t._def,type:Nl(t.element)}):t instanceof ko?ko.create(Nl(t.unwrap())):t instanceof kc?kc.create(Nl(t.unwrap())):t instanceof qa?qa.create(t.items.map(e=>Nl(e))):t}class Ut extends st{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ct.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==xe.object){const u=this._getOrReturnCtx(e);return he(u,{code:J.invalid_type,expected:xe.object,received:u.parsedType}),je}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof Go&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||l.push(u);const c=[];for(const u of a){const h=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:h._parse(new qo(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Go){const u=this._def.unknownKeys;if(u==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(u==="strict")l.length>0&&(he(s,{code:J.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const h of l){const f=s.data[h];c.push({key:{status:"valid",value:h},value:u._parse(new qo(s,f,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const h of c){const f=await h.key,m=await h.value;u.push({key:f,value:m,alwaysSet:h.alwaysSet})}return u}).then(u=>Rr.mergeObjectSync(r,u)):Rr.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return _e.errToObj,new Ut({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,a;const s=((a=(i=this._def).errorMap)==null?void 0:a.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:_e.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Ut({...this._def,unknownKeys:"strip"})}passthrough(){return new Ut({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ut({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ut({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Re.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ut({...this._def,catchall:e})}pick(e){const n={};for(const r of ct.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Ut({...this._def,shape:()=>n})}omit(e){const n={};for(const r of ct.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Ut({...this._def,shape:()=>n})}deepPartial(){return Nl(this)}partial(e){const n={};for(const r of ct.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new Ut({...this._def,shape:()=>n})}required(e){const n={};for(const r of ct.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof ko;)i=i._def.innerType;n[r]=i}return new Ut({...this._def,shape:()=>n})}keyof(){return _D(ct.objectKeys(this.shape))}}Ut.create=(t,e)=>new Ut({shape:()=>t,unknownKeys:"strip",catchall:Go.create(),typeName:Re.ZodObject,...ze(e)});Ut.strictCreate=(t,e)=>new Ut({shape:()=>t,unknownKeys:"strict",catchall:Go.create(),typeName:Re.ZodObject,...ze(e)});Ut.lazycreate=(t,e)=>new Ut({shape:t,unknownKeys:"strip",catchall:Go.create(),typeName:Re.ZodObject,...ze(e)});class hp extends st{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new Di(l.ctx.common.issues));return he(n,{code:J.invalid_union,unionErrors:a}),je}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(c=>new Di(c));return he(n,{code:J.invalid_union,unionErrors:l}),je}}get options(){return this._def.options}}hp.create=(t,e)=>new hp({options:t,typeName:Re.ZodUnion,...ze(e)});function tw(t,e){const n=eo(t),r=eo(e);if(t===e)return{valid:!0,data:t};if(n===xe.object&&r===xe.object){const s=ct.objectKeys(e),i=ct.objectKeys(t).filter(l=>s.indexOf(l)!==-1),a={...t,...e};for(const l of i){const c=tw(t[l],e[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(n===xe.array&&r===xe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],l=e[i],c=tw(a,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===xe.date&&r===xe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class fp extends st{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,a)=>{if(iN(i)||iN(a))return je;const l=tw(i.value,a.value);return l.valid?((oN(i)||oN(a))&&n.dirty(),{status:n.value,value:l.data}):(he(r,{code:J.invalid_intersection_types}),je)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}fp.create=(t,e,n)=>new fp({left:t,right:e,typeName:Re.ZodIntersection,...ze(n)});class qa extends st{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.array)return he(r,{code:J.invalid_type,expected:xe.array,received:r.parsedType}),je;if(r.data.length<this._def.items.length)return he(r,{code:J.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),je;!this._def.rest&&r.data.length>this._def.items.length&&(he(r,{code:J.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new qo(r,a,r.path,l)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>Rr.mergeArray(n,a)):Rr.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new qa({...this._def,rest:e})}}qa.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qa({items:t,typeName:Re.ZodTuple,rest:null,...ze(e)})};class pN extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.map)return he(r,{code:J.invalid_type,expected:xe.map,received:r.parsedType}),je;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([l,c],u)=>({key:s._parse(new qo(r,l,r.path,[u,"key"])),value:i._parse(new qo(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,h=await c.value;if(u.status==="aborted"||h.status==="aborted")return je;(u.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(u.value,h.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of a){const u=c.key,h=c.value;if(u.status==="aborted"||h.status==="aborted")return je;(u.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(u.value,h.value)}return{status:n.value,value:l}}}}pN.create=(t,e,n)=>new pN({valueType:e,keyType:t,typeName:Re.ZodMap,...ze(n)});class Xd extends st{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.set)return he(r,{code:J.invalid_type,expected:xe.set,received:r.parsedType}),je;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(he(r,{code:J.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(he(r,{code:J.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(c){const u=new Set;for(const h of c){if(h.status==="aborted")return je;h.status==="dirty"&&n.dirty(),u.add(h.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>i._parse(new qo(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(e,n){return new Xd({...this._def,minSize:{value:e,message:_e.toString(n)}})}max(e,n){return new Xd({...this._def,maxSize:{value:e,message:_e.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Xd.create=(t,e)=>new Xd({valueType:t,minSize:null,maxSize:null,typeName:Re.ZodSet,...ze(e)});class gN extends st{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}gN.create=(t,e)=>new gN({getter:t,typeName:Re.ZodLazy,...ze(e)});class yN extends st{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return he(n,{received:n.data,code:J.invalid_literal,expected:this._def.value}),je}return{status:"valid",value:e.data}}get value(){return this._def.value}}yN.create=(t,e)=>new yN({value:t,typeName:Re.ZodLiteral,...ze(e)});function _D(t,e){return new jc({values:t,typeName:Re.ZodEnum,...ze(e)})}class jc extends st{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return he(n,{expected:ct.joinValues(r),received:n.parsedType,code:J.invalid_type}),je}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return he(n,{received:n.data,code:J.invalid_enum_value,options:r}),je}return ts(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return jc.create(e,{...this._def,...n})}exclude(e,n=this._def){return jc.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}jc.create=_D;class vN extends st{_parse(e){const n=ct.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==xe.string&&r.parsedType!==xe.number){const s=ct.objectValues(n);return he(r,{expected:ct.joinValues(s),received:r.parsedType,code:J.invalid_type}),je}if(this._cache||(this._cache=new Set(ct.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=ct.objectValues(n);return he(r,{received:r.data,code:J.invalid_enum_value,options:s}),je}return ts(e.data)}get enum(){return this._def.values}}vN.create=(t,e)=>new vN({values:t,typeName:Re.ZodNativeEnum,...ze(e)});class mp extends st{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==xe.promise&&n.common.async===!1)return he(n,{code:J.invalid_type,expected:xe.promise,received:n.parsedType}),je;const r=n.parsedType===xe.promise?n.data:Promise.resolve(n.data);return ts(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}mp.create=(t,e)=>new mp({type:t,typeName:Re.ZodPromise,...ze(e)});class Rc extends st{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{he(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async l=>{if(n.value==="aborted")return je;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?je:c.status==="dirty"||n.value==="dirty"?$u(c.value):c});{if(n.value==="aborted")return je;const l=this._def.schema._parseSync({data:a,path:r.path,parent:r});return l.status==="aborted"?je:l.status==="dirty"||n.value==="dirty"?$u(l.value):l}}if(s.type==="refinement"){const a=l=>{const c=s.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?je:(l.status==="dirty"&&n.dirty(),a(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?je:(l.status==="dirty"&&n.dirty(),a(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Pc(a))return je;const l=s.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Pc(a)?Promise.resolve(s.transform(a.value,i)).then(l=>({status:n.value,value:l})):je);ct.assertNever(s)}}Rc.create=(t,e,n)=>new Rc({schema:t,typeName:Re.ZodEffects,effect:e,...ze(n)});Rc.createWithPreprocess=(t,e,n)=>new Rc({schema:e,effect:{type:"preprocess",transform:t},typeName:Re.ZodEffects,...ze(n)});class ko extends st{_parse(e){return this._getType(e)===xe.undefined?ts(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ko.create=(t,e)=>new ko({innerType:t,typeName:Re.ZodOptional,...ze(e)});class kc extends st{_parse(e){return this._getType(e)===xe.null?ts(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}kc.create=(t,e)=>new kc({innerType:t,typeName:Re.ZodNullable,...ze(e)});class nw extends st{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===xe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}nw.create=(t,e)=>new nw({innerType:t,typeName:Re.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ze(e)});class rw extends st{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return up(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Di(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Di(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}rw.create=(t,e)=>new rw({innerType:t,typeName:Re.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ze(e)});class xN extends st{_parse(e){if(this._getType(e)!==xe.nan){const r=this._getOrReturnCtx(e);return he(r,{code:J.invalid_type,expected:xe.nan,received:r.parsedType}),je}return{status:"valid",value:e.data}}}xN.create=t=>new xN({typeName:Re.ZodNaN,...ze(t)});class UY extends st{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Q_ extends st{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?je:i.status==="dirty"?(n.dirty(),$u(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?je:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Q_({in:e,out:n,typeName:Re.ZodPipeline})}}class sw extends st{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Pc(s)&&(s.value=Object.freeze(s.value)),s);return up(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}sw.create=(t,e)=>new sw({innerType:t,typeName:Re.ZodReadonly,...ze(e)});Ut.lazycreate;var Re;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Re||(Re={}));const pt=yo.create;Go.create;Ys.create;const ia=Ut.create;Ut.strictCreate;hp.create;fp.create;qa.create;jc.create;mp.create;ko.create;kc.create;const Ye=p.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:we("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ye.displayName="Input";var $Y="Label",bD=p.forwardRef((t,e)=>o.jsx(Se.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));bD.displayName=$Y;var ED=bD;const BY=lh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),dd=p.forwardRef(({className:t,...e},n)=>o.jsx(ED,{ref:n,className:we(BY(),t),...e}));dd.displayName=ED.displayName;const oa=KQ,SD=p.createContext({}),gt=({...t})=>o.jsx(SD.Provider,{value:{name:t.name},children:o.jsx(ZQ,{...t})}),Ag=()=>{const t=p.useContext(SD),e=p.useContext(TD),{getFieldState:n,formState:r}=kg(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},TD=p.createContext({}),ut=p.forwardRef(({className:t,...e},n)=>{const r=p.useId();return o.jsx(TD.Provider,{value:{id:r},children:o.jsx("div",{ref:n,className:we("space-y-2",t),...e})})});ut.displayName="FormItem";const dt=p.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=Ag();return o.jsx(dd,{ref:n,className:we(r&&"text-destructive",t),htmlFor:s,...e})});dt.displayName="FormLabel";const ht=p.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=Ag();return o.jsx(JI,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});ht.displayName="FormControl";const zY=p.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Ag();return o.jsx("p",{ref:n,id:r,className:we("text-sm text-muted-foreground",t),...e})});zY.displayName="FormDescription";const ft=p.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=Ag(),a=s?String(s==null?void 0:s.message):e;return a?o.jsx("p",{ref:r,id:i,className:we("text-sm font-medium text-destructive",t),...n,children:a}):null});ft.displayName="FormMessage";const WY=ia({email:pt().email("Please enter a valid email address"),password:pt().min(6,"Password must be at least 6 characters")}),HY=()=>{const t=Yn(),{toast:e}=cn(),[n,r]=p.useState(!1),s=ra({resolver:sa(WY),defaultValues:{email:"",password:""}}),i=async a=>{r(!0);try{await hG(a.email,a.password),e({title:"Welcome back!",description:"You have been successfully logged in."}),t("/")}catch(l){e({title:"Login Failed",description:l.message||"Please check your credentials and try again.",variant:"destructive"})}finally{r(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20 flex items-center justify-center p-4",children:o.jsxs(ye,{className:"w-full max-w-md shadow-xl border-0 bg-card/90 backdrop-blur",children:[o.jsxs(Le,{className:"text-center space-y-2",children:[o.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:o.jsx(qt,{className:"h-8 w-8 text-primary"})}),o.jsx(Ve,{className:"text-2xl font-bold",children:"Welcome Back"}),o.jsx(nn,{className:"text-base",children:"Sign in to your e-StampExpress account"})]}),o.jsxs(ve,{children:[o.jsx(oa,{...s,children:o.jsxs("form",{onSubmit:s.handleSubmit(i),className:"space-y-4",children:[o.jsx(gt,{control:s.control,name:"email",render:({field:a})=>o.jsxs(ut,{children:[o.jsx(dt,{children:"Email Address"}),o.jsx(ht,{children:o.jsxs("div",{className:"relative",children:[o.jsx(vc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ye,{...a,type:"email",placeholder:"Enter your email",className:"pl-10 h-11"})]})}),o.jsx(ft,{})]})}),o.jsx(gt,{control:s.control,name:"password",render:({field:a})=>o.jsxs(ut,{children:[o.jsx(dt,{children:"Password"}),o.jsx(ht,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Cm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ye,{...a,type:"password",placeholder:"Enter your password",className:"pl-10 h-11"})]})}),o.jsx(ft,{})]})}),o.jsx(ee,{type:"submit",className:"w-full h-11 text-base font-semibold",disabled:n,children:n?"Signing in...":"Sign In"})]})}),o.jsxs("div",{className:"mt-6 text-center",children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",o.jsx(lt,{to:"/register",className:"text-primary hover:underline font-medium",children:"Sign up here"})]}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Or"," ",o.jsx(lt,{to:"/otp-login",className:"text-primary hover:underline font-medium",children:"Login with OTP"})]})]}),o.jsx("div",{className:"mt-4 text-center",children:o.jsx(lt,{to:"/",className:"text-sm text-muted-foreground hover:text-foreground",children:" Back to Home"})})]})]})})},qY=ia({displayName:pt().min(2,"Name must be at least 2 characters"),email:pt().email("Please enter a valid email address"),password:pt().min(6,"Password must be at least 6 characters"),confirmPassword:pt().min(6,"Please confirm your password")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),GY=()=>{const t=Yn(),{toast:e}=cn(),[n,r]=p.useState(!1),s=ra({resolver:sa(qY),defaultValues:{displayName:"",email:"",password:"",confirmPassword:""}}),i=async a=>{r(!0);try{await dG(a.email,a.password,a.displayName),e({title:"Account Created!",description:"Welcome to e-StampExpress. You can now start creating e-stamps."}),t("/")}catch(l){e({title:"Registration Failed",description:l.message||"Please try again with different details.",variant:"destructive"})}finally{r(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20 flex items-center justify-center p-4",children:o.jsxs(ye,{className:"w-full max-w-md shadow-xl border-0 bg-card/90 backdrop-blur",children:[o.jsxs(Le,{className:"text-center space-y-2",children:[o.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:o.jsx(qt,{className:"h-8 w-8 text-primary"})}),o.jsx(Ve,{className:"text-2xl font-bold",children:"Create Account"}),o.jsx(nn,{className:"text-base",children:"Join e-StampExpress to get started with digital stamps"})]}),o.jsxs(ve,{children:[o.jsx(oa,{...s,children:o.jsxs("form",{onSubmit:s.handleSubmit(i),className:"space-y-4",children:[o.jsx(gt,{control:s.control,name:"displayName",render:({field:a})=>o.jsxs(ut,{children:[o.jsx(dt,{children:"Full Name"}),o.jsx(ht,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Fc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ye,{...a,placeholder:"Enter your full name",className:"pl-10 h-11"})]})}),o.jsx(ft,{})]})}),o.jsx(gt,{control:s.control,name:"email",render:({field:a})=>o.jsxs(ut,{children:[o.jsx(dt,{children:"Email Address"}),o.jsx(ht,{children:o.jsxs("div",{className:"relative",children:[o.jsx(vc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ye,{...a,type:"email",placeholder:"Enter your email",className:"pl-10 h-11"})]})}),o.jsx(ft,{})]})}),o.jsx(gt,{control:s.control,name:"password",render:({field:a})=>o.jsxs(ut,{children:[o.jsx(dt,{children:"Password"}),o.jsx(ht,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Cm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ye,{...a,type:"password",placeholder:"Create a password",className:"pl-10 h-11"})]})}),o.jsx(ft,{})]})}),o.jsx(gt,{control:s.control,name:"confirmPassword",render:({field:a})=>o.jsxs(ut,{children:[o.jsx(dt,{children:"Confirm Password"}),o.jsx(ht,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Cm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ye,{...a,type:"password",placeholder:"Confirm your password",className:"pl-10 h-11"})]})}),o.jsx(ft,{})]})}),o.jsx(ee,{type:"submit",className:"w-full h-11 text-base font-semibold",disabled:n,children:n?"Creating Account...":"Create Account"})]})}),o.jsxs("div",{className:"mt-6 text-center",children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",o.jsx(lt,{to:"/login",className:"text-primary hover:underline font-medium",children:"Sign in here"})]}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Or"," ",o.jsx(lt,{to:"/otp-login",className:"text-primary hover:underline font-medium",children:"Login with OTP"})]})]}),o.jsx("div",{className:"mt-4 text-center",children:o.jsx(lt,{to:"/",className:"text-sm text-muted-foreground hover:text-foreground",children:" Back to Home"})})]})]})})};function wN(t,[e,n]){return Math.min(n,Math.max(e,t))}function Y_(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var KY=[" ","Enter","ArrowUp","ArrowDown"],QY=[" ","Enter"],Ga="Select",[Dg,Og,YY]=Mp(Ga),[tu,Iee]=Dr(Ga,[YY,zc]),Mg=zc(),[XY,aa]=tu(Ga),[ZY,JY]=tu(Ga),ND=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:m,required:y,form:x}=t,g=Mg(e),[_,b]=p.useState(null),[w,E]=p.useState(null),[T,I]=p.useState(!1),O=Eg(u),[C,N]=Mo({prop:r,defaultProp:s??!1,onChange:i,caller:Ga}),[P,R]=Mo({prop:a,defaultProp:l,onChange:c,caller:Ga}),A=p.useRef(null),D=_?x||!!_.closest("form"):!0,[j,B]=p.useState(new Set),re=Array.from(j).map(Y=>Y.props.value).join(";");return o.jsx(mj,{...g,children:o.jsxs(XY,{required:y,scope:e,trigger:_,onTriggerChange:b,valueNode:w,onValueNodeChange:E,valueNodeHasChildren:T,onValueNodeHasChildrenChange:I,contentId:_i(),value:P,onValueChange:R,open:C,onOpenChange:N,dir:O,triggerPointerDownPosRef:A,disabled:m,children:[o.jsx(Dg.Provider,{scope:e,children:o.jsx(ZY,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(Y=>{B(le=>new Set(le).add(Y))},[]),onNativeOptionRemove:p.useCallback(Y=>{B(le=>{const V=new Set(le);return V.delete(Y),V})},[]),children:n})}),D?o.jsxs(YD,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:P,onChange:Y=>R(Y.target.value),disabled:m,form:x,children:[P===void 0?o.jsx("option",{value:""}):null,Array.from(j)]},re):null]})})};ND.displayName=Ga;var CD="SelectTrigger",ID=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Mg(n),a=aa(CD,n),l=a.disabled||r,c=Xe(e,a.onTriggerChange),u=Og(n),h=p.useRef("touch"),[f,m,y]=ZD(g=>{const _=u().filter(E=>!E.disabled),b=_.find(E=>E.value===a.value),w=JD(_,g,b);w!==void 0&&a.onValueChange(w.value)}),x=g=>{l||(a.onOpenChange(!0),y()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return o.jsx(E0,{asChild:!0,...i,children:o.jsx(Se.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":XD(a.value)?"":void 0,...s,ref:c,onClick:ae(s.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&x(g)}),onPointerDown:ae(s.onPointerDown,g=>{h.current=g.pointerType;const _=g.target;_.hasPointerCapture(g.pointerId)&&_.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:ae(s.onKeyDown,g=>{const _=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(_&&g.key===" ")&&KY.includes(g.key)&&(x(),g.preventDefault())})})})});ID.displayName=CD;var PD="SelectValue",jD=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=t,c=aa(PD,n),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,f=Xe(e,c.onValueNodeChange);return Cn(()=>{u(h)},[u,h]),o.jsx(Se.span,{...l,ref:f,style:{pointerEvents:"none"},children:XD(c.value)?o.jsx(o.Fragment,{children:a}):i})});jD.displayName=PD;var eX="SelectIcon",RD=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return o.jsx(Se.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});RD.displayName=eX;var tX="SelectPortal",kD=t=>o.jsx(oh,{asChild:!0,...t});kD.displayName=tX;var Ka="SelectContent",AD=p.forwardRef((t,e)=>{const n=aa(Ka,t.__scopeSelect),[r,s]=p.useState();if(Cn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ja.createPortal(o.jsx(DD,{scope:t.__scopeSelect,children:o.jsx(Dg.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(OD,{...t,ref:e})});AD.displayName=Ka;var as=10,[DD,la]=tu(Ka),nX="SelectContentImpl",rX=Va("SelectContent.RemoveScroll"),OD=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:x,hideWhenDetached:g,avoidCollisions:_,...b}=t,w=aa(Ka,n),[E,T]=p.useState(null),[I,O]=p.useState(null),C=Xe(e,X=>T(X)),[N,P]=p.useState(null),[R,A]=p.useState(null),D=Og(n),[j,B]=p.useState(!1),re=p.useRef(!1);p.useEffect(()=>{if(E)return D_(E)},[E]),A_();const Y=p.useCallback(X=>{const[He,...Be]=D().map($e=>$e.ref.current),[Ae]=Be.slice(-1),Oe=document.activeElement;for(const $e of X)if($e===Oe||($e==null||$e.scrollIntoView({block:"nearest"}),$e===He&&I&&(I.scrollTop=0),$e===Ae&&I&&(I.scrollTop=I.scrollHeight),$e==null||$e.focus(),document.activeElement!==Oe))return},[D,I]),le=p.useCallback(()=>Y([N,E]),[Y,N,E]);p.useEffect(()=>{j&&le()},[j,le]);const{onOpenChange:V,triggerPointerDownPosRef:L}=w;p.useEffect(()=>{if(E){let X={x:0,y:0};const He=Ae=>{var Oe,$e;X={x:Math.abs(Math.round(Ae.pageX)-(((Oe=L.current)==null?void 0:Oe.x)??0)),y:Math.abs(Math.round(Ae.pageY)-((($e=L.current)==null?void 0:$e.y)??0))}},Be=Ae=>{X.x<=10&&X.y<=10?Ae.preventDefault():E.contains(Ae.target)||V(!1),document.removeEventListener("pointermove",He),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",He),document.addEventListener("pointerup",Be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",He),document.removeEventListener("pointerup",Be,{capture:!0})}}},[E,V,L]),p.useEffect(()=>{const X=()=>V(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[V]);const[G,ue]=ZD(X=>{const He=D().filter(Oe=>!Oe.disabled),Be=He.find(Oe=>Oe.ref.current===document.activeElement),Ae=JD(He,X,Be);Ae&&setTimeout(()=>Ae.ref.current.focus())}),oe=p.useCallback((X,He,Be)=>{const Ae=!re.current&&!Be;(w.value!==void 0&&w.value===He||Ae)&&(P(X),Ae&&(re.current=!0))},[w.value]),ge=p.useCallback(()=>E==null?void 0:E.focus(),[E]),Te=p.useCallback((X,He,Be)=>{const Ae=!re.current&&!Be;(w.value!==void 0&&w.value===He||Ae)&&A(X)},[w.value]),We=r==="popper"?iw:MD,it=We===iw?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:x,hideWhenDetached:g,avoidCollisions:_}:{};return o.jsx(DD,{scope:n,content:E,viewport:I,onViewportChange:O,itemRefCallback:oe,selectedItem:N,onItemLeave:ge,itemTextRefCallback:Te,focusSelectedItem:le,selectedItemText:R,position:r,isPositioned:j,searchRef:G,children:o.jsx(Cg,{as:rX,allowPinchZoom:!0,children:o.jsx(Sg,{asChild:!0,trapped:w.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:ae(s,X=>{var He;(He=w.trigger)==null||He.focus({preventScroll:!0}),X.preventDefault()}),children:o.jsx(Mc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(We,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:X=>X.preventDefault(),...b,...it,onPlaced:()=>B(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ae(b.onKeyDown,X=>{const He=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!He&&X.key.length===1&&ue(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let Ae=D().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(X.key)&&(Ae=Ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const Oe=X.target,$e=Ae.indexOf(Oe);Ae=Ae.slice($e+1)}setTimeout(()=>Y(Ae)),X.preventDefault()}})})})})})})});OD.displayName=nX;var sX="SelectItemAlignedPosition",MD=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=aa(Ka,n),a=la(Ka,n),[l,c]=p.useState(null),[u,h]=p.useState(null),f=Xe(e,C=>h(C)),m=Og(n),y=p.useRef(!1),x=p.useRef(!0),{viewport:g,selectedItem:_,selectedItemText:b,focusSelectedItem:w}=a,E=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&_&&b){const C=i.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),R=b.getBoundingClientRect();if(i.dir!=="rtl"){const Oe=R.left-N.left,$e=P.left-Oe,Lt=C.left-$e,rn=C.width+Lt,Zn=Math.max(rn,N.width),vr=window.innerWidth-as,ns=wN($e,[as,Math.max(as,vr-Zn)]);l.style.minWidth=rn+"px",l.style.left=ns+"px"}else{const Oe=N.right-R.right,$e=window.innerWidth-P.right-Oe,Lt=window.innerWidth-C.right-$e,rn=C.width+Lt,Zn=Math.max(rn,N.width),vr=window.innerWidth-as,ns=wN($e,[as,Math.max(as,vr-Zn)]);l.style.minWidth=rn+"px",l.style.right=ns+"px"}const A=m(),D=window.innerHeight-as*2,j=g.scrollHeight,B=window.getComputedStyle(u),re=parseInt(B.borderTopWidth,10),Y=parseInt(B.paddingTop,10),le=parseInt(B.borderBottomWidth,10),V=parseInt(B.paddingBottom,10),L=re+Y+j+V+le,G=Math.min(_.offsetHeight*5,L),ue=window.getComputedStyle(g),oe=parseInt(ue.paddingTop,10),ge=parseInt(ue.paddingBottom,10),Te=C.top+C.height/2-as,We=D-Te,it=_.offsetHeight/2,X=_.offsetTop+it,He=re+Y+X,Be=L-He;if(He<=Te){const Oe=A.length>0&&_===A[A.length-1].ref.current;l.style.bottom="0px";const $e=u.clientHeight-g.offsetTop-g.offsetHeight,Lt=Math.max(We,it+(Oe?ge:0)+$e+le),rn=He+Lt;l.style.height=rn+"px"}else{const Oe=A.length>0&&_===A[0].ref.current;l.style.top="0px";const Lt=Math.max(Te,re+g.offsetTop+(Oe?oe:0)+it)+Be;l.style.height=Lt+"px",g.scrollTop=He-Te+g.offsetTop}l.style.margin=`${as}px 0`,l.style.minHeight=G+"px",l.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[m,i.trigger,i.valueNode,l,u,g,_,b,i.dir,r]);Cn(()=>E(),[E]);const[T,I]=p.useState();Cn(()=>{u&&I(window.getComputedStyle(u).zIndex)},[u]);const O=p.useCallback(C=>{C&&x.current===!0&&(E(),w==null||w(),x.current=!1)},[E,w]);return o.jsx(oX,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:O,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:o.jsx(Se.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});MD.displayName=sX;var iX="SelectPopperPosition",iw=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=as,...i}=t,a=Mg(n);return o.jsx(S0,{...a,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});iw.displayName=iX;var[oX,X_]=tu(Ka,{}),ow="SelectViewport",LD=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=la(ow,n),a=X_(ow,n),l=Xe(e,i.onViewportChange),c=p.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(Dg.Slot,{scope:n,children:o.jsx(Se.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ae(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&f){const y=Math.abs(c.current-h.scrollTop);if(y>0){const x=window.innerHeight-as*2,g=parseFloat(f.style.minHeight),_=parseFloat(f.style.height),b=Math.max(g,_);if(b<x){const w=b+y,E=Math.min(x,w),T=w-E;f.style.height=E+"px",f.style.bottom==="0px"&&(h.scrollTop=T>0?T:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});LD.displayName=ow;var VD="SelectGroup",[aX,lX]=tu(VD),cX=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=_i();return o.jsx(aX,{scope:n,id:s,children:o.jsx(Se.div,{role:"group","aria-labelledby":s,...r,ref:e})})});cX.displayName=VD;var FD="SelectLabel",UD=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=lX(FD,n);return o.jsx(Se.div,{id:s.id,...r,ref:e})});UD.displayName=FD;var pp="SelectItem",[uX,$D]=tu(pp),BD=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=t,l=aa(pp,n),c=la(pp,n),u=l.value===r,[h,f]=p.useState(i??""),[m,y]=p.useState(!1),x=Xe(e,w=>{var E;return(E=c.itemRefCallback)==null?void 0:E.call(c,w,r,s)}),g=_i(),_=p.useRef("touch"),b=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(uX,{scope:n,value:r,disabled:s,textId:g,isSelected:u,onItemTextChange:p.useCallback(w=>{f(E=>E||((w==null?void 0:w.textContent)??"").trim())},[]),children:o.jsx(Dg.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:o.jsx(Se.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:x,onFocus:ae(a.onFocus,()=>y(!0)),onBlur:ae(a.onBlur,()=>y(!1)),onClick:ae(a.onClick,()=>{_.current!=="mouse"&&b()}),onPointerUp:ae(a.onPointerUp,()=>{_.current==="mouse"&&b()}),onPointerDown:ae(a.onPointerDown,w=>{_.current=w.pointerType}),onPointerMove:ae(a.onPointerMove,w=>{var E;_.current=w.pointerType,s?(E=c.onItemLeave)==null||E.call(c):_.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ae(a.onPointerLeave,w=>{var E;w.currentTarget===document.activeElement&&((E=c.onItemLeave)==null||E.call(c))}),onKeyDown:ae(a.onKeyDown,w=>{var T;((T=c.searchRef)==null?void 0:T.current)!==""&&w.key===" "||(QY.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});BD.displayName=pp;var Bu="SelectItemText",zD=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,a=aa(Bu,n),l=la(Bu,n),c=$D(Bu,n),u=JY(Bu,n),[h,f]=p.useState(null),m=Xe(e,b=>f(b),c.onItemTextChange,b=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,b,c.value,c.disabled)}),y=h==null?void 0:h.textContent,x=p.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:g,onNativeOptionRemove:_}=u;return Cn(()=>(g(x),()=>_(x)),[g,_,x]),o.jsxs(o.Fragment,{children:[o.jsx(Se.span,{id:c.textId,...i,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ja.createPortal(i.children,a.valueNode):null]})});zD.displayName=Bu;var WD="SelectItemIndicator",HD=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return $D(WD,n).isSelected?o.jsx(Se.span,{"aria-hidden":!0,...r,ref:e}):null});HD.displayName=WD;var aw="SelectScrollUpButton",qD=p.forwardRef((t,e)=>{const n=la(aw,t.__scopeSelect),r=X_(aw,t.__scopeSelect),[s,i]=p.useState(!1),a=Xe(e,r.onScrollButtonChange);return Cn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(KD,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});qD.displayName=aw;var lw="SelectScrollDownButton",GD=p.forwardRef((t,e)=>{const n=la(lw,t.__scopeSelect),r=X_(lw,t.__scopeSelect),[s,i]=p.useState(!1),a=Xe(e,r.onScrollButtonChange);return Cn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;i(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(KD,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});GD.displayName=lw;var KD=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=la("SelectScrollButton",n),a=p.useRef(null),l=Og(n),c=p.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Cn(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(Se.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ae(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ae(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ae(s.onPointerLeave,()=>{c()})})}),dX="SelectSeparator",QD=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(Se.div,{"aria-hidden":!0,...r,ref:e})});QD.displayName=dX;var cw="SelectArrow",hX=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Mg(n),i=aa(cw,n),a=la(cw,n);return i.open&&a.position==="popper"?o.jsx(T0,{...s,...r,ref:e}):null});hX.displayName=cw;var fX="SelectBubbleInput",YD=p.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=p.useRef(null),i=Xe(r,s),a=Y_(e);return p.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&h){const f=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(f)}},[a,e]),o.jsx(Se.select,{...n,style:{...sP,...n.style},ref:i,defaultValue:e})});YD.displayName=fX;function XD(t){return t===""||t===void 0}function ZD(t){const e=gr(t),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(a=>{const l=n.current+a;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function JD(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=mX(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function mX(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var pX=ND,eO=ID,gX=jD,yX=RD,vX=kD,tO=AD,xX=LD,nO=UD,rO=BD,wX=zD,_X=HD,sO=qD,iO=GD,oO=QD;const Sn=pX,Tn=gX,mn=p.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(eO,{ref:r,className:we("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(yX,{asChild:!0,children:o.jsx(IP,{className:"h-4 w-4 opacity-50"})})]}));mn.displayName=eO.displayName;const aO=p.forwardRef(({className:t,...e},n)=>o.jsx(sO,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(cF,{className:"h-4 w-4"})}));aO.displayName=sO.displayName;const lO=p.forwardRef(({className:t,...e},n)=>o.jsx(iO,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(IP,{className:"h-4 w-4"})}));lO.displayName=iO.displayName;const pn=p.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>o.jsx(vX,{children:o.jsxs(tO,{ref:s,className:we("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx(aO,{}),o.jsx(xX,{className:we("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(lO,{})]})}));pn.displayName=tO.displayName;const bX=p.forwardRef(({className:t,...e},n)=>o.jsx(nO,{ref:n,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));bX.displayName=nO.displayName;const Ze=p.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(rO,{ref:r,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(_X,{children:o.jsx(u0,{className:"h-4 w-4"})})}),o.jsx(wX,{children:e})]}));Ze.displayName=rO.displayName;const EX=p.forwardRef(({className:t,...e},n)=>o.jsx(oO,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));EX.displayName=oO.displayName;const SX=async t=>{try{return(await eu(un(et,"states"),t)).id}catch(e){throw console.error("Error creating state:",e),e}},TX=async(t,e)=>{try{const n=Bn(et,"states",t);await Jc(n,e)}catch(n){throw console.error("Error updating state:",n),n}},NX=async t=>{try{const e=Bn(et,"states",t);await bh(e)}catch(e){throw console.error("Error deleting state:",e),e}},nu=async()=>{try{return(await Mr(un(et,"states"))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error fetching states:",t),t}},CX=async t=>{try{return(await eu(un(et,"districts"),t)).id}catch(e){throw console.error("Error creating district:",e),e}},IX=async(t,e)=>{try{const n=Bn(et,"districts",t);await Jc(n,e)}catch(n){throw console.error("Error updating district:",n),n}},PX=async t=>{try{const e=Bn(et,"districts",t);await bh(e)}catch(e){throw console.error("Error deleting district:",e),e}},cO=async()=>{try{return(await Mr(un(et,"districts"))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error fetching all districts:",t),t}},jX=async t=>{try{const e=ll(un(et,"districts"),_h("stateId","==",t));return(await Mr(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching districts:",e),e}},RX=async t=>{try{return(await eu(un(et,"tehsils"),t)).id}catch(e){throw console.error("Error creating tehsil:",e),e}},kX=async(t,e)=>{try{const n=Bn(et,"tehsils",t);await Jc(n,e)}catch(n){throw console.error("Error updating tehsil:",n),n}},AX=async t=>{try{const e=Bn(et,"tehsils",t);await bh(e)}catch(e){throw console.error("Error deleting tehsil:",e),e}},DX=async()=>{try{return(await Mr(un(et,"tehsils"))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error fetching all tehsils:",t),t}},OX=async t=>{try{const e=ll(un(et,"tehsils"),_h("districtId","==",t));return(await Mr(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching tehsils:",e),e}},MX=async t=>{try{return(await eu(un(et,"stampCategories"),t)).id}catch(e){throw console.error("Error creating stamp category:",e),e}},LX=async(t,e)=>{try{const n=Bn(et,"stampCategories",t);await Jc(n,e)}catch(n){throw console.error("Error updating stamp category:",n),n}},VX=async t=>{try{const e=Bn(et,"stampCategories",t);await bh(e)}catch(e){throw console.error("Error deleting stamp category:",e),e}},Lg=async()=>{try{return(await Mr(un(et,"stampCategories"))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error fetching stamp categories:",t),t}},FX=async t=>{try{const e=ll(un(et,"stampProducts"),_h("stateId","==",t));return(await Mr(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching stamp products:",e),e}},UX=async t=>{try{return(await eu(un(et,"orders"),{...t,createdAt:_t.now(),updatedAt:_t.now()})).id}catch(e){throw console.error("Error creating order:",e),e}},$X=async t=>{try{const e=ll(un(et,"orders"),_h("userId","==",t),N_("createdAt","desc"));return(await Mr(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Error fetching user orders:",e),[]}},BX=async t=>{try{let e=ll(un(et,"orders"),N_("createdAt","desc"));return t!=null&&t.status,(await Mr(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching all orders:",e),e}},uO=async t=>{try{const e=Bn(et,"orders",t),n=await C_(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Error fetching order by ID:",e),e}},zX=async(t,e)=>{try{const n=Bn(et,"orders",t);await Jc(n,{...e,updatedAt:_t.now()})}catch(n){throw console.error("Error updating order (admin):",n),n}},WX=async()=>{try{const t=un(et,"orders"),e=await Mr(t),n={pending:0,processing:0,completed:0,failed:0};return e.docs.forEach(r=>{const s=r.data();n.hasOwnProperty(s.status)&&n[s.status]++}),n}catch(t){throw console.error("Error getting orders count by status:",t),t}},HX=async()=>{try{const t=un(et,"orders"),e=ll(t,_h("status","==","completed")),n=await Mr(e);let r=0;return n.docs.forEach(s=>{const i=s.data();r+=i.totalPaid}),r}catch(t){throw console.error("Error calculating total revenue:",t),t}},qX=async(t=10)=>{try{const e=ll(un(et,"orders"),N_("createdAt","desc"));return(await Mr(e)).docs.map(s=>({id:s.id,...s.data()})).slice(0,t)}catch(e){throw console.error("Error fetching recent orders:",e),e}},GX=async()=>{try{return(await Mr(un(et,"stampProducts"))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error fetching all stamp products:",t),t}},dO=async t=>{try{const e=Bn(et,"stampProducts",t),n=await C_(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Error fetching stamp product by ID:",e),e}},KX=async t=>{try{return(await eu(un(et,"stampProducts"),t)).id}catch(e){throw console.error("Error creating stamp product:",e),e}},QX=async(t,e)=>{try{const n=Bn(et,"stampProducts",t);await Jc(n,e)}catch(n){throw console.error("Error updating stamp product:",n),n}},YX=async t=>{try{const e=Bn(et,"stampProducts",t);await bh(e)}catch(e){throw console.error("Error deleting stamp product:",e),e}},XX=()=>{var u;const[t,e]=p.useState([]),[n,r]=p.useState(""),[s,i]=p.useState(!0),a=Yn(),{toast:l}=cn();p.useEffect(()=>{(async()=>{try{const f=await nu();f.length===0?e([{id:"1",name:"Maharashtra",code:"MH"},{id:"2",name:"Gujarat",code:"GJ"},{id:"3",name:"Karnataka",code:"KA"},{id:"4",name:"Tamil Nadu",code:"TN"},{id:"5",name:"Uttar Pradesh",code:"UP"},{id:"6",name:"Delhi",code:"DL"},{id:"7",name:"West Bengal",code:"WB"},{id:"8",name:"Rajasthan",code:"RJ"}]):e(f)}catch(f){console.error("Error fetching states:",f),l({title:"Error",description:"Failed to load states. Please try again.",variant:"destructive"})}finally{i(!1)}})()},[l]);const c=()=>{if(!n){l({title:"State Required",description:"Please select a state to continue.",variant:"destructive"});return}a(`/select-district?state=${n}`)};return s?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading states..."})]})}):o.jsx("div",{className:"min-h-screen bg-muted/30 py-8",children:o.jsxs("div",{className:"container mx-auto px-4 max-w-2xl",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-2",children:[o.jsx("span",{children:"Step 1 of 6"}),o.jsx("span",{children:"Select State"})]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:"16.66%"}})})]}),o.jsxs(ye,{className:"shadow-lg",children:[o.jsxs(Le,{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(fr,{className:"h-6 w-6 text-primary"})}),o.jsx(Ve,{className:"text-2xl font-bold",children:"Select Your State"}),o.jsx("p",{className:"text-muted-foreground",children:"Choose the state where you need the e-stamp"})]}),o.jsxs(ve,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"State *"}),o.jsxs(Sn,{value:n,onValueChange:r,children:[o.jsx(mn,{className:"w-full",children:o.jsx(Tn,{placeholder:"Select a state"})}),o.jsx(pn,{children:t.map(h=>o.jsx(Ze,{value:h.id,children:h.name},h.id))})]})]}),n&&o.jsx("div",{className:"p-4 bg-primary/5 rounded-lg",children:o.jsxs("p",{className:"text-sm text-primary font-medium",children:["Selected: ",(u=t.find(h=>h.id===n))==null?void 0:u.name]})}),o.jsxs("div",{className:"flex justify-between pt-6",children:[o.jsx(ee,{variant:"outline",asChild:!0,children:o.jsxs(lt,{to:"/",children:[o.jsx(dr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),o.jsxs(ee,{onClick:c,disabled:!n,children:["Next: Select District",o.jsx(iF,{className:"h-4 w-4 ml-2"})]})]})]})]}),o.jsxs("div",{className:"mt-8 text-center",children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Trusted by 50,000+ customers"}),o.jsxs("div",{className:"flex justify-center items-center gap-4 text-xs text-muted-foreground",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-2 h-2 bg-success rounded-full"}),"SSL Secured"]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-2 h-2 bg-success rounded-full"}),"Government Authorized"]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-2 h-2 bg-success rounded-full"}),"Instant Delivery"]})]})]})]})})};var Z_="Progress",J_=100,[ZX,Pee]=Dr(Z_),[JX,eZ]=ZX(Z_),hO=p.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=tZ,...a}=t;(s||s===0)&&!_N(s)&&console.error(nZ(`${s}`,"Progress"));const l=_N(s)?s:J_;r!==null&&!bN(r,l)&&console.error(rZ(`${r}`,"Progress"));const c=bN(r,l)?r:null,u=gp(c)?i(c,l):void 0;return o.jsx(JX,{scope:n,value:c,max:l,children:o.jsx(Se.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":gp(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":pO(c,l),"data-value":c??void 0,"data-max":l,...a,ref:e})})});hO.displayName=Z_;var fO="ProgressIndicator",mO=p.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=eZ(fO,n);return o.jsx(Se.div,{"data-state":pO(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});mO.displayName=fO;function tZ(t,e){return`${Math.round(t/e*100)}%`}function pO(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function gp(t){return typeof t=="number"}function _N(t){return gp(t)&&!isNaN(t)&&t>0}function bN(t,e){return gp(t)&&!isNaN(t)&&t<=e&&t>=0}function nZ(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${J_}\`.`}function rZ(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${J_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var gO=hO,sZ=mO;const dl=p.forwardRef(({className:t,value:e,...n},r)=>o.jsx(gO,{ref:r,className:we("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:o.jsx(sZ,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));dl.displayName=gO.displayName;const iZ=()=>{var w,E;const[t]=Kp(),e=t.get("state"),n=Yn(),{toast:r}=cn(),[s,i]=p.useState([]),[a,l]=p.useState([]),[c,u]=p.useState(""),[h,f]=p.useState(""),[m,y]=p.useState(!0),[x,g]=p.useState(!1);p.useEffect(()=>{if(!e){n("/select-state");return}(async()=>{try{y(!0);const I=await jX(e);I.length===0?i([{id:"dist1",stateId:e,name:"Mumbai"},{id:"dist2",stateId:e,name:"Pune"},{id:"dist3",stateId:e,name:"Nashik"},{id:"dist4",stateId:e,name:"Nagpur"},{id:"dist5",stateId:e,name:"Aurangabad"}]):i(I)}catch(I){console.error("Error fetching districts:",I),r({title:"Error",description:"Failed to load districts. Please try again.",variant:"destructive"})}finally{y(!1)}})()},[e,n,r]),p.useEffect(()=>{c?(async()=>{try{g(!0);const I=await OX(c);I.length===0?l([{id:"teh1",districtId:c,name:"Tehsil 1"},{id:"teh2",districtId:c,name:"Tehsil 2"},{id:"teh3",districtId:c,name:"Tehsil 3"}]):l(I)}catch(I){console.error("Error fetching tehsils:",I),r({title:"Error",description:"Failed to load tehsils. Please try again.",variant:"destructive"})}finally{g(!1)}})():(l([]),f(""))},[c,r]);const _=()=>{n("/select-state")},b=()=>{if(!c||!h){r({title:"Selection Required",description:"Please select both district and tehsil to continue.",variant:"destructive"});return}n(`/party-details?state=${e}&district=${c}&tehsil=${h}`)};return m?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading districts..."})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-primary",children:"Step 2 of 6"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Select Location"})]}),o.jsx(dl,{value:33,className:"h-2"})]}),o.jsxs(ye,{className:"shadow-xl border-0 bg-card/90 backdrop-blur",children:[o.jsxs(Le,{className:"text-center space-y-2",children:[o.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:o.jsx(fr,{className:"h-8 w-8 text-primary"})}),o.jsx(Ve,{className:"text-2xl font-bold",children:"Select District & Tehsil"}),o.jsx(nn,{className:"text-base",children:"Choose your district and tehsil for accurate e-stamp processing"})]}),o.jsxs(ve,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium text-foreground",children:["Select District ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsxs(Sn,{value:c,onValueChange:u,children:[o.jsx(mn,{className:"h-12 text-base",children:o.jsx(Tn,{placeholder:"Choose your district"})}),o.jsx(pn,{children:s.map(T=>o.jsx(Ze,{value:T.id,children:T.name},T.id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium text-foreground",children:["Select Tehsil ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsxs(Sn,{value:h,onValueChange:f,disabled:!c||x,children:[o.jsx(mn,{className:"h-12 text-base",children:o.jsx(Tn,{placeholder:c?x?"Loading tehsils...":"Choose your tehsil":"Select district first"})}),o.jsx(pn,{children:a.map(T=>o.jsx(Ze,{value:T.id,children:T.name},T.id))})]})]}),c&&h&&o.jsxs("div",{className:"bg-success/10 border border-success/20 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(hr,{className:"h-5 w-5 text-success"}),o.jsx("span",{className:"font-medium text-success",children:"Location Selected"})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["District: ",(w=s.find(T=>T.id===c))==null?void 0:w.name," | Tehsil: ",(E=a.find(T=>T.id===h))==null?void 0:E.name]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[o.jsxs(ee,{variant:"outline",onClick:_,className:"flex-1 h-12 text-base",children:[o.jsx(dr,{className:"mr-2 h-4 w-4"}),"Back to State"]}),o.jsx(ee,{onClick:b,disabled:!c||!h,className:"flex-1 h-12 text-base font-semibold",children:"Next: Party Details"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-8",children:[o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-card/50 backdrop-blur rounded-lg border",children:[o.jsx(jd,{className:"h-8 w-8 text-primary flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-sm",children:"Secure Process"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Bank-grade security"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-card/50 backdrop-blur rounded-lg border",children:[o.jsx(yc,{className:"h-8 w-8 text-primary flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-sm",children:"Quick Delivery"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Same day processing"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-card/50 backdrop-blur rounded-lg border",children:[o.jsx(hr,{className:"h-8 w-8 text-primary flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-sm",children:"100% Legal"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Government approved"})]})]})]})]})})},tc=p.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:we("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));tc.displayName="Textarea";const oZ=ia({firstPartyName:pt().min(2,"First party name must be at least 2 characters"),firstPartyAddress:pt().min(10,"Address must be at least 10 characters"),secondPartyName:pt().min(2,"Second party name must be at least 2 characters"),secondPartyAddress:pt().min(10,"Address must be at least 10 characters"),documentType:pt().min(1,"Please select a document type"),propertyDescription:pt().min(10,"Property description must be at least 10 characters"),transactionValue:pt().min(1,"Transaction value is required"),executionDate:pt().min(1,"Execution date is required")}),aZ=[{value:"sale_deed",label:"Sale Deed"},{value:"lease_deed",label:"Lease Deed"},{value:"gift_deed",label:"Gift Deed"},{value:"power_of_attorney",label:"Power of Attorney"},{value:"agreement_to_sell",label:"Agreement to Sell"},{value:"mortgage_deed",label:"Mortgage Deed"},{value:"partition_deed",label:"Partition Deed"},{value:"release_deed",label:"Release Deed"}],lZ=()=>{const[t]=Kp(),e=Yn(),{toast:n}=cn(),[r,s]=p.useState(!1),i=t.get("state"),a=t.get("district"),l=t.get("tehsil"),c=ra({resolver:sa(oZ),defaultValues:{firstPartyName:"",firstPartyAddress:"",secondPartyName:"",secondPartyAddress:"",documentType:"",propertyDescription:"",transactionValue:"",executionDate:""}}),u=()=>{e(`/select-district?state=${i}`)},h=async f=>{if(!i||!a||!l){n({title:"Missing Location Info",description:"Please go back and select your location.",variant:"destructive"});return}s(!0);try{await new Promise(y=>setTimeout(y,1e3));const m=new URLSearchParams({state:i,district:a,tehsil:l,...f});e(`/stamp-selection?${m.toString()}`)}catch{n({title:"Error",description:"Failed to process party details. Please try again.",variant:"destructive"})}finally{s(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-primary",children:"Step 3 of 6"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Party Details"})]}),o.jsx(dl,{value:50,className:"h-2"})]}),o.jsxs(ye,{className:"shadow-xl border-0 bg-card/90 backdrop-blur",children:[o.jsxs(Le,{className:"text-center space-y-2",children:[o.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:o.jsx(d0,{className:"h-8 w-8 text-primary"})}),o.jsx(Ve,{className:"text-2xl font-bold",children:"Party & Document Details"}),o.jsx(nn,{className:"text-base",children:"Provide details about the parties involved and the document"})]}),o.jsx(ve,{children:o.jsx(oa,{...c,children:o.jsxs("form",{onSubmit:c.handleSubmit(h),className:"space-y-6",children:[o.jsx("div",{className:"bg-primary/5 p-4 rounded-lg",children:o.jsx(gt,{control:c.control,name:"documentType",render:({field:f})=>o.jsxs(ut,{children:[o.jsxs(dt,{className:"text-base font-semibold flex items-center gap-2",children:[o.jsx(qt,{className:"h-4 w-4"}),"Document Type ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsxs(Sn,{onValueChange:f.onChange,defaultValue:f.value,children:[o.jsx(ht,{children:o.jsx(mn,{className:"h-12 text-base",children:o.jsx(Tn,{placeholder:"Select document type"})})}),o.jsx(pn,{children:aZ.map(m=>o.jsx(Ze,{value:m.value,children:m.label},m.value))})]}),o.jsx(ft,{})]})})}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-primary border-b border-primary/20 pb-2",children:"First Party Details"}),o.jsx(gt,{control:c.control,name:"firstPartyName",render:({field:f})=>o.jsxs(ut,{children:[o.jsxs(dt,{children:["Full Name ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(ht,{children:o.jsx(Ye,{...f,placeholder:"Enter full name",className:"h-11"})}),o.jsx(ft,{})]})}),o.jsx(gt,{control:c.control,name:"firstPartyAddress",render:({field:f})=>o.jsxs(ut,{children:[o.jsxs(dt,{children:["Address ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(ht,{children:o.jsx(tc,{...f,placeholder:"Enter complete address",className:"min-h-[100px]"})}),o.jsx(ft,{})]})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-primary border-b border-primary/20 pb-2",children:"Second Party Details"}),o.jsx(gt,{control:c.control,name:"secondPartyName",render:({field:f})=>o.jsxs(ut,{children:[o.jsxs(dt,{children:["Full Name ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(ht,{children:o.jsx(Ye,{...f,placeholder:"Enter full name",className:"h-11"})}),o.jsx(ft,{})]})}),o.jsx(gt,{control:c.control,name:"secondPartyAddress",render:({field:f})=>o.jsxs(ut,{children:[o.jsxs(dt,{children:["Address ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(ht,{children:o.jsx(tc,{...f,placeholder:"Enter complete address",className:"min-h-[100px]"})}),o.jsx(ft,{})]})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-primary border-b border-primary/20 pb-2",children:"Property & Transaction Details"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsx(gt,{control:c.control,name:"transactionValue",render:({field:f})=>o.jsxs(ut,{children:[o.jsxs(dt,{children:["Transaction Value () ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(ht,{children:o.jsx(Ye,{...f,type:"number",placeholder:"Enter amount in rupees",className:"h-11"})}),o.jsx(ft,{})]})}),o.jsx(gt,{control:c.control,name:"executionDate",render:({field:f})=>o.jsxs(ut,{children:[o.jsxs(dt,{children:["Execution Date ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(ht,{children:o.jsx(Ye,{...f,type:"date",className:"h-11"})}),o.jsx(ft,{})]})})]}),o.jsx(gt,{control:c.control,name:"propertyDescription",render:({field:f})=>o.jsxs(ut,{children:[o.jsxs(dt,{children:["Property Description ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(ht,{children:o.jsx(tc,{...f,placeholder:"Describe the property in detail",className:"min-h-[100px]"})}),o.jsx(ft,{})]})})]}),o.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 flex gap-3",children:[o.jsx(uF,{className:"h-5 w-5 text-orange-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium text-orange-800 mb-1",children:"Important Notice"}),o.jsx("p",{className:"text-orange-700",children:"Please ensure all details are accurate as they will appear on the e-stamp. Incorrect information may cause legal issues."})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[o.jsxs(ee,{type:"button",variant:"outline",onClick:u,className:"flex-1 h-12 text-base",children:[o.jsx(dr,{className:"mr-2 h-4 w-4"}),"Back to Location"]}),o.jsx(ee,{type:"submit",disabled:r,className:"flex-1 h-12 text-base font-semibold",children:r?"Processing...":"Next: Select Stamp"})]})]})})})]})]})})},cZ=lh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ht({className:t,variant:e,...n}){return o.jsx("div",{className:we(cZ({variant:e}),t),...n})}var eb="Radio",[uZ,yO]=Dr(eb),[dZ,hZ]=uZ(eb),vO=p.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:a,value:l="on",onCheck:c,form:u,...h}=t,[f,m]=p.useState(null),y=Xe(e,_=>m(_)),x=p.useRef(!1),g=f?u||!!f.closest("form"):!0;return o.jsxs(dZ,{scope:n,checked:s,disabled:a,children:[o.jsx(Se.button,{type:"button",role:"radio","aria-checked":s,"data-state":bO(s),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:y,onClick:ae(t.onClick,_=>{s||c==null||c(),g&&(x.current=_.isPropagationStopped(),x.current||_.stopPropagation())})}),g&&o.jsx(_O,{control:f,bubbles:!x.current,name:r,value:l,checked:s,required:i,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});vO.displayName=eb;var xO="RadioIndicator",wO=p.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=hZ(xO,n);return o.jsx(Jr,{present:r||i.checked,children:o.jsx(Se.span,{"data-state":bO(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});wO.displayName=xO;var fZ="RadioBubbleInput",_O=p.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const a=p.useRef(null),l=Xe(a,i),c=Y_(n),u=w0(e);return p.useEffect(()=>{const h=a.current;if(!h)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&y){const x=new Event("click",{bubbles:r});y.call(h,n),h.dispatchEvent(x)}},[c,n,r]),o.jsx(Se.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});_O.displayName=fZ;function bO(t){return t?"checked":"unchecked"}var mZ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Vg="RadioGroup",[pZ,jee]=Dr(Vg,[Tg,yO]),EO=Tg(),SO=yO(),[gZ,yZ]=pZ(Vg),TO=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:a=!1,disabled:l=!1,orientation:c,dir:u,loop:h=!0,onValueChange:f,...m}=t,y=EO(n),x=Eg(u),[g,_]=Mo({prop:i,defaultProp:s??null,onChange:f,caller:Vg});return o.jsx(gZ,{scope:n,name:r,required:a,disabled:l,value:g,onValueChange:_,children:o.jsx(e2,{asChild:!0,...y,orientation:c,dir:x,loop:h,children:o.jsx(Se.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":l?"":void 0,dir:x,...m,ref:e})})})});TO.displayName=Vg;var NO="RadioGroupItem",CO=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=yZ(NO,n),a=i.disabled||r,l=EO(n),c=SO(n),u=p.useRef(null),h=Xe(e,u),f=i.value===s.value,m=p.useRef(!1);return p.useEffect(()=>{const y=g=>{mZ.includes(g.key)&&(m.current=!0)},x=()=>m.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",x)}},[]),o.jsx(t2,{asChild:!0,...l,focusable:!a,active:f,children:o.jsx(vO,{disabled:a,required:i.required,checked:f,...c,...s,name:i.name,ref:h,onCheck:()=>i.onValueChange(s.value),onKeyDown:ae(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:ae(s.onFocus,()=>{var y;m.current&&((y=u.current)==null||y.click())})})})});CO.displayName=NO;var vZ="RadioGroupIndicator",IO=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=SO(n);return o.jsx(wO,{...s,...r,ref:e})});IO.displayName=vZ;var PO=TO,jO=CO,xZ=IO;const uw=p.forwardRef(({className:t,...e},n)=>o.jsx(PO,{className:we("grid gap-2",t),...e,ref:n}));uw.displayName=PO.displayName;const nm=p.forwardRef(({className:t,...e},n)=>o.jsx(jO,{ref:n,className:we("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(xZ,{className:"flex items-center justify-center",children:o.jsx(PP,{className:"h-2.5 w-2.5 fill-current text-current"})})}));nm.displayName=jO.displayName;const wZ=()=>{const[t]=Kp(),e=Yn(),{toast:n}=cn(),[r,s]=p.useState([]),[i,a]=p.useState([]),[l,c]=p.useState(""),[u,h]=p.useState("digital"),[f,m]=p.useState(!0),[y,x]=p.useState(0),g=t.get("state"),_=t.get("transactionValue"),b=t.get("documentType");p.useEffect(()=>{if(!g||!_||!b){e("/party-details");return}(async()=>{try{m(!0);const[O,C]=await Promise.all([Lg(),FX(g)]);if(O.length===0?s([{id:"1",name:"Judicial Stamps",description:"For court proceedings"},{id:"2",name:"Non-Judicial Stamps",description:"For agreements and deeds"},{id:"3",name:"Revenue Stamps",description:"For government transactions"}]):s(O),C.length===0){const N=parseInt(_||"0");let P=.05;switch(b){case"sale_deed":P=.05;break;case"lease_deed":P=.02;break;case"gift_deed":P=.03;break;case"power_of_attorney":P=.001;break;default:P=.02}const R=Math.round(N*P);x(R),a([{id:"prod1",stateId:g,categoryId:"2",name:"Non-Judicial E-Stamp",amount:R,platformFee:0,expressFee:0,deliveryFee:u==="physical"?50:0,deliveryTime:u==="physical"?"3-5 days":"instant"}])}else a(C)}catch(O){console.error("Error fetching stamp data:",O),n({title:"Error",description:"Failed to load stamp options. Please try again.",variant:"destructive"})}finally{m(!1)}})()},[g,_,b,e,n]);const w=()=>{const I=new URLSearchParams(t);e(`/party-details?${I.toString()}`)},E=()=>{if(!l){n({title:"Selection Required",description:"Please select a stamp product to continue.",variant:"destructive"});return}const I=new URLSearchParams(t);I.set("productId",l),I.set("deliveryType",u),e(`/checkout?${I.toString()}`)},T=i.find(I=>I.id===l);return f?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Calculating stamp requirements..."})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-primary",children:"Step 4 of 6"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Stamp Selection"})]}),o.jsx(dl,{value:66,className:"h-2"})]}),o.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsxs(ye,{className:"shadow-xl border-0 bg-card/90 backdrop-blur",children:[o.jsxs(Le,{className:"text-center space-y-2",children:[o.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:o.jsx(qt,{className:"h-8 w-8 text-primary"})}),o.jsx(Ve,{className:"text-2xl font-bold",children:"Select E-Stamp"}),o.jsx(nn,{className:"text-base",children:"Choose the appropriate stamp for your document"})]}),o.jsxs(ve,{className:"space-y-6",children:[y>0&&o.jsxs("div",{className:"bg-success/10 border border-success/20 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(oF,{className:"h-5 w-5 text-success"}),o.jsx("span",{className:"font-medium text-success",children:"Calculated Stamp Duty"})]}),o.jsxs("p",{className:"text-2xl font-bold text-success",children:["",y.toLocaleString()]}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Based on transaction value of ",parseInt(_||"0").toLocaleString()]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Available Stamps"}),o.jsx(uw,{value:l,onValueChange:c,children:i.map(I=>o.jsxs("div",{className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-secondary/50 transition-colors",children:[o.jsx(nm,{value:I.id,id:I.id}),o.jsx(dd,{htmlFor:I.id,className:"flex-1 cursor-pointer",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:I.name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Electronic stamp for legal documents"})]}),o.jsxs(Ht,{variant:"secondary",className:"text-base font-semibold",children:["",I.amount.toLocaleString()]})]})})]},I.id))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Delivery Method"}),o.jsxs(uw,{value:u,onValueChange:I=>h(I),children:[o.jsxs("div",{className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-secondary/50 transition-colors",children:[o.jsx(nm,{value:"digital",id:"digital"}),o.jsx(dd,{htmlFor:"digital",className:"flex-1 cursor-pointer",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(No,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Digital Download"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Instant PDF download"})]})]}),o.jsx(Ht,{variant:"secondary",className:"bg-success/10 text-success border-success/20",children:"Free"})]})})]}),o.jsxs("div",{className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-secondary/50 transition-colors",children:[o.jsx(nm,{value:"physical",id:"physical"}),o.jsx(dd,{htmlFor:"physical",className:"flex-1 cursor-pointer",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(OP,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Physical Delivery"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Printed stamp by post"})]})]}),o.jsx(Ht,{variant:"secondary",children:"+ 50"})]})})]})]})]})]})]})}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs(ye,{className:"shadow-xl border-0 bg-card/90 backdrop-blur sticky top-8",children:[o.jsx(Le,{children:o.jsx(Ve,{className:"text-lg",children:"Order Summary"})}),o.jsx(ve,{className:"space-y-4",children:T&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Stamp Duty"}),o.jsxs("span",{className:"font-medium",children:["",T.amount.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Delivery"}),o.jsx("span",{className:"font-medium",children:u==="digital"?"Free":"50"})]}),o.jsx("div",{className:"border-t pt-4",children:o.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{children:["",(T.amount+(u==="physical"?50:0)).toLocaleString()]})]})}),o.jsxs("div",{className:"text-xs text-muted-foreground space-y-1 pt-2",children:[o.jsxs("p",{className:"flex items-center gap-1",children:[o.jsx(hr,{className:"h-3 w-3"}),"Government authorized"]}),o.jsxs("p",{className:"flex items-center gap-1",children:[o.jsx(hr,{className:"h-3 w-3"}),"Legally valid"]}),o.jsxs("p",{className:"flex items-center gap-1",children:[o.jsx(hr,{className:"h-3 w-3"}),"Instant processing"]})]})]})})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-8 max-w-2xl",children:[o.jsxs(ee,{variant:"outline",onClick:w,className:"flex-1 h-12 text-base",children:[o.jsx(dr,{className:"mr-2 h-4 w-4"}),"Back to Details"]}),o.jsx(ee,{onClick:E,disabled:!l,className:"flex-1 h-12 text-base font-semibold",children:"Proceed to Checkout"})]})]})})};var Fg="Checkbox",[_Z,Ree]=Dr(Fg),[bZ,tb]=_Z(Fg);function EZ(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:a,name:l,onCheckedChange:c,required:u,value:h="on",internal_do_not_use_render:f}=t,[m,y]=Mo({prop:n,defaultProp:s??!1,onChange:c,caller:Fg}),[x,g]=p.useState(null),[_,b]=p.useState(null),w=p.useRef(!1),E=x?!!a||!!x.closest("form"):!0,T={checked:m,disabled:i,setChecked:y,control:x,setControl:g,name:l,form:a,value:h,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:Ao(s)?!1:s,isFormControl:E,bubbleInput:_,setBubbleInput:b};return o.jsx(bZ,{scope:e,...T,children:SZ(f)?f(T):r})}var RO="CheckboxTrigger",kO=p.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:a,disabled:l,checked:c,required:u,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:y,bubbleInput:x}=tb(RO,t),g=Xe(s,h),_=p.useRef(c);return p.useEffect(()=>{const b=i==null?void 0:i.form;if(b){const w=()=>f(_.current);return b.addEventListener("reset",w),()=>b.removeEventListener("reset",w)}},[i,f]),o.jsx(Se.button,{type:"button",role:"checkbox","aria-checked":Ao(c)?"mixed":c,"aria-required":u,"data-state":LO(c),"data-disabled":l?"":void 0,disabled:l,value:a,...r,ref:g,onKeyDown:ae(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:ae(n,b=>{f(w=>Ao(w)?!0:!w),x&&y&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})})});kO.displayName=RO;var nb=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c,onCheckedChange:u,form:h,...f}=t;return o.jsx(EZ,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:l,required:a,onCheckedChange:u,name:r,form:h,value:c,internal_do_not_use_render:({isFormControl:m})=>o.jsxs(o.Fragment,{children:[o.jsx(kO,{...f,ref:e,__scopeCheckbox:n}),m&&o.jsx(MO,{__scopeCheckbox:n})]})})});nb.displayName=Fg;var AO="CheckboxIndicator",DO=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=tb(AO,n);return o.jsx(Jr,{present:r||Ao(i.checked)||i.checked===!0,children:o.jsx(Se.span,{"data-state":LO(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});DO.displayName=AO;var OO="CheckboxBubbleInput",MO=p.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:a,required:l,disabled:c,name:u,value:h,form:f,bubbleInput:m,setBubbleInput:y}=tb(OO,t),x=Xe(n,y),g=Y_(i),_=w0(r);p.useEffect(()=>{const w=m;if(!w)return;const E=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(E,"checked").set,O=!s.current;if(g!==i&&I){const C=new Event("click",{bubbles:O});w.indeterminate=Ao(i),I.call(w,Ao(i)?!1:i),w.dispatchEvent(C)}},[m,g,i,s]);const b=p.useRef(Ao(i)?!1:i);return o.jsx(Se.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??b.current,required:l,disabled:c,name:u,value:h,form:f,...e,tabIndex:-1,ref:x,style:{...e.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});MO.displayName=OO;function SZ(t){return typeof t=="function"}function Ao(t){return t==="indeterminate"}function LO(t){return Ao(t)?"indeterminate":t?"checked":"unchecked"}const VO=p.forwardRef(({className:t,...e},n)=>o.jsx(nb,{ref:n,className:we("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:o.jsx(DO,{className:we("flex items-center justify-center text-current"),children:o.jsx(u0,{className:"h-4 w-4"})})}));VO.displayName=nb.displayName;const TZ=()=>{const[t]=Kp(),e=Yn(),{toast:n}=cn(),{user:r}=Eh(),[s,i]=p.useState(""),[a,l]=p.useState(""),[c,u]=p.useState(!1),[h,f]=p.useState(!1),[m,y]=p.useState(null),[x,g]=p.useState(!0),_=t.get("transactionValue"),b=t.get("documentType"),w=t.get("firstPartyName"),E=t.get("secondPartyName"),T=t.get("deliveryType")||"digital",I=t.get("productId"),O=t.get("state"),C=t.get("district"),N=t.get("tehsil"),P=parseInt(_||"0");let R=.05;switch(b){case"sale_deed":R=.05;break;case"lease_deed":R=.02;break;case"gift_deed":R=.03;break;case"power_of_attorney":R=.001;break;default:R=.02}const A=Math.round(P*R),D=T==="physical"?50:0,j=(m==null?void 0:m.platformFee)||0,B=(m==null?void 0:m.expressFee)||0,re=A+j+B+D;p.useEffect(()=>{(async()=>{if(!I){g(!1);return}try{const G=await dO(I);y(G)}catch(G){console.error("Error fetching product details:",G),n({title:"Error",description:"Failed to load product details.",variant:"destructive"})}finally{g(!1)}})()},[I,n]);const Y=L=>L.split("_").map(G=>G.charAt(0).toUpperCase()+G.slice(1)).join(" "),le=()=>{const L=new URLSearchParams(t);e(`/stamp-selection?${L.toString()}`)},V=async()=>{if(!s||!a||!c){n({title:"Required Information Missing",description:"Please fill all fields and accept terms to continue.",variant:"destructive"});return}if(!r){n({title:"Authentication Required",description:"Please log in to complete your order.",variant:"destructive"}),e("/login");return}if(!m||!O||!C||!N||!w||!E){n({title:"Missing Order Information",description:"Some required order information is missing. Please start over.",variant:"destructive"}),e("/select-state");return}f(!0);try{await new Promise(oe=>setTimeout(oe,2e3));const L={userId:r.uid,productId:I,stateId:O,districtId:C,tehsilId:N,party1Name:w,party2Name:E,email:s,phone:a,deliveryType:T==="physical"?"door":"digital",stampAmount:A,platformFee:j,expressFee:B,deliveryFee:D,totalPaid:re,status:"pending"},ue={id:await UX(L),email:s,phone:a,stampAmount:A,platformFee:j,expressFee:B,deliveryType:T,deliveryFee:D,totalAmount:re,...Object.fromEntries(t.entries())};localStorage.setItem("orderData",JSON.stringify(ue)),e("/order-confirmation")}catch(L){console.error("Payment/Order creation error:",L),n({title:"Payment Failed",description:"There was an error processing your order. Please try again.",variant:"destructive"})}finally{f(!1)}};return x?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading order details..."})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-primary",children:"Step 5 of 6"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Checkout & Payment"})]}),o.jsx(dl,{value:83,className:"h-2"})]}),o.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-1 order-2 lg:order-1",children:o.jsxs(ye,{className:"shadow-xl border-0 bg-card/90 backdrop-blur sticky top-8",children:[o.jsx(Le,{children:o.jsxs(Ve,{className:"text-xl flex items-center gap-2",children:[o.jsx(qt,{className:"h-5 w-5"}),"Order Summary"]})}),o.jsxs(ve,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3 p-4 bg-secondary/30 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[o.jsx(qt,{className:"h-4 w-4"}),"Document Type"]}),o.jsx("p",{className:"text-sm",children:Y(b||"")}),o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium mt-3",children:[o.jsx(Fc,{className:"h-4 w-4"}),"Parties"]}),o.jsxs("div",{className:"text-sm space-y-1",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"First Party:"})," ",w]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Second Party:"})," ",E]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium mt-3",children:[o.jsx(fr,{className:"h-4 w-4"}),"Transaction Value"]}),o.jsxs("p",{className:"text-sm font-semibold",children:["",P.toLocaleString()]})]}),o.jsx(Qr,{}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Stamp Duty"}),o.jsxs("span",{className:"font-medium",children:["",A.toLocaleString()]})]}),j>0&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Platform Fee"}),o.jsxs("span",{className:"font-medium",children:["",j.toLocaleString()]})]}),B>0&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Express Fee"}),o.jsxs("span",{className:"font-medium",children:["",B.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm",children:["Delivery (",T,")"]}),o.jsx("span",{className:"font-medium",children:T==="digital"?"Free":`${D}`})]}),o.jsx(Qr,{}),o.jsxs("div",{className:"flex justify-between items-center font-semibold text-lg",children:[o.jsx("span",{children:"Total Amount"}),o.jsxs("span",{className:"text-primary",children:["",re.toLocaleString()]})]})]}),o.jsxs("div",{className:"p-3 bg-success/10 border border-success/20 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 text-success font-medium text-sm mb-2",children:[o.jsx(jd,{className:"h-4 w-4"}),"Secure Payment"]}),o.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[o.jsx("p",{children:" 256-bit SSL encryption"}),o.jsx("p",{children:" PCI DSS compliant"}),o.jsx("p",{children:" Government authorized"})]})]})]})]})}),o.jsx("div",{className:"lg:col-span-2 order-1 lg:order-2",children:o.jsxs(ye,{className:"shadow-xl border-0 bg-card/90 backdrop-blur",children:[o.jsxs(Le,{className:"text-center space-y-2",children:[o.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:o.jsx(lE,{className:"h-8 w-8 text-primary"})}),o.jsx(Ve,{className:"text-2xl font-bold",children:"Complete Your Order"}),o.jsx(nn,{className:"text-base",children:"Provide your details to receive the e-stamp"})]}),o.jsxs(ve,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-primary border-b border-primary/20 pb-2",children:"Contact Information"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:["Email Address ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(Ye,{type:"email",value:s,onChange:L=>i(L.target.value),placeholder:"your@email.com",className:"h-11"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"E-stamp will be sent to this email"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:["Phone Number ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(Ye,{type:"tel",value:a,onChange:L=>l(L.target.value),placeholder:"+91 XXXXX XXXXX",className:"h-11"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"For order updates via SMS"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-primary border-b border-primary/20 pb-2",children:"Payment Method"}),o.jsx("div",{className:"p-4 border rounded-lg bg-secondary/30",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(lE,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Secure Card Payment"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Visa, Mastercard, Rupay"})]})]}),o.jsxs(Ht,{variant:"secondary",className:"bg-success/10 text-success border-success/20",children:[o.jsx(Cm,{className:"h-3 w-3 mr-1"}),"Secure"]})]})})]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(VO,{id:"terms",checked:c,onCheckedChange:L=>u(L),className:"mt-1"}),o.jsxs("label",{htmlFor:"terms",className:"text-sm leading-relaxed cursor-pointer",children:["I agree to the"," ",o.jsx("span",{className:"text-primary underline",children:"Terms of Service"})," and"," ",o.jsx("span",{className:"text-primary underline",children:"Privacy Policy"}),". I understand that this e-stamp will be legally valid and binding."]})]})}),o.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(CP,{className:"h-5 w-5 text-orange-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium text-orange-800 mb-1",children:"Processing Time"}),o.jsxs("ul",{className:"text-orange-700 space-y-1",children:[o.jsx("li",{children:" Digital stamps: Instant delivery"}),o.jsx("li",{children:" Physical stamps: 3-5 business days"}),o.jsx("li",{children:" All stamps are government authorized"})]})]})]})}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[o.jsxs(ee,{variant:"outline",onClick:le,className:"flex-1 h-12 text-base",disabled:h,children:[o.jsx(dr,{className:"mr-2 h-4 w-4"}),"Back to Selection"]}),o.jsx(ee,{onClick:V,disabled:!s||!a||!c||h,className:"flex-1 h-12 text-base font-semibold",children:h?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),"Processing..."]}):`Pay ${re.toLocaleString()}`})]})]})]})})]})]})})},NZ=()=>{const t=Yn(),[e,n]=p.useState(null);p.useEffect(()=>{const l=localStorage.getItem("orderData");l?n(JSON.parse(l)):t("/")},[t]);const r=l=>l.split("_").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" "),s=()=>{const l=document.createElement("a");l.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent("E-Stamp PDF Document")),l.setAttribute("download",`e-stamp-${(e==null?void 0:e.id)||"unknown"}.pdf`),l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l)},i=()=>{alert(`E-stamp has been sent to ${e==null?void 0:e.email}`)},a=()=>{var u;const l=`Your e-stamp (Order: ${(e==null?void 0:e.id)||"unknown"}) is ready! Download it from our portal.`,c=`https://wa.me/${(u=e==null?void 0:e.phone)==null?void 0:u.replace(/\D/g,"")}?text=${encodeURIComponent(l)}`;window.open(c,"_blank")};return e?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-success",children:"Step 6 of 6"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Order Complete"})]}),o.jsx(dl,{value:100,className:"h-2"})]}),o.jsx(ye,{className:"shadow-xl border-0 bg-card/90 backdrop-blur mb-6",children:o.jsxs(ve,{className:"text-center py-8",children:[o.jsx("div",{className:"w-20 h-20 bg-success/10 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(hr,{className:"h-12 w-12 text-success"})}),o.jsx("h1",{className:"text-3xl font-bold text-success mb-2",children:"Order Successful!"}),o.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:"Your e-stamp has been generated successfully"}),o.jsxs("div",{className:"bg-success/10 border border-success/20 rounded-lg p-4 inline-block",children:[o.jsx("p",{className:"text-sm font-medium text-success",children:"Order ID"}),o.jsx("p",{className:"text-xl font-bold text-success",children:e.id})]})]})}),o.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[o.jsxs(ye,{className:"shadow-xl border-0 bg-card/90 backdrop-blur",children:[o.jsxs(Le,{children:[o.jsx(Ve,{className:"text-lg",children:"Download E-Stamp"}),o.jsx(nn,{children:"Your digital stamp is ready for download"})]}),o.jsxs(ve,{className:"space-y-3",children:[o.jsxs(ee,{onClick:s,className:"w-full h-12 font-semibold",size:"lg",children:[o.jsx(No,{className:"mr-2 h-4 w-4"}),"Download PDF"]}),o.jsxs(ee,{onClick:i,variant:"outline",className:"w-full h-12",size:"lg",children:[o.jsx(vc,{className:"mr-2 h-4 w-4"}),"Email to Me"]}),o.jsxs(ee,{onClick:a,variant:"outline",className:"w-full h-12",size:"lg",children:[o.jsx(lx,{className:"mr-2 h-4 w-4"}),"Send via WhatsApp"]})]})]}),o.jsxs(ye,{className:"shadow-xl border-0 bg-card/90 backdrop-blur",children:[o.jsx(Le,{children:o.jsx(Ve,{className:"text-lg",children:"Delivery Status"})}),o.jsx(ve,{children:e.deliveryType==="digital"?o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-success/10 border border-success/20 rounded-lg",children:[o.jsx(hr,{className:"h-5 w-5 text-success"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-success",children:"Digital - Ready"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Available for download"})]})]}):o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[o.jsx(CP,{className:"h-5 w-5 text-orange-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-orange-800",children:"Physical - Processing"}),o.jsx("p",{className:"text-sm text-orange-600",children:"3-5 business days"})]})]})})]})]}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs(ye,{className:"shadow-xl border-0 bg-card/90 backdrop-blur",children:[o.jsxs(Le,{children:[o.jsx(Ve,{className:"text-xl",children:"Order Details"}),o.jsx(nn,{children:"Complete information about your e-stamp order"})]}),o.jsxs(ve,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-lg font-semibold text-primary border-b border-primary/20 pb-2 flex items-center gap-2",children:[o.jsx(qt,{className:"h-5 w-5"}),"Document Information"]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Document Type:"}),o.jsx("p",{children:r(e.documentType)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Transaction Value:"}),o.jsxs("p",{children:["",parseInt(e.transactionValue).toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Execution Date:"}),o.jsx("p",{children:new Date(e.executionDate).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Stamp Duty:"}),o.jsxs("p",{children:["",e.stampAmount.toLocaleString()]})]})]})]}),o.jsx(Qr,{}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-lg font-semibold text-primary border-b border-primary/20 pb-2 flex items-center gap-2",children:[o.jsx(Fc,{className:"h-5 w-5"}),"Party Information"]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"First Party:"}),o.jsx("p",{children:e.firstPartyName})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Second Party:"}),o.jsx("p",{children:e.secondPartyName})]})]})]}),o.jsx(Qr,{}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-primary border-b border-primary/20 pb-2",children:"Payment Summary"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Stamp Duty"}),o.jsxs("span",{children:["",e.stampAmount.toLocaleString()]})]}),e.platformFee>0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Platform Fee"}),o.jsxs("span",{children:["",e.platformFee.toLocaleString()]})]}),e.expressFee>0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Express Fee"}),o.jsxs("span",{children:["",e.expressFee.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{children:["Delivery (",e.deliveryType,")"]}),o.jsx("span",{children:e.deliveryType==="digital"?"Free":`${e.deliveryFee}`})]}),o.jsx(Qr,{className:"my-2"}),o.jsxs("div",{className:"flex justify-between font-semibold text-base",children:[o.jsx("span",{children:"Total Paid"}),o.jsxs("span",{className:"text-success",children:["",e.totalAmount.toLocaleString()]})]})]})]}),o.jsxs("div",{className:"bg-secondary/30 p-4 rounded-lg",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Delivery Details"}),o.jsxs("div",{className:"text-sm space-y-1",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Email:"})," ",e.email]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Phone:"})," ",e.phone]})]})]})]})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-8 max-w-2xl mx-auto",children:[o.jsxs(ee,{variant:"outline",onClick:()=>t("/"),className:"flex-1 h-12 text-base",children:[o.jsx(RP,{className:"mr-2 h-4 w-4"}),"Back to Home"]}),o.jsx(ee,{onClick:()=>{localStorage.removeItem("orderData"),t("/select-state")},className:"flex-1 h-12 text-base font-semibold",children:"Create New E-Stamp"})]}),o.jsx(ye,{className:"shadow-xl border-0 bg-card/90 backdrop-blur mt-8",children:o.jsxs(ve,{className:"text-center py-6",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Need Help?"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"If you face any issues with your e-stamp, our support team is here to help."}),o.jsxs("div",{className:"flex justify-center gap-4 text-sm",children:[o.jsx("span",{children:" support@estamp.gov.in"}),o.jsx("span",{children:" 1800-XXX-XXXX"})]})]})})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading order details..."})]})})},Mi=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:we("w-full caption-bottom text-sm",t),...e})}));Mi.displayName="Table";const Li=p.forwardRef(({className:t,...e},n)=>o.jsx("thead",{ref:n,className:we("[&_tr]:border-b",t),...e}));Li.displayName="TableHeader";const Vi=p.forwardRef(({className:t,...e},n)=>o.jsx("tbody",{ref:n,className:we("[&_tr:last-child]:border-0",t),...e}));Vi.displayName="TableBody";const CZ=p.forwardRef(({className:t,...e},n)=>o.jsx("tfoot",{ref:n,className:we("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));CZ.displayName="TableFooter";const Pn=p.forwardRef(({className:t,...e},n)=>o.jsx("tr",{ref:n,className:we("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Pn.displayName="TableRow";const Fe=p.forwardRef(({className:t,...e},n)=>o.jsx("th",{ref:n,className:we("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Fe.displayName="TableHead";const Ue=p.forwardRef(({className:t,...e},n)=>o.jsx("td",{ref:n,className:we("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ue.displayName="TableCell";const IZ=p.forwardRef(({className:t,...e},n)=>o.jsx("caption",{ref:n,className:we("mt-4 text-sm text-muted-foreground",t),...e}));IZ.displayName="TableCaption";function Cs(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Qa(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const FO=6048e5,PZ=864e5;let jZ={};function Ug(){return jZ}function Zd(t,e){var l,c,u,h;const n=Ug(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=Cs(t),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function yp(t){return Zd(t,{weekStartsOn:1})}function UO(t){const e=Cs(t),n=e.getFullYear(),r=Qa(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=yp(r),i=Qa(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=yp(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function EN(t){const e=Cs(t);return e.setHours(0,0,0,0),e}function SN(t){const e=Cs(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function RZ(t,e){const n=EN(t),r=EN(e),s=+n-SN(n),i=+r-SN(r);return Math.round((s-i)/PZ)}function kZ(t){const e=UO(t),n=Qa(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),yp(n)}function AZ(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function DZ(t){if(!AZ(t)&&typeof t!="number")return!1;const e=Cs(t);return!isNaN(Number(e))}function OZ(t){const e=Cs(t),n=Qa(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const MZ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},LZ=(t,e,n)=>{let r;const s=MZ[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function dv(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const VZ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},FZ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},UZ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$Z={date:dv({formats:VZ,defaultWidth:"full"}),time:dv({formats:FZ,defaultWidth:"full"}),dateTime:dv({formats:UZ,defaultWidth:"full"})},BZ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zZ=(t,e,n,r)=>BZ[t];function Cu(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const WZ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},HZ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qZ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},GZ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},KZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},QZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},YZ=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},XZ={ordinalNumber:YZ,era:Cu({values:WZ,defaultWidth:"wide"}),quarter:Cu({values:HZ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Cu({values:qZ,defaultWidth:"wide"}),day:Cu({values:GZ,defaultWidth:"wide"}),dayPeriod:Cu({values:KZ,defaultWidth:"wide",formattingValues:QZ,defaultFormattingWidth:"wide"})};function Iu(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?JZ(l,f=>f.test(a)):ZZ(l,f=>f.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const h=e.slice(a.length);return{value:u,rest:h}}}function ZZ(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function JZ(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function eJ(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(s.length);return{value:a,rest:l}}}const tJ=/^(\d+)(th|st|nd|rd)?/i,nJ=/\d+/i,rJ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sJ={any:[/^b/i,/^(a|c)/i]},iJ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},oJ={any:[/1/i,/2/i,/3/i,/4/i]},aJ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},lJ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cJ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},uJ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},dJ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fJ={ordinalNumber:eJ({matchPattern:tJ,parsePattern:nJ,valueCallback:t=>parseInt(t,10)}),era:Iu({matchPatterns:rJ,defaultMatchWidth:"wide",parsePatterns:sJ,defaultParseWidth:"any"}),quarter:Iu({matchPatterns:iJ,defaultMatchWidth:"wide",parsePatterns:oJ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Iu({matchPatterns:aJ,defaultMatchWidth:"wide",parsePatterns:lJ,defaultParseWidth:"any"}),day:Iu({matchPatterns:cJ,defaultMatchWidth:"wide",parsePatterns:uJ,defaultParseWidth:"any"}),dayPeriod:Iu({matchPatterns:dJ,defaultMatchWidth:"any",parsePatterns:hJ,defaultParseWidth:"any"})},mJ={code:"en-US",formatDistance:LZ,formatLong:$Z,formatRelative:zZ,localize:XZ,match:fJ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pJ(t){const e=Cs(t);return RZ(e,OZ(e))+1}function gJ(t){const e=Cs(t),n=+yp(e)-+kZ(e);return Math.round(n/FO)+1}function $O(t,e){var h,f,m,y;const n=Cs(t),r=n.getFullYear(),s=Ug(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(m=s.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,a=Qa(t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const l=Zd(a,e),c=Qa(t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Zd(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function yJ(t,e){var l,c,u,h;const n=Ug(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,s=$O(t,e),i=Qa(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Zd(i,e)}function vJ(t,e){const n=Cs(t),r=+Zd(n,e)-+yJ(n,e);return Math.round(r/FO)+1}function xt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Qi={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return xt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):xt(n+1,2)},d(t,e){return xt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return xt(t.getHours()%12||12,e.length)},H(t,e){return xt(t.getHours(),e.length)},m(t,e){return xt(t.getMinutes(),e.length)},s(t,e){return xt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return xt(s,e.length)}},_l={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},TN={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Qi.y(t,e)},Y:function(t,e,n,r){const s=$O(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return xt(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):xt(i,e.length)},R:function(t,e){const n=UO(t);return xt(n,e.length)},u:function(t,e){const n=t.getFullYear();return xt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return xt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return xt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Qi.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return xt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=vJ(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):xt(s,e.length)},I:function(t,e,n){const r=gJ(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):xt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Qi.d(t,e)},D:function(t,e,n){const r=pJ(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):xt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return xt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return xt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return xt(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=_l.noon:r===0?s=_l.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=_l.evening:r>=12?s=_l.afternoon:r>=4?s=_l.morning:s=_l.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Qi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Qi.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):xt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):xt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Qi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Qi.s(t,e)},S:function(t,e){return Qi.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return CN(r);case"XXXX":case"XX":return ya(r);case"XXXXX":case"XXX":default:return ya(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return CN(r);case"xxxx":case"xx":return ya(r);case"xxxxx":case"xxx":default:return ya(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+NN(r,":");case"OOOO":default:return"GMT"+ya(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+NN(r,":");case"zzzz":default:return"GMT"+ya(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return xt(r,e.length)},T:function(t,e,n){const r=t.getTime();return xt(r,e.length)}};function NN(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+xt(i,2)}function CN(t,e){return t%60===0?(t>0?"-":"+")+xt(Math.abs(t)/60,2):ya(t,e)}function ya(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=xt(Math.trunc(r/60),2),i=xt(r%60,2);return n+s+e+i}const IN=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},BO=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},xJ=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return IN(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",IN(r,e)).replace("{{time}}",BO(s,e))},wJ={p:BO,P:xJ},_J=/^D+$/,bJ=/^Y+$/,EJ=["D","DD","YY","YYYY"];function SJ(t){return _J.test(t)}function TJ(t){return bJ.test(t)}function NJ(t,e,n){const r=CJ(t,e,n);if(console.warn(r),EJ.includes(t))throw new RangeError(r)}function CJ(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const IJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,PJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jJ=/^'([^]*?)'?$/,RJ=/''/g,kJ=/[a-zA-Z]/;function xi(t,e,n){var h,f,m,y;const r=Ug(),s=r.locale??mJ,i=r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,a=r.weekStartsOn??((y=(m=r.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,l=Cs(t);if(!DZ(l))throw new RangeError("Invalid time value");let c=e.match(PJ).map(x=>{const g=x[0];if(g==="p"||g==="P"){const _=wJ[g];return _(x,s.formatLong)}return x}).join("").match(IJ).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const g=x[0];if(g==="'")return{isToken:!1,value:AJ(x)};if(TN[g])return{isToken:!0,value:x};if(g.match(kJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const g=x.value;(TJ(g)||SJ(g))&&NJ(g,e,String(t));const _=TN[g[0]];return _(l,g,s.localize,u)}).join("")}function AJ(t){const e=t.match(jJ);return e?e[1].replace(RJ,"'"):t}const DJ=()=>{const{user:t,loading:e}=Eh(),{toast:n}=cn(),[r,s]=p.useState([]),[i,a]=p.useState([]),[l,c]=p.useState(!0),[u,h]=p.useState("");p.useEffect(()=>{if(!e&&!t){n({title:"Authentication Required",description:"Please log in to view your orders.",variant:"destructive"});return}t&&f()},[t,e,n]),p.useEffect(()=>{let x=r;u&&(x=x.filter(g=>g.id.toLowerCase().includes(u.toLowerCase())||g.party1Name.toLowerCase().includes(u.toLowerCase())||g.party2Name.toLowerCase().includes(u.toLowerCase())||g.status.toLowerCase().includes(u.toLowerCase()))),a(x)},[r,u]);const f=async()=>{if(t)try{c(!0);const x=await $X(t.uid);s(x),a(x)}catch(x){console.error("Error fetching user orders:",x),n({title:"Error",description:"Failed to load your orders. Please try again.",variant:"destructive"})}finally{c(!1)}},m=x=>{const _={pending:{icon:yc,className:"bg-orange-50 text-orange-700 border-orange-200",label:"Pending"},processing:{icon:Ci,className:"bg-blue-50 text-blue-700 border-blue-200",label:"Processing"},completed:{icon:hr,className:"bg-green-50 text-green-700 border-green-200",label:"Completed"},failed:{icon:Pd,className:"bg-red-50 text-red-700 border-red-200",label:"Failed"}}[x];if(!_)return null;const b=_.icon;return o.jsxs(Ht,{className:_.className,children:[o.jsx(b,{className:"h-3 w-3 mr-1"}),_.label]})},y=x=>{x.pdfUrl?window.open(x.pdfUrl,"_blank"):n({title:"PDF Not Available",description:"Your e-stamp PDF is being prepared. Please check back later.",variant:"destructive"})};return e||l?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20",children:o.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading your orders..."})]})})}):t?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"My Orders"}),o.jsx("p",{className:"text-muted-foreground",children:"Track and manage your e-stamp orders"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[o.jsx(ye,{className:"shadow-lg border-0 bg-card/90 backdrop-blur",children:o.jsx(ve,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),o.jsx("p",{className:"text-2xl font-bold",children:r.length})]}),o.jsx(qt,{className:"h-8 w-8 text-primary"})]})})}),o.jsx(ye,{className:"shadow-lg border-0 bg-card/90 backdrop-blur",children:o.jsx(ve,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"}),o.jsx("p",{className:"text-2xl font-bold text-success",children:r.filter(x=>x.status==="completed").length})]}),o.jsx(hr,{className:"h-8 w-8 text-success"})]})})}),o.jsx(ye,{className:"shadow-lg border-0 bg-card/90 backdrop-blur",children:o.jsx(ve,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.filter(x=>x.status==="processing").length})]}),o.jsx(Ci,{className:"h-8 w-8 text-blue-600"})]})})}),o.jsx(ye,{className:"shadow-lg border-0 bg-card/90 backdrop-blur",children:o.jsx(ve,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Spent"}),o.jsxs("p",{className:"text-2xl font-bold",children:["",r.reduce((x,g)=>x+g.totalPaid,0).toLocaleString()]})]}),o.jsx(Fp,{className:"h-8 w-8 text-primary"})]})})})]}),o.jsx(ye,{className:"shadow-lg border-0 bg-card/90 backdrop-blur mb-6",children:o.jsx(ve,{className:"p-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(el,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ye,{placeholder:"Search orders by ID, party names, or status...",value:u,onChange:x=>h(x.target.value),className:"pl-10"})]})})}),o.jsxs(ye,{className:"shadow-xl border-0 bg-card/90 backdrop-blur",children:[o.jsxs(Le,{children:[o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(qt,{className:"h-5 w-5"}),"Your Orders"]}),o.jsx(nn,{children:"View and track all your e-stamp orders"})]}),o.jsx(ve,{children:i.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(qt,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Orders Found"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:r.length===0?"You haven't placed any orders yet.":"No orders match your search criteria."}),o.jsx(ee,{asChild:!0,children:o.jsx(lt,{to:"/select-state",children:"Create Your First E-Stamp"})})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Mi,{children:[o.jsx(Li,{children:o.jsxs(Pn,{children:[o.jsx(Fe,{children:"Order Details"}),o.jsx(Fe,{children:"Parties"}),o.jsx(Fe,{children:"Amount"}),o.jsx(Fe,{children:"Status"}),o.jsx(Fe,{children:"Date"}),o.jsx(Fe,{children:"Actions"})]})}),o.jsx(Vi,{children:i.map(x=>o.jsxs(Pn,{className:"hover:bg-muted/50",children:[o.jsx(Ue,{children:o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium font-mono text-sm",children:["#",x.id.slice(-8)]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[x.deliveryType==="digital"?"Digital":"Physical"," Delivery"]}),x.deliveryType==="door"&&x.courierTrackingId&&o.jsxs("p",{className:"text-xs text-primary",children:["Tracking: ",x.courierTrackingId]})]})}),o.jsx(Ue,{children:o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium",children:x.party1Name}),o.jsx("p",{className:"text-muted-foreground",children:x.party2Name})]})}),o.jsx(Ue,{children:o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium",children:["",x.totalPaid.toLocaleString()]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Stamp: ",x.stampAmount.toLocaleString()]})]})}),o.jsx(Ue,{children:m(x.status)}),o.jsx(Ue,{children:o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{children:xi(x.createdAt.toDate(),"MMM dd, yyyy")}),o.jsx("p",{className:"text-muted-foreground",children:xi(x.createdAt.toDate(),"HH:mm")})]})}),o.jsx(Ue,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ee,{variant:"ghost",size:"sm",asChild:!0,children:o.jsx(lt,{to:`/order/${x.id}`,children:o.jsx(jP,{className:"h-4 w-4"})})}),x.status==="completed"&&x.pdfUrl&&o.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>y(x),children:o.jsx(No,{className:"h-4 w-4"})})]})})]},x.id))})]})})})]}),o.jsx("div",{className:"mt-8 text-center",children:o.jsx(ye,{className:"shadow-lg border-0 bg-card/90 backdrop-blur",children:o.jsxs(ve,{className:"py-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Need Another E-Stamp?"}),o.jsx(ee,{asChild:!0,size:"lg",children:o.jsxs(lt,{to:"/select-state",children:[o.jsx(qt,{className:"mr-2 h-4 w-4"}),"Create New E-Stamp"]})})]})})})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20 flex items-center justify-center",children:o.jsx(ye,{className:"max-w-md w-full shadow-xl border-0 bg-card/90 backdrop-blur",children:o.jsxs(ve,{className:"text-center py-8",children:[o.jsx(qt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Authentication Required"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to view your orders."}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(ee,{asChild:!0,className:"flex-1",children:o.jsx(lt,{to:"/login",children:"Sign In"})}),o.jsx(ee,{variant:"outline",asChild:!0,className:"flex-1",children:o.jsx(lt,{to:"/otp-login",children:"Login with OTP"})})]})]})})})},OJ=()=>{const{id:t}=A0(),e=Yn(),{user:n,loading:r}=Eh(),{toast:s}=cn(),[i,a]=p.useState(null),[l,c]=p.useState(!0);p.useEffect(()=>{if(!r&&!n){s({title:"Authentication Required",description:"Please log in to view order details.",variant:"destructive"}),e("/login");return}n&&t&&u()},[n,r,t,e,s]);const u=async()=>{if(t)try{c(!0);const x=await uO(t);if(!x){s({title:"Order Not Found",description:"The requested order could not be found.",variant:"destructive"}),e("/my-orders");return}if(x.userId!==(n==null?void 0:n.uid)){s({title:"Access Denied",description:"You don't have permission to view this order.",variant:"destructive"}),e("/my-orders");return}a(x)}catch(x){console.error("Error fetching order details:",x),s({title:"Error",description:"Failed to load order details. Please try again.",variant:"destructive"})}finally{c(!1)}},h=x=>({pending:{icon:yc,className:"bg-orange-50 text-orange-700 border-orange-200",label:"Pending",description:"Your order is being processed"},processing:{icon:Ci,className:"bg-blue-50 text-blue-700 border-blue-200",label:"Processing",description:"Your e-stamp is being generated"},completed:{icon:hr,className:"bg-green-50 text-green-700 border-green-200",label:"Completed",description:"Your e-stamp is ready for download"},failed:{icon:Pd,className:"bg-red-50 text-red-700 border-red-200",label:"Failed",description:"There was an issue with your order"}})[x],f=()=>{i!=null&&i.pdfUrl?window.open(i.pdfUrl,"_blank"):s({title:"PDF Not Available",description:"Your e-stamp PDF is being prepared. Please check back later.",variant:"destructive"})};if(l)return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20",children:o.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading order details..."})]})})});if(!i)return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20 flex items-center justify-center",children:o.jsx(ye,{className:"max-w-md w-full shadow-xl border-0 bg-card/90 backdrop-blur",children:o.jsxs(ve,{className:"text-center py-8",children:[o.jsx(Pd,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),o.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Order Not Found"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"The requested order could not be found."}),o.jsxs(ee,{onClick:()=>e("/my-orders"),children:[o.jsx(dr,{className:"mr-2 h-4 w-4"}),"Back to My Orders"]})]})})});const m=h(i.status),y=(m==null?void 0:m.icon)||yc;return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(ee,{variant:"ghost",onClick:()=>e("/my-orders"),children:[o.jsx(dr,{className:"h-4 w-4 mr-2"}),"Back to Orders"]}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold",children:["Order #",i.id.slice(-8)]}),o.jsxs("p",{className:"text-muted-foreground",children:["Created ",xi(i.createdAt.toDate(),"MMM dd, yyyy HH:mm")]})]})]}),m&&o.jsxs(Ht,{className:m.className,children:[o.jsx(y,{className:"h-4 w-4 mr-1"}),m.label]})]}),m&&o.jsx(ye,{className:"shadow-xl border-0 bg-card/90 backdrop-blur mb-6",children:o.jsx(ve,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`p-3 rounded-full ${m.className.replace("text-","bg-").replace("border-","").replace("bg-","bg-").split(" ")[0]}/20`,children:o.jsx(y,{className:`h-8 w-8 ${m.className.split(" ")[1]}`})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold",children:m.label}),o.jsx("p",{className:"text-muted-foreground",children:m.description}),i.status==="completed"&&i.pdfUrl&&o.jsxs(ee,{onClick:f,className:"mt-3",children:[o.jsx(No,{className:"mr-2 h-4 w-4"}),"Download E-Stamp PDF"]})]})]})})}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[o.jsxs(ye,{className:"shadow-xl border-0 bg-card/90 backdrop-blur",children:[o.jsx(Le,{children:o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(qt,{className:"h-5 w-5"}),"Order Information"]})}),o.jsxs(ve,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Order ID"}),o.jsx("p",{className:"font-mono text-sm",children:i.id})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Delivery Type"}),o.jsxs("div",{className:"flex items-center gap-2",children:[i.deliveryType==="digital"?o.jsx(No,{className:"h-4 w-4 text-primary"}):o.jsx(OP,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"capitalize",children:i.deliveryType})]})]}),i.deliveryType==="door"&&i.courierTrackingId&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Tracking ID"}),o.jsx("p",{className:"font-mono text-sm",children:i.courierTrackingId})]}),o.jsx(Qr,{}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Contact Information"}),o.jsxs("div",{className:"space-y-1 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(vc,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:i.email})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cx,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:i.phone})]})]})]}),i.address&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Delivery Address"}),o.jsx("p",{className:"text-sm",children:i.address}),i.pincode&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:["PIN: ",i.pincode]})]})]})]}),o.jsxs(ye,{className:"shadow-xl border-0 bg-card/90 backdrop-blur",children:[o.jsx(Le,{children:o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(Fc,{className:"h-5 w-5"}),"Party Details"]})}),o.jsxs(ve,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"First Party"}),o.jsx("p",{className:"font-medium",children:i.party1Name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Second Party"}),o.jsx("p",{className:"font-medium",children:i.party2Name})]}),o.jsx(Qr,{}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Location"}),o.jsx("div",{className:"space-y-1 text-sm",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fr,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("span",{children:[i.stateId,"  ",i.districtId,"  ",i.tehsilId]})]})})]})]})]})]}),o.jsxs(ye,{className:"shadow-xl border-0 bg-card/90 backdrop-blur mt-6",children:[o.jsx(Le,{children:o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(Fp,{className:"h-5 w-5"}),"Payment Details"]})}),o.jsx(ve,{children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Stamp Amount"}),o.jsxs("span",{className:"font-medium",children:["",i.stampAmount.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Platform Fee"}),o.jsxs("span",{className:"font-medium",children:["",i.platformFee.toLocaleString()]})]}),i.expressFee&&i.expressFee>0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Express Fee"}),o.jsxs("span",{className:"font-medium",children:["",i.expressFee.toLocaleString()]})]}),i.deliveryFee&&i.deliveryFee>0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Delivery Fee"}),o.jsxs("span",{className:"font-medium",children:["",i.deliveryFee.toLocaleString()]})]})]}),o.jsx("div",{className:"flex items-center justify-center",children:o.jsxs("div",{className:"text-center p-4 bg-primary/10 rounded-lg",children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Paid"}),o.jsxs("p",{className:"text-3xl font-bold text-primary",children:["",i.totalPaid.toLocaleString()]}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Paid on ",xi(i.createdAt.toDate(),"MMM dd, yyyy")]})]})})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-8",children:[o.jsxs(ee,{variant:"outline",onClick:()=>e("/my-orders"),className:"flex-1",children:[o.jsx(dr,{className:"mr-2 h-4 w-4"}),"Back to My Orders"]}),i.status==="completed"&&i.pdfUrl&&o.jsxs(ee,{onClick:f,className:"flex-1",children:[o.jsx(No,{className:"mr-2 h-4 w-4"}),"Download E-Stamp"]}),o.jsx(ee,{variant:"outline",asChild:!0,className:"flex-1",children:o.jsxs(lt,{to:"/select-state",children:[o.jsx(qt,{className:"mr-2 h-4 w-4"}),"Create New Order"]})})]}),o.jsx(ye,{className:"shadow-xl border-0 bg-card/90 backdrop-blur mt-6",children:o.jsxs(ve,{className:"text-center py-6",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Need Help?"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"If you have any questions about your order, our support team is here to help."}),o.jsxs("div",{className:"flex justify-center gap-6 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(vc,{className:"h-4 w-4"}),o.jsx("span",{children:"support@estamp.gov.in"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cx,{className:"h-4 w-4"}),o.jsx("span",{children:"1800-XXX-XXXX"})]})]})]})})]})})},MJ=()=>{const t=Yn(),{toast:e}=cn(),[n,r]=p.useState(""),[s,i]=p.useState(""),[a,l]=p.useState("phone"),[c,u]=p.useState(!1),[h,f]=p.useState(null),[m,y]=p.useState(null),x=()=>{if(!m){const E=new t8(Ic,"recaptcha-container",{size:"normal",callback:()=>{},"expired-callback":()=>{e({title:"reCAPTCHA Expired",description:"Please solve the reCAPTCHA again.",variant:"destructive"})}});return y(E),E}return m},g=E=>{const T=E.replace(/\D/g,"");return T.length===10?`+91${T}`:T.length===12&&T.startsWith("91")?`+${T}`:T.length===13&&T.startsWith("91")?`+${T}`:E},_=async()=>{if(!n||n.length<10){e({title:"Invalid Phone Number",description:"Please enter a valid 10-digit phone number.",variant:"destructive"});return}u(!0);try{const E=x(),T=g(n),I=await s8(Ic,T,E);f(I),l("otp"),e({title:"OTP Sent",description:`Verification code sent to ${T}`})}catch(E){console.error("Error sending OTP:",E);let T="Failed to send OTP. Please try again.";E.code==="auth/invalid-phone-number"?T="Invalid phone number format.":E.code==="auth/too-many-requests"?T="Too many requests. Please try again later.":E.code==="auth/captcha-check-failed"&&(T="reCAPTCHA verification failed. Please try again."),e({title:"OTP Send Failed",description:T,variant:"destructive"})}finally{u(!1)}},b=async()=>{if(!s||s.length!==6){e({title:"Invalid OTP",description:"Please enter the 6-digit OTP.",variant:"destructive"});return}if(!h){e({title:"Error",description:"Please request a new OTP.",variant:"destructive"});return}u(!0);try{const T=(await h.confirm(s)).user,I=Bn(et,"users",T.uid);if(!(await C_(I)).exists()){const C={uid:T.uid,email:T.email||"",displayName:T.displayName||`User ${n}`,phone:n,createdAt:new Date,updatedAt:new Date};await _A(I,C),await jR(T,{displayName:C.displayName})}e({title:"Login Successful",description:"Welcome to e-StampExpress!"}),t("/")}catch(E){console.error("Error verifying OTP:",E);let T="Invalid OTP. Please try again.";E.code==="auth/invalid-verification-code"?T="Invalid verification code.":E.code==="auth/code-expired"&&(T="OTP has expired. Please request a new one."),e({title:"Verification Failed",description:T,variant:"destructive"})}finally{u(!1)}},w=()=>{l("phone"),i(""),f(null),m&&(m.clear(),y(null))};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20 flex items-center justify-center p-4",children:o.jsxs(ye,{className:"w-full max-w-md shadow-xl border-0 bg-card/90 backdrop-blur",children:[o.jsxs(Le,{className:"text-center space-y-2",children:[o.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:o.jsx(jd,{className:"h-8 w-8 text-primary"})}),o.jsx(Ve,{className:"text-2xl font-bold",children:a==="phone"?"Login with OTP":"Verify OTP"}),o.jsx(nn,{className:"text-base",children:a==="phone"?"Enter your phone number to receive a verification code":`Enter the 6-digit code sent to ${g(n)}`})]}),o.jsxs(ve,{className:"space-y-6",children:[a==="phone"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(cx,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ye,{type:"tel",value:n,onChange:E=>r(E.target.value),placeholder:"Enter 10-digit mobile number",className:"pl-10 h-11",maxLength:10})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll send a 6-digit verification code to this number"})]}),o.jsx("div",{id:"recaptcha-container",className:"flex justify-center"}),o.jsx(ee,{onClick:_,disabled:c||n.length<10,className:"w-full h-11 text-base font-semibold",children:c?"Sending OTP...":"Send OTP"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Verification Code"}),o.jsx(Ye,{type:"text",value:s,onChange:E=>i(E.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"Enter 6-digit OTP",className:"h-11 text-center text-lg tracking-widest",maxLength:6}),o.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Didn't receive the code?"," ",o.jsx("button",{type:"button",onClick:w,className:"text-primary hover:underline",children:"Resend OTP"})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(ee,{variant:"outline",onClick:w,className:"flex-1 h-11",disabled:c,children:[o.jsx(dr,{className:"mr-2 h-4 w-4"}),"Back"]}),o.jsx(ee,{onClick:b,disabled:c||s.length!==6,className:"flex-1 h-11 text-base font-semibold",children:c?"Verifying...":"Verify OTP"})]})]}),o.jsxs("div",{className:"text-center space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 justify-center text-xs text-muted-foreground",children:[o.jsx(jd,{className:"h-3 w-3"}),o.jsx("span",{children:"Secure OTP verification"})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",o.jsx(lt,{to:"/login",className:"text-primary hover:underline font-medium",children:"Sign in with email"})]}),o.jsx(lt,{to:"/",className:"text-sm text-muted-foreground hover:text-foreground block",children:" Back to Home"})]})]})]})})},LJ=()=>{const t=Zo();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},VJ=()=>{const[t,e]=p.useState({totalOrders:0,pending:0,processing:0,completed:0,failed:0,totalRevenue:0,todayOrders:0}),[n,r]=p.useState(!0);p.useEffect(()=>{(async()=>{try{const[a,l,c]=await Promise.all([WX(),HX(),qX(10)]),u=new Date;u.setHours(0,0,0,0);const h=c.filter(f=>f.createdAt.toDate()>=u).length;e({totalOrders:a.pending+a.processing+a.completed+a.failed,pending:a.pending,processing:a.processing,completed:a.completed,failed:a.failed,totalRevenue:l,todayOrders:h})}catch(a){console.error("Error fetching dashboard data:",a)}finally{r(!1)}})()},[]);const s=[{title:"Today's Orders",value:t.todayOrders,icon:DP,color:"text-blue-600",bgColor:"bg-blue-50"},{title:"Pending Orders",value:t.pending,icon:yc,color:"text-orange-600",bgColor:"bg-orange-50"},{title:"Processing",value:t.processing,icon:Ci,color:"text-yellow-600",bgColor:"bg-yellow-50"},{title:"Completed",value:t.completed,icon:hr,color:"text-green-600",bgColor:"bg-green-50"},{title:"Failed",value:t.failed,icon:Pd,color:"text-red-600",bgColor:"bg-red-50"},{title:"Total Revenue",value:`${t.totalRevenue.toLocaleString()}`,icon:Fp,color:"text-emerald-600",bgColor:"bg-emerald-50"}];return n?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),o.jsx("p",{className:"text-muted-foreground",children:"Overview of your e-stamp operations"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((i,a)=>o.jsx(ye,{className:"animate-pulse",children:o.jsx(ve,{className:"p-6",children:o.jsx("div",{className:"h-20 bg-muted rounded"})})},a))})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),o.jsx("p",{className:"text-muted-foreground",children:"Overview of your e-stamp operations"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((i,a)=>o.jsx(ye,{className:"hover:shadow-lg transition-shadow",children:o.jsx(ve,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:i.title}),o.jsx("p",{className:"text-2xl font-bold",children:i.value})]}),o.jsx("div",{className:`p-3 rounded-full ${i.bgColor}`,children:o.jsx(i.icon,{className:`h-6 w-6 ${i.color}`})})]})})},a))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(ye,{children:[o.jsx(Le,{children:o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(pF,{className:"h-5 w-5"}),"Quick Stats"]})}),o.jsxs(ve,{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Success Rate"}),o.jsxs(Ht,{variant:"secondary",className:"bg-green-50 text-green-700",children:[t.totalOrders>0?Math.round(t.completed/t.totalOrders*100):0,"%"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Active Orders"}),o.jsx(Ht,{variant:"outline",children:t.pending+t.processing})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Total Orders"}),o.jsx(Ht,{variant:"secondary",children:t.totalOrders})]})]})]}),o.jsxs(ye,{children:[o.jsx(Le,{children:o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(d0,{className:"h-5 w-5"}),"System Status"]})}),o.jsxs(ve,{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Orders Processing"}),o.jsx(Ht,{variant:t.processing>0?"default":"secondary",children:t.processing>0?"Active":"Idle"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Failed Orders"}),o.jsx(Ht,{variant:t.failed>0?"destructive":"secondary",children:t.failed>0?"Attention Needed":"All Good"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"System Health"}),o.jsx(Ht,{variant:"secondary",className:"bg-green-50 text-green-700",children:"Operational"})]})]})]})]})]})},FJ=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState(!0),[a,l]=p.useState(""),[c,u]=p.useState("all"),[h,f]=p.useState("all");p.useEffect(()=>{(async()=>{try{const g=await BX();e(g),r(g)}catch(g){console.error("Error fetching orders:",g)}finally{i(!1)}})()},[]),p.useEffect(()=>{let x=t;if(a&&(x=x.filter(g=>g.id.toLowerCase().includes(a.toLowerCase())||g.email.toLowerCase().includes(a.toLowerCase())||g.phone.includes(a)||g.party1Name.toLowerCase().includes(a.toLowerCase())||g.party2Name.toLowerCase().includes(a.toLowerCase()))),c!=="all"&&(x=x.filter(g=>g.status===c)),h!=="all"){const g=new Date,_=new Date;switch(h){case"today":_.setHours(0,0,0,0),x=x.filter(b=>b.createdAt.toDate()>=_);break;case"week":_.setDate(g.getDate()-7),x=x.filter(b=>b.createdAt.toDate()>=_);break;case"month":_.setMonth(g.getMonth()-1),x=x.filter(b=>b.createdAt.toDate()>=_);break}}r(x)},[t,a,c,h]);const m=x=>{const g={pending:"secondary",processing:"default",completed:"secondary",failed:"destructive"},_={pending:"bg-orange-50 text-orange-700 border-orange-200",processing:"bg-blue-50 text-blue-700 border-blue-200",completed:"bg-green-50 text-green-700 border-green-200",failed:"bg-red-50 text-red-700 border-red-200"};return o.jsx(Ht,{variant:g[x],className:_[x],children:x.charAt(0).toUpperCase()+x.slice(1)})},y=()=>{const x=[["Order ID","Customer","Email","Phone","Status","Amount","Created At"].join(","),...n.map(w=>[w.id,w.party1Name,w.email,w.phone,w.status,w.totalPaid,xi(w.createdAt.toDate(),"yyyy-MM-dd HH:mm:ss")].join(","))].join(`
`),g=new Blob([x],{type:"text/csv"}),_=window.URL.createObjectURL(g),b=document.createElement("a");b.href=_,b.download=`orders-${xi(new Date,"yyyy-MM-dd")}.csv`,b.click(),window.URL.revokeObjectURL(_)};return s?o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Orders"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage all e-stamp orders"})]})}),o.jsx(ye,{children:o.jsx(ve,{className:"p-6",children:o.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((x,g)=>o.jsx("div",{className:"h-12 bg-muted rounded"},g))})})})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Orders"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage all e-stamp orders"})]}),o.jsxs(ee,{onClick:y,variant:"outline",children:[o.jsx(No,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),o.jsxs(ye,{children:[o.jsx(Le,{children:o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(Lc,{className:"h-5 w-5"}),"Filters"]})}),o.jsx(ve,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(el,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ye,{placeholder:"Search orders...",value:a,onChange:x=>l(x.target.value),className:"pl-10"})]}),o.jsxs(Sn,{value:c,onValueChange:u,children:[o.jsx(mn,{children:o.jsx(Tn,{placeholder:"Filter by status"})}),o.jsxs(pn,{children:[o.jsx(Ze,{value:"all",children:"All Status"}),o.jsx(Ze,{value:"pending",children:"Pending"}),o.jsx(Ze,{value:"processing",children:"Processing"}),o.jsx(Ze,{value:"completed",children:"Completed"}),o.jsx(Ze,{value:"failed",children:"Failed"})]})]}),o.jsxs(Sn,{value:h,onValueChange:f,children:[o.jsx(mn,{children:o.jsx(Tn,{placeholder:"Filter by date"})}),o.jsxs(pn,{children:[o.jsx(Ze,{value:"all",children:"All Time"}),o.jsx(Ze,{value:"today",children:"Today"}),o.jsx(Ze,{value:"week",children:"Last 7 Days"}),o.jsx(Ze,{value:"month",children:"Last 30 Days"})]})]}),o.jsxs("div",{className:"text-sm text-muted-foreground flex items-center",children:["Showing ",n.length," of ",t.length," orders"]})]})})]}),o.jsxs(ye,{children:[o.jsxs(Le,{children:[o.jsx(Ve,{children:"Orders List"}),o.jsx(nn,{children:"Click on any order to view details and manage"})]}),o.jsxs(ve,{children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Mi,{children:[o.jsx(Li,{children:o.jsxs(Pn,{children:[o.jsx(Fe,{children:"Order ID"}),o.jsx(Fe,{children:"Customer"}),o.jsx(Fe,{children:"Location"}),o.jsx(Fe,{children:"Amount"}),o.jsx(Fe,{children:"Status"}),o.jsx(Fe,{children:"Created"}),o.jsx(Fe,{children:"Actions"})]})}),o.jsx(Vi,{children:n.map(x=>o.jsxs(Pn,{className:"hover:bg-muted/50",children:[o.jsx(Ue,{className:"font-mono text-sm",children:x.id.slice(-8)}),o.jsx(Ue,{children:o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:x.party1Name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:x.email}),o.jsx("p",{className:"text-sm text-muted-foreground",children:x.phone})]})}),o.jsx(Ue,{children:o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{children:x.stateId}),o.jsx("p",{className:"text-muted-foreground",children:x.districtId})]})}),o.jsx(Ue,{children:o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium",children:["",x.totalPaid.toLocaleString()]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:x.deliveryType==="digital"?"Digital":"Physical"})]})}),o.jsx(Ue,{children:m(x.status)}),o.jsx(Ue,{children:o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{children:xi(x.createdAt.toDate(),"MMM dd, yyyy")}),o.jsx("p",{className:"text-muted-foreground",children:xi(x.createdAt.toDate(),"HH:mm")})]})}),o.jsx(Ue,{children:o.jsx(ee,{variant:"ghost",size:"sm",asChild:!0,children:o.jsx(lt,{to:`/admin/orders/${x.id}`,children:o.jsx(jP,{className:"h-4 w-4"})})})})]},x.id))})]})}),n.length===0&&o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-muted-foreground",children:"No orders found matching your criteria."})})]})]})]})},UJ=()=>{const{id:t}=A0(),e=Yn(),{toast:n}=cn(),[r,s]=p.useState(null),[i,a]=p.useState(!0),[l,c]=p.useState(!1),[u,h]=p.useState(""),[f,m]=p.useState(""),[y,x]=p.useState(""),[g,_]=p.useState("");p.useEffect(()=>{if(!t){e("/admin/orders");return}(async()=>{try{const I=await uO(t);I?(s(I),h(I.status),m(I.pdfUrl||""),x(I.courierTrackingId||"")):(n({title:"Order Not Found",description:"The requested order could not be found.",variant:"destructive"}),e("/admin/orders"))}catch(I){console.error("Error fetching order:",I),n({title:"Error",description:"Failed to load order details.",variant:"destructive"})}finally{a(!1)}})()},[t,e,n]);const b=async()=>{if(r){c(!0);try{const T={status:u};f!==(r.pdfUrl||"")&&(T.pdfUrl=f),y!==(r.courierTrackingId||"")&&(T.courierTrackingId=y),await zX(r.id,T),s({...r,...T}),n({title:"Order Updated",description:"Order details have been successfully updated."})}catch(T){console.error("Error updating order:",T),n({title:"Update Failed",description:"Failed to update order details.",variant:"destructive"})}finally{c(!1)}}},w=async T=>{if(r)try{await new Promise(I=>setTimeout(I,1e3)),n({title:"Notification Sent",description:`${T==="email"?"Email":"WhatsApp"} notification sent successfully.`})}catch{n({title:"Send Failed",description:`Failed to send ${T} notification.`,variant:"destructive"})}},E=T=>{const I={pending:"bg-orange-50 text-orange-700 border-orange-200",processing:"bg-blue-50 text-blue-700 border-blue-200",completed:"bg-green-50 text-green-700 border-green-200",failed:"bg-red-50 text-red-700 border-red-200"};return o.jsx(Ht,{className:I[T],children:T.charAt(0).toUpperCase()+T.slice(1)})};return i?o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs(ee,{variant:"ghost",onClick:()=>e("/admin/orders"),children:[o.jsx(dr,{className:"h-4 w-4 mr-2"}),"Back to Orders"]})}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[...Array(3)].map((T,I)=>o.jsx(ye,{className:"animate-pulse",children:o.jsx(ve,{className:"p-6",children:o.jsx("div",{className:"h-40 bg-muted rounded"})})},I))})]}):r?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(ee,{variant:"ghost",onClick:()=>e("/admin/orders"),children:[o.jsx(dr,{className:"h-4 w-4 mr-2"}),"Back to Orders"]}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold",children:["Order #",r.id.slice(-8)]}),o.jsxs("p",{className:"text-muted-foreground",children:["Created ",xi(r.createdAt.toDate(),"MMM dd, yyyy HH:mm")]})]})]}),E(r.status)]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs(ye,{children:[o.jsx(Le,{children:o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(Fc,{className:"h-5 w-5"}),"Customer Information"]})}),o.jsxs(ve,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),o.jsx("p",{className:"font-medium",children:r.email})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Phone"}),o.jsx("p",{className:"font-medium",children:r.phone})]}),r.whatsapp&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"WhatsApp"}),o.jsx("p",{className:"font-medium",children:r.whatsapp})]}),o.jsx(Qr,{}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"First Party"}),o.jsx("p",{className:"font-medium",children:r.party1Name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Second Party"}),o.jsx("p",{className:"font-medium",children:r.party2Name})]})]})]}),o.jsxs(ye,{children:[o.jsx(Le,{children:o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(fr,{className:"h-5 w-5"}),"Location & Delivery"]})}),o.jsxs(ve,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"State"}),o.jsx("p",{className:"font-medium",children:r.stateId})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"District"}),o.jsx("p",{className:"font-medium",children:r.districtId})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Tehsil"}),o.jsx("p",{className:"font-medium",children:r.tehsilId})]}),o.jsx(Qr,{}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Delivery Type"}),o.jsx("p",{className:"font-medium capitalize",children:r.deliveryType})]}),r.address&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Address"}),o.jsx("p",{className:"font-medium",children:r.address}),r.pincode&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:["PIN: ",r.pincode]})]})]})]}),o.jsxs(ye,{children:[o.jsx(Le,{children:o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(Fp,{className:"h-5 w-5"}),"Payment Information"]})}),o.jsxs(ve,{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Stamp Amount"}),o.jsxs("span",{className:"font-medium",children:["",r.stampAmount.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Platform Fee"}),o.jsxs("span",{className:"font-medium",children:["",r.platformFee.toLocaleString()]})]}),r.expressFee&&r.expressFee>0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Express Fee"}),o.jsxs("span",{className:"font-medium",children:["",r.expressFee.toLocaleString()]})]}),r.deliveryFee&&r.deliveryFee>0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Delivery Fee"}),o.jsxs("span",{className:"font-medium",children:["",r.deliveryFee.toLocaleString()]})]}),o.jsx(Qr,{}),o.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[o.jsx("span",{children:"Total Paid"}),o.jsxs("span",{children:["",r.totalPaid.toLocaleString()]})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(ye,{children:[o.jsx(Le,{children:o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(qt,{className:"h-5 w-5"}),"Order Management"]})}),o.jsxs(ve,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"Status"}),o.jsxs(Sn,{value:u,onValueChange:h,children:[o.jsx(mn,{children:o.jsx(Tn,{})}),o.jsxs(pn,{children:[o.jsx(Ze,{value:"pending",children:"Pending"}),o.jsx(Ze,{value:"processing",children:"Processing"}),o.jsx(Ze,{value:"completed",children:"Completed"}),o.jsx(Ze,{value:"failed",children:"Failed"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"PDF URL"}),o.jsx(Ye,{value:f,onChange:T=>m(T.target.value),placeholder:"Enter PDF download URL"})]}),r.deliveryType==="door"&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"Courier Tracking ID"}),o.jsx(Ye,{value:y,onChange:T=>x(T.target.value),placeholder:"Enter tracking ID"})]}),o.jsxs(ee,{onClick:b,disabled:l,className:"w-full",children:[l?o.jsx(fF,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(kP,{className:"h-4 w-4 mr-2"}),"Update Order"]})]})]}),o.jsxs(ye,{children:[o.jsx(Le,{children:o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(lx,{className:"h-5 w-5"}),"Communications"]})}),o.jsxs(ve,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"Internal Notes"}),o.jsx(tc,{value:g,onChange:T=>_(T.target.value),placeholder:"Add internal notes...",rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ee,{variant:"outline",onClick:()=>w("email"),className:"w-full",children:[o.jsx(vc,{className:"h-4 w-4 mr-2"}),"Resend Email"]}),o.jsxs(ee,{variant:"outline",onClick:()=>w("whatsapp"),className:"w-full",children:[o.jsx(lx,{className:"h-4 w-4 mr-2"}),"Send WhatsApp"]})]})]})]})]})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-muted-foreground",children:"Order not found."}),o.jsxs(ee,{variant:"outline",onClick:()=>e("/admin/orders"),className:"mt-4",children:[o.jsx(dr,{className:"h-4 w-4 mr-2"}),"Back to Orders"]})]})},$J=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState([]),[a,l]=p.useState([]),[c,u]=p.useState(!0),[h,f]=p.useState(""),[m,y]=p.useState("all"),[x,g]=p.useState("all"),{toast:_}=cn();p.useEffect(()=>{(async()=>{try{const[I,O,C]=await Promise.all([GX(),nu(),Lg()]);e(I),r(I),i(O),l(C)}catch(I){console.error("Error fetching data:",I),_({title:"Error",description:"Failed to load products data.",variant:"destructive"})}finally{u(!1)}})()},[_]),p.useEffect(()=>{let T=t;h&&(T=T.filter(I=>I.name.toLowerCase().includes(h.toLowerCase()))),m!=="all"&&(T=T.filter(I=>I.stateId===m)),x!=="all"&&(T=T.filter(I=>I.categoryId===x)),r(T)},[t,h,m,x]);const b=async T=>{if(confirm("Are you sure you want to delete this product?"))try{await YX(T),e(t.filter(I=>I.id!==T)),_({title:"Product Deleted",description:"Product has been successfully deleted."})}catch(I){console.error("Error deleting product:",I),_({title:"Delete Failed",description:"Failed to delete product.",variant:"destructive"})}},w=T=>{const I=s.find(O=>O.id===T);return I?I.name:T},E=T=>{const I=a.find(O=>O.id===T);return I?I.name:T};return c?o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Products"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage stamp products"})]})}),o.jsx(ye,{children:o.jsx(ve,{className:"p-6",children:o.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((T,I)=>o.jsx("div",{className:"h-12 bg-muted rounded"},I))})})})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Products"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage stamp products"})]}),o.jsx(ee,{asChild:!0,children:o.jsxs(lt,{to:"/admin/catalog/products/new",children:[o.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Add Product"]})})]}),o.jsxs(ye,{children:[o.jsx(Le,{children:o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(Lc,{className:"h-5 w-5"}),"Filters"]})}),o.jsx(ve,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(el,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ye,{placeholder:"Search products...",value:h,onChange:T=>f(T.target.value),className:"pl-10"})]}),o.jsxs(Sn,{value:m,onValueChange:y,children:[o.jsx(mn,{children:o.jsx(Tn,{placeholder:"Filter by state"})}),o.jsxs(pn,{children:[o.jsx(Ze,{value:"all",children:"All States"}),s.map(T=>o.jsx(Ze,{value:T.id,children:T.name},T.id))]})]}),o.jsxs(Sn,{value:x,onValueChange:g,children:[o.jsx(mn,{children:o.jsx(Tn,{placeholder:"Filter by category"})}),o.jsxs(pn,{children:[o.jsx(Ze,{value:"all",children:"All Categories"}),a.map(T=>o.jsx(Ze,{value:T.id,children:T.name},T.id))]})]}),o.jsxs("div",{className:"text-sm text-muted-foreground flex items-center",children:["Showing ",n.length," of ",t.length," products"]})]})})]}),o.jsxs(ye,{children:[o.jsxs(Le,{children:[o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(Ci,{className:"h-5 w-5"}),"Products List"]}),o.jsx(nn,{children:"Manage your stamp products and pricing"})]}),o.jsxs(ve,{children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Mi,{children:[o.jsx(Li,{children:o.jsxs(Pn,{children:[o.jsx(Fe,{children:"Name"}),o.jsx(Fe,{children:"State"}),o.jsx(Fe,{children:"Category"}),o.jsx(Fe,{children:"Amount"}),o.jsx(Fe,{children:"Platform Fee"}),o.jsx(Fe,{children:"Delivery Time"}),o.jsx(Fe,{children:"Actions"})]})}),o.jsx(Vi,{children:n.map(T=>o.jsxs(Pn,{className:"hover:bg-muted/50",children:[o.jsx(Ue,{children:o.jsx("div",{children:o.jsx("p",{className:"font-medium",children:T.name})})}),o.jsx(Ue,{children:o.jsx(Ht,{variant:"outline",children:w(T.stateId)})}),o.jsx(Ue,{children:o.jsx(Ht,{variant:"secondary",children:E(T.categoryId)})}),o.jsx(Ue,{children:o.jsxs("p",{className:"font-medium",children:["",T.amount.toLocaleString()]})}),o.jsx(Ue,{children:o.jsxs("p",{children:["",T.platformFee.toLocaleString()]})}),o.jsx(Ue,{children:o.jsx("p",{className:"text-sm",children:T.deliveryTime})}),o.jsx(Ue,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ee,{variant:"ghost",size:"sm",asChild:!0,children:o.jsx(lt,{to:`/admin/catalog/products/${T.id}/edit`,children:o.jsx(ch,{className:"h-4 w-4"})})}),o.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>b(T.id),className:"text-destructive hover:text-destructive",children:o.jsx(Vc,{className:"h-4 w-4"})})]})})]},T.id))})]})}),n.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Ci,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"No products found matching your criteria."}),o.jsx(ee,{asChild:!0,children:o.jsxs(lt,{to:"/admin/catalog/products/new",children:[o.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Add First Product"]})})]})]})]})]})},BJ=ia({name:pt().min(2,"Product name must be at least 2 characters"),stateId:pt().min(1,"Please select a state"),categoryId:pt().min(1,"Please select a category"),amount:pt().min(1,"Amount is required").transform(t=>parseInt(t)),platformFee:pt().min(0,"Platform fee must be 0 or greater").transform(t=>parseInt(t)),expressFee:pt().min(0,"Express fee must be 0 or greater").transform(t=>parseInt(t)),deliveryFee:pt().min(0,"Delivery fee must be 0 or greater").transform(t=>parseInt(t)),deliveryTime:pt().min(1,"Delivery time is required")}),PN=()=>{const{id:t}=A0(),e=Yn(),{toast:n}=cn(),r=t!=="new",[s,i]=p.useState([]),[a,l]=p.useState([]),[c,u]=p.useState(!0),[h,f]=p.useState(!1),m=ra({resolver:sa(BJ),defaultValues:{name:"",stateId:"",categoryId:"",amount:0,platformFee:0,expressFee:0,deliveryFee:0,deliveryTime:""}});p.useEffect(()=>{(async()=>{try{const[g,_]=await Promise.all([nu(),Lg()]);if(i(g),l(_),r&&t){const b=await dO(t);b?m.reset({name:b.name,stateId:b.stateId,categoryId:b.categoryId,amount:b.amount,platformFee:b.platformFee,expressFee:b.expressFee||0,deliveryFee:b.deliveryFee||0,deliveryTime:b.deliveryTime}):(n({title:"Product Not Found",description:"The requested product could not be found.",variant:"destructive"}),e("/admin/catalog/products"))}}catch(g){console.error("Error fetching data:",g),n({title:"Error",description:"Failed to load form data.",variant:"destructive"})}finally{u(!1)}})()},[t,r,m,e,n]);const y=async x=>{f(!0);try{const g={name:x.name,stateId:x.stateId,categoryId:x.categoryId,amount:x.amount,platformFee:x.platformFee,expressFee:x.expressFee,deliveryFee:x.deliveryFee,deliveryTime:x.deliveryTime};r&&t?(await QX(t,g),n({title:"Product Updated",description:"Product has been successfully updated."})):(await KX(g),n({title:"Product Created",description:"Product has been successfully created."})),e("/admin/catalog/products")}catch(g){console.error("Error saving product:",g),n({title:"Save Failed",description:"Failed to save product.",variant:"destructive"})}finally{f(!1)}};return c?o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs(ee,{variant:"ghost",onClick:()=>e("/admin/catalog/products"),children:[o.jsx(dr,{className:"h-4 w-4 mr-2"}),"Back to Products"]})}),o.jsx(ye,{children:o.jsx(ve,{className:"p-6",children:o.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(8)].map((x,g)=>o.jsx("div",{className:"h-12 bg-muted rounded"},g))})})})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(ee,{variant:"ghost",onClick:()=>e("/admin/catalog/products"),children:[o.jsx(dr,{className:"h-4 w-4 mr-2"}),"Back to Products"]}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:r?"Edit Product":"Add New Product"}),o.jsx("p",{className:"text-muted-foreground",children:r?"Update product details":"Create a new stamp product"})]})]}),o.jsxs(ye,{className:"max-w-2xl",children:[o.jsxs(Le,{children:[o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(Ci,{className:"h-5 w-5"}),"Product Details"]}),o.jsx(nn,{children:"Fill in the product information below"})]}),o.jsx(ve,{children:o.jsx(oa,{...m,children:o.jsxs("form",{onSubmit:m.handleSubmit(y),className:"space-y-6",children:[o.jsx(gt,{control:m.control,name:"name",render:({field:x})=>o.jsxs(ut,{children:[o.jsx(dt,{children:"Product Name"}),o.jsx(ht,{children:o.jsx(Ye,{...x,placeholder:"Enter product name"})}),o.jsx(ft,{})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(gt,{control:m.control,name:"stateId",render:({field:x})=>o.jsxs(ut,{children:[o.jsx(dt,{children:"State"}),o.jsxs(Sn,{onValueChange:x.onChange,defaultValue:x.value,children:[o.jsx(ht,{children:o.jsx(mn,{children:o.jsx(Tn,{placeholder:"Select state"})})}),o.jsx(pn,{children:s.map(g=>o.jsx(Ze,{value:g.id,children:g.name},g.id))})]}),o.jsx(ft,{})]})}),o.jsx(gt,{control:m.control,name:"categoryId",render:({field:x})=>o.jsxs(ut,{children:[o.jsx(dt,{children:"Category"}),o.jsxs(Sn,{onValueChange:x.onChange,defaultValue:x.value,children:[o.jsx(ht,{children:o.jsx(mn,{children:o.jsx(Tn,{placeholder:"Select category"})})}),o.jsx(pn,{children:a.map(g=>o.jsx(Ze,{value:g.id,children:g.name},g.id))})]}),o.jsx(ft,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(gt,{control:m.control,name:"amount",render:({field:x})=>o.jsxs(ut,{children:[o.jsx(dt,{children:"Base Amount ()"}),o.jsx(ht,{children:o.jsx(Ye,{...x,type:"number",placeholder:"0",value:x.value||"",onChange:g=>x.onChange(g.target.value)})}),o.jsx(ft,{})]})}),o.jsx(gt,{control:m.control,name:"platformFee",render:({field:x})=>o.jsxs(ut,{children:[o.jsx(dt,{children:"Platform Fee ()"}),o.jsx(ht,{children:o.jsx(Ye,{...x,type:"number",placeholder:"0",value:x.value||"",onChange:g=>x.onChange(g.target.value)})}),o.jsx(ft,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(gt,{control:m.control,name:"expressFee",render:({field:x})=>o.jsxs(ut,{children:[o.jsx(dt,{children:"Express Fee ()"}),o.jsx(ht,{children:o.jsx(Ye,{...x,type:"number",placeholder:"0",value:x.value||"",onChange:g=>x.onChange(g.target.value)})}),o.jsx(ft,{})]})}),o.jsx(gt,{control:m.control,name:"deliveryFee",render:({field:x})=>o.jsxs(ut,{children:[o.jsx(dt,{children:"Delivery Fee ()"}),o.jsx(ht,{children:o.jsx(Ye,{...x,type:"number",placeholder:"0",value:x.value||"",onChange:g=>x.onChange(g.target.value)})}),o.jsx(ft,{})]})})]}),o.jsx(gt,{control:m.control,name:"deliveryTime",render:({field:x})=>o.jsxs(ut,{children:[o.jsx(dt,{children:"Delivery Time"}),o.jsx(ht,{children:o.jsx(Ye,{...x,placeholder:"e.g., instant, 1-2 days, 3-5 days"})}),o.jsx(ft,{})]})}),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsx(ee,{type:"button",variant:"outline",onClick:()=>e("/admin/catalog/products"),className:"flex-1",children:"Cancel"}),o.jsx(ee,{type:"submit",disabled:h,className:"flex-1",children:h?"Saving...":o.jsxs(o.Fragment,{children:[o.jsx(kP,{className:"h-4 w-4 mr-2"}),r?"Update Product":"Create Product"]})})]})]})})})]})]})};var $g="Dialog",[zO,kee]=Dr($g),[zJ,Is]=zO($g),WO=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,l=p.useRef(null),c=p.useRef(null),[u,h]=Mo({prop:r,defaultProp:s??!1,onChange:i,caller:$g});return o.jsx(zJ,{scope:e,triggerRef:l,contentRef:c,contentId:_i(),titleId:_i(),descriptionId:_i(),open:u,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:a,children:n})};WO.displayName=$g;var HO="DialogTrigger",qO=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Is(HO,n),i=Xe(e,s.triggerRef);return o.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ib(s.open),...r,ref:i,onClick:ae(t.onClick,s.onOpenToggle)})});qO.displayName=HO;var rb="DialogPortal",[WJ,GO]=zO(rb,{forceMount:void 0}),KO=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Is(rb,e);return o.jsx(WJ,{scope:e,forceMount:n,children:p.Children.map(r,a=>o.jsx(Jr,{present:n||i.open,children:o.jsx(oh,{asChild:!0,container:s,children:a})}))})};KO.displayName=rb;var vp="DialogOverlay",QO=p.forwardRef((t,e)=>{const n=GO(vp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Is(vp,t.__scopeDialog);return i.modal?o.jsx(Jr,{present:r||i.open,children:o.jsx(qJ,{...s,ref:e})}):null});QO.displayName=vp;var HJ=Va("DialogOverlay.RemoveScroll"),qJ=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Is(vp,n);return o.jsx(Cg,{as:HJ,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Se.div,{"data-state":ib(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ya="DialogContent",YO=p.forwardRef((t,e)=>{const n=GO(Ya,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Is(Ya,t.__scopeDialog);return o.jsx(Jr,{present:r||i.open,children:i.modal?o.jsx(GJ,{...s,ref:e}):o.jsx(KJ,{...s,ref:e})})});YO.displayName=Ya;var GJ=p.forwardRef((t,e)=>{const n=Is(Ya,t.__scopeDialog),r=p.useRef(null),s=Xe(e,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return D_(i)},[]),o.jsx(XO,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ae(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:ae(t.onFocusOutside,i=>i.preventDefault())})}),KJ=p.forwardRef((t,e)=>{const n=Is(Ya,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return o.jsx(XO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),XO=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,l=Is(Ya,n),c=p.useRef(null),u=Xe(e,c);return A_(),o.jsxs(o.Fragment,{children:[o.jsx(Sg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Mc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":ib(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(QJ,{titleId:l.titleId}),o.jsx(XJ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),sb="DialogTitle",ZO=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Is(sb,n);return o.jsx(Se.h2,{id:s.titleId,...r,ref:e})});ZO.displayName=sb;var JO="DialogDescription",eM=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Is(JO,n);return o.jsx(Se.p,{id:s.descriptionId,...r,ref:e})});eM.displayName=JO;var tM="DialogClose",nM=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Is(tM,n);return o.jsx(Se.button,{type:"button",...r,ref:e,onClick:ae(t.onClick,()=>s.onOpenChange(!1))})});nM.displayName=tM;function ib(t){return t?"open":"closed"}var rM="DialogTitleWarning",[Aee,sM]=hV(rM,{contentName:Ya,titleName:sb,docsSlug:"dialog"}),QJ=({titleId:t})=>{const e=sM(rM),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},YJ="DialogDescriptionWarning",XJ=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sM(YJ).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},ZJ=WO,JJ=qO,eee=KO,iM=QO,oM=YO,aM=ZO,lM=eM,tee=nM;const Bg=ZJ,zg=JJ,nee=eee,cM=p.forwardRef(({className:t,...e},n)=>o.jsx(iM,{ref:n,className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));cM.displayName=iM.displayName;const Ih=p.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(nee,{children:[o.jsx(cM,{}),o.jsxs(oM,{ref:r,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs(tee,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(MP,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ih.displayName=oM.displayName;const Ph=({className:t,...e})=>o.jsx("div",{className:we("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ph.displayName="DialogHeader";const jh=({className:t,...e})=>o.jsx("div",{className:we("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});jh.displayName="DialogFooter";const Rh=p.forwardRef(({className:t,...e},n)=>o.jsx(aM,{ref:n,className:we("text-lg font-semibold leading-none tracking-tight",t),...e}));Rh.displayName=aM.displayName;const kh=p.forwardRef(({className:t,...e},n)=>o.jsx(lM,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));kh.displayName=lM.displayName;const ree=ia({name:pt().min(2,"Category name must be at least 2 characters"),description:pt().min(10,"Description must be at least 10 characters")}),see=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState(!0),[a,l]=p.useState(""),[c,u]=p.useState(!1),[h,f]=p.useState(null),[m,y]=p.useState(!1),{toast:x}=cn(),g=ra({resolver:sa(ree),defaultValues:{name:"",description:""}});p.useEffect(()=>{_()},[]),p.useEffect(()=>{let I=t;a&&(I=I.filter(O=>O.name.toLowerCase().includes(a.toLowerCase())||O.description.toLowerCase().includes(a.toLowerCase()))),r(I)},[t,a]);const _=async()=>{try{const I=await Lg();e(I),r(I)}catch(I){console.error("Error fetching categories:",I),x({title:"Error",description:"Failed to load categories.",variant:"destructive"})}finally{i(!1)}},b=I=>{I?(f(I),g.reset({name:I.name,description:I.description})):(f(null),g.reset({name:"",description:""})),u(!0)},w=()=>{u(!1),f(null),g.reset()},E=async I=>{y(!0);try{h?(await LX(h.id,I),x({title:"Category Updated",description:"Category has been successfully updated."})):(await MX(I),x({title:"Category Created",description:"Category has been successfully created."})),await _(),w()}catch(O){console.error("Error saving category:",O),x({title:"Save Failed",description:"Failed to save category.",variant:"destructive"})}finally{y(!1)}},T=async I=>{if(confirm("Are you sure you want to delete this category? This action cannot be undone."))try{await VX(I),e(t.filter(O=>O.id!==I)),x({title:"Category Deleted",description:"Category has been successfully deleted."})}catch(O){console.error("Error deleting category:",O),x({title:"Delete Failed",description:"Failed to delete category. It may be in use by products.",variant:"destructive"})}};return s?o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Categories"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage stamp categories"})]})}),o.jsx(ye,{children:o.jsx(ve,{className:"p-6",children:o.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((I,O)=>o.jsx("div",{className:"h-12 bg-muted rounded"},O))})})})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Categories"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage stamp categories"})]}),o.jsxs(Bg,{open:c,onOpenChange:u,children:[o.jsx(zg,{asChild:!0,children:o.jsxs(ee,{onClick:()=>b(),children:[o.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Add Category"]})}),o.jsxs(Ih,{className:"sm:max-w-[425px]",children:[o.jsxs(Ph,{children:[o.jsx(Rh,{children:h?"Edit Category":"Add New Category"}),o.jsx(kh,{children:h?"Update the category details below.":"Create a new stamp category."})]}),o.jsx(oa,{...g,children:o.jsxs("form",{onSubmit:g.handleSubmit(E),className:"space-y-4",children:[o.jsx(gt,{control:g.control,name:"name",render:({field:I})=>o.jsxs(ut,{children:[o.jsx(dt,{children:"Category Name"}),o.jsx(ht,{children:o.jsx(Ye,{...I,placeholder:"Enter category name"})}),o.jsx(ft,{})]})}),o.jsx(gt,{control:g.control,name:"description",render:({field:I})=>o.jsxs(ut,{children:[o.jsx(dt,{children:"Description"}),o.jsx(ht,{children:o.jsx(tc,{...I,placeholder:"Enter category description",rows:3})}),o.jsx(ft,{})]})}),o.jsxs(jh,{children:[o.jsx(ee,{type:"button",variant:"outline",onClick:w,children:"Cancel"}),o.jsx(ee,{type:"submit",disabled:m,children:m?"Saving...":h?"Update":"Create"})]})]})})]})]})]}),o.jsxs(ye,{children:[o.jsx(Le,{children:o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(Lc,{className:"h-5 w-5"}),"Search Categories"]})}),o.jsx(ve,{children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(el,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ye,{placeholder:"Search categories...",value:a,onChange:I=>l(I.target.value),className:"pl-10"})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",n.length," of ",t.length," categories"]})]})})]}),o.jsxs(ye,{children:[o.jsxs(Le,{children:[o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(cE,{className:"h-5 w-5"}),"Categories List"]}),o.jsx(nn,{children:"Manage your stamp categories"})]}),o.jsxs(ve,{children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Mi,{children:[o.jsx(Li,{children:o.jsxs(Pn,{children:[o.jsx(Fe,{children:"Name"}),o.jsx(Fe,{children:"Description"}),o.jsx(Fe,{children:"Products"}),o.jsx(Fe,{children:"Actions"})]})}),o.jsx(Vi,{children:n.map(I=>o.jsxs(Pn,{className:"hover:bg-muted/50",children:[o.jsx(Ue,{children:o.jsx("div",{children:o.jsx("p",{className:"font-medium",children:I.name})})}),o.jsx(Ue,{children:o.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:I.description})}),o.jsx(Ue,{children:o.jsx(Ht,{variant:"secondary",children:"0 products"})}),o.jsx(Ue,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>b(I),children:o.jsx(ch,{className:"h-4 w-4"})}),o.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>T(I.id),className:"text-destructive hover:text-destructive",children:o.jsx(Vc,{className:"h-4 w-4"})})]})})]},I.id))})]})}),n.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(cE,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"No categories found matching your criteria."}),o.jsxs(ee,{onClick:()=>b(),children:[o.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Add First Category"]})]})]})]})]})},iee=lh("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),uM=p.forwardRef(({className:t,variant:e,...n},r)=>o.jsx("div",{ref:r,role:"alert",className:we(iee({variant:e}),t),...n}));uM.displayName="Alert";const oee=p.forwardRef(({className:t,...e},n)=>o.jsx("h5",{ref:n,className:we("mb-1 font-medium leading-none tracking-tight",t),...e}));oee.displayName="AlertTitle";const dM=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:we("text-sm [&_p]:leading-relaxed",t),...e}));dM.displayName="AlertDescription";const aee=()=>{const[t,e]=p.useState("products"),[n,r]=p.useState(null),[s,i]=p.useState(!1),[a,l]=p.useState(0),[c,u]=p.useState([]),[h,f]=p.useState(!1),{toast:m}=cn(),y=I=>{var C;const O=(C=I.target.files)==null?void 0:C[0];if(O){if(O.type!=="text/csv"&&!O.name.endsWith(".csv")){m({title:"Invalid File Type",description:"Please select a CSV file.",variant:"destructive"});return}r(O),u([]),f(!1)}},x=()=>{let I="",O="";switch(t){case"products":I=`name,categoryId,stateId,amount,platformFee,expressFee,deliveryFee,deliveryTime
`,I+=`Sample Product,category_id_here,state_id_here,1000,50,100,50,instant
`,O="products_template.csv";break;case"districts":I=`name,stateId
`,I+=`Sample District,state_id_here
`,O="districts_template.csv";break;case"tehsils":I=`name,districtId
`,I+=`Sample Tehsil,district_id_here
`,O="tehsils_template.csv";break}const C=new Blob([I],{type:"text/csv"}),N=window.URL.createObjectURL(C),P=document.createElement("a");P.href=N,P.download=O,P.click(),window.URL.revokeObjectURL(N)},g=I=>I.split(`
`).filter(C=>C.trim()).map(C=>{const N=[];let P="",R=!1;for(let A=0;A<C.length;A++){const D=C[A];D==='"'?R=!R:D===","&&!R?(N.push(P.trim()),P=""):P+=D}return N.push(P.trim()),N}),_=(I,O,C)=>{const N={};if(I.length!==O.length)return{row:C,status:"error",message:`Expected ${O.length} columns, got ${I.length}`};switch(O.forEach((P,R)=>{N[P]=I[R]}),t){case"products":if(!N.name||N.name.length<2)return{row:C,status:"error",message:"Product name must be at least 2 characters"};if(!N.amount||isNaN(Number(N.amount)))return{row:C,status:"error",message:"Amount must be a valid number"};if(!N.categoryId)return{row:C,status:"error",message:"Category ID is required"};if(!N.stateId)return{row:C,status:"error",message:"State ID is required"};break;case"districts":if(!N.name||N.name.length<2)return{row:C,status:"error",message:"District name must be at least 2 characters"};if(!N.stateId)return{row:C,status:"error",message:"State ID is required"};break;case"tehsils":if(!N.name||N.name.length<2)return{row:C,status:"error",message:"Tehsil name must be at least 2 characters"};if(!N.districtId)return{row:C,status:"error",message:"District ID is required"};break}return{row:C,status:"success",message:"Valid row",data:N}},b=async()=>{if(!n){m({title:"No File Selected",description:"Please select a CSV file to upload.",variant:"destructive"});return}i(!0),l(0),u([]);try{const I=await n.text(),O=g(I);if(O.length<2){m({title:"Invalid File",description:"CSV file must contain at least a header row and one data row.",variant:"destructive"}),i(!1);return}const C=O[0],N=O.slice(1),P=[];for(let j=0;j<N.length;j++){const B=_(N[j],C,j+2);P.push(B),l((j+1)/N.length*50)}const R=P.filter(j=>j.status==="success");for(let j=0;j<R.length;j++){if(await new Promise(B=>setTimeout(B,100)),Math.random()<.1){const B=P.findIndex(re=>re===R[j]);P[B]={...R[j],status:"error",message:"Failed to save to database"}}l(50+(j+1)/R.length*50)}u(P),f(!0);const A=P.filter(j=>j.status==="success").length,D=P.filter(j=>j.status==="error").length;m({title:"Upload Complete",description:`${A} records uploaded successfully, ${D} failed.`,variant:A>0?"default":"destructive"})}catch(I){console.error("Upload error:",I),m({title:"Upload Failed",description:"Failed to process the CSV file.",variant:"destructive"})}finally{i(!1),l(0)}},w=()=>{u([]),f(!1),r(null)},E=I=>{switch(I){case"success":return o.jsx(hr,{className:"h-4 w-4 text-green-600"});case"error":return o.jsx(Pd,{className:"h-4 w-4 text-red-600"});case"warning":return o.jsx(uE,{className:"h-4 w-4 text-yellow-600"});default:return null}},T=I=>{const O={success:"bg-green-50 text-green-700 border-green-200",error:"bg-red-50 text-red-700 border-red-200",warning:"bg-yellow-50 text-yellow-700 border-yellow-200"};return o.jsx(Ht,{className:O[I],children:I.charAt(0).toUpperCase()+I.slice(1)})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Bulk Upload"}),o.jsx("p",{className:"text-muted-foreground",children:"Upload multiple records using CSV files"})]}),o.jsxs(ye,{children:[o.jsxs(Le,{children:[o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(Rd,{className:"h-5 w-5"}),"Upload Configuration"]}),o.jsx(nn,{children:"Select the type of data you want to upload and choose your CSV file"})]}),o.jsxs(ve,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"Upload Type"}),o.jsxs(Sn,{value:t,onValueChange:I=>e(I),children:[o.jsx(mn,{children:o.jsx(Tn,{})}),o.jsxs(pn,{children:[o.jsx(Ze,{value:"products",children:"Stamp Products"}),o.jsx(Ze,{value:"districts",children:"Districts"}),o.jsx(Ze,{value:"tehsils",children:"Tehsils"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"CSV File"}),o.jsx(Ye,{type:"file",accept:".csv",onChange:y,disabled:s})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(ee,{variant:"outline",onClick:x,children:[o.jsx(No,{className:"h-4 w-4 mr-2"}),"Download Template"]}),o.jsxs(ee,{onClick:b,disabled:!n||s,children:[o.jsx(Rd,{className:"h-4 w-4 mr-2"}),s?"Uploading...":"Upload CSV"]}),h&&o.jsxs(ee,{variant:"outline",onClick:w,children:[o.jsx(Vc,{className:"h-4 w-4 mr-2"}),"Clear Results"]})]}),s&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Processing..."}),o.jsxs("span",{children:[Math.round(a),"%"]})]}),o.jsx(dl,{value:a,className:"h-2"})]})]})]}),o.jsxs(ye,{children:[o.jsx(Le,{children:o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(qt,{className:"h-5 w-5"}),"Instructions"]})}),o.jsxs(ve,{children:[o.jsxs(uM,{children:[o.jsx(uE,{className:"h-4 w-4"}),o.jsxs(dM,{children:[o.jsx("strong",{children:"Important:"})," Make sure your CSV file follows the exact format shown in the template. The first row should contain column headers, and all required fields must be filled."]})]}),o.jsxs("div",{className:"mt-4 space-y-2 text-sm",children:[o.jsx("h4",{className:"font-medium",children:"CSV Format Requirements:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:[o.jsx("li",{children:"First row must contain column headers"}),o.jsx("li",{children:"Use commas to separate values"}),o.jsx("li",{children:"Wrap text containing commas in double quotes"}),o.jsx("li",{children:"All required fields must be provided"}),o.jsx("li",{children:"IDs must reference existing records (states, districts, categories)"})]})]})]})]}),h&&c.length>0&&o.jsxs(ye,{children:[o.jsxs(Le,{children:[o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(hr,{className:"h-5 w-5"}),"Upload Results"]}),o.jsxs(nn,{children:[c.filter(I=>I.status==="success").length," successful, "," ",c.filter(I=>I.status==="error").length," failed, "," ",c.filter(I=>I.status==="warning").length," warnings"]})]}),o.jsx(ve,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Mi,{children:[o.jsx(Li,{children:o.jsxs(Pn,{children:[o.jsx(Fe,{children:"Row"}),o.jsx(Fe,{children:"Status"}),o.jsx(Fe,{children:"Message"})]})}),o.jsx(Vi,{children:c.map((I,O)=>o.jsxs(Pn,{children:[o.jsx(Ue,{children:I.row}),o.jsx(Ue,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[E(I.status),T(I.status)]})}),o.jsx(Ue,{children:I.message})]},O))})]})})})]})]})},lee=ia({name:pt().min(2,"State name must be at least 2 characters"),code:pt().min(2,"State code must be at least 2 characters").max(3,"State code must be at most 3 characters")}),cee=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState(!0),[a,l]=p.useState(""),[c,u]=p.useState(!1),[h,f]=p.useState(null),[m,y]=p.useState(!1),{toast:x}=cn(),g=ra({resolver:sa(lee),defaultValues:{name:"",code:""}});p.useEffect(()=>{_()},[]),p.useEffect(()=>{let O=t;a&&(O=O.filter(C=>C.name.toLowerCase().includes(a.toLowerCase())||C.code.toLowerCase().includes(a.toLowerCase()))),r(O)},[t,a]);const _=async()=>{try{const O=await nu();e(O),r(O)}catch(O){console.error("Error fetching states:",O),x({title:"Error",description:"Failed to load states.",variant:"destructive"})}finally{i(!1)}},b=O=>{O?(f(O),g.reset({name:O.name,code:O.code})):(f(null),g.reset({name:"",code:""})),u(!0)},w=()=>{u(!1),f(null),g.reset()},E=async O=>{y(!0);try{h?(await TX(h.id,O),x({title:"State Updated",description:"State has been successfully updated."})):(await SX(O),x({title:"State Created",description:"State has been successfully created."})),await _(),w()}catch(C){console.error("Error saving state:",C),x({title:"Save Failed",description:"Failed to save state.",variant:"destructive"})}finally{y(!1)}},T=async O=>{if(confirm("Are you sure you want to delete this state? This will also delete all associated districts and tehsils."))try{await NX(O),e(t.filter(C=>C.id!==O)),x({title:"State Deleted",description:"State has been successfully deleted."})}catch(C){console.error("Error deleting state:",C),x({title:"Delete Failed",description:"Failed to delete state.",variant:"destructive"})}},I=()=>{x({title:"Bulk Import",description:"Bulk import feature coming soon!"})};return s?o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"States"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage states"})]})}),o.jsx(ye,{children:o.jsx(ve,{className:"p-6",children:o.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((O,C)=>o.jsx("div",{className:"h-12 bg-muted rounded"},C))})})})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"States"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage states and territories"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ee,{variant:"outline",onClick:I,children:[o.jsx(Rd,{className:"h-4 w-4 mr-2"}),"Bulk Import"]}),o.jsxs(Bg,{open:c,onOpenChange:u,children:[o.jsx(zg,{asChild:!0,children:o.jsxs(ee,{onClick:()=>b(),children:[o.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Add State"]})}),o.jsxs(Ih,{className:"sm:max-w-[425px]",children:[o.jsxs(Ph,{children:[o.jsx(Rh,{children:h?"Edit State":"Add New State"}),o.jsx(kh,{children:h?"Update the state details below.":"Create a new state or territory."})]}),o.jsx(oa,{...g,children:o.jsxs("form",{onSubmit:g.handleSubmit(E),className:"space-y-4",children:[o.jsx(gt,{control:g.control,name:"name",render:({field:O})=>o.jsxs(ut,{children:[o.jsx(dt,{children:"State Name"}),o.jsx(ht,{children:o.jsx(Ye,{...O,placeholder:"Enter state name"})}),o.jsx(ft,{})]})}),o.jsx(gt,{control:g.control,name:"code",render:({field:O})=>o.jsxs(ut,{children:[o.jsx(dt,{children:"State Code"}),o.jsx(ht,{children:o.jsx(Ye,{...O,placeholder:"Enter state code (e.g., MH, DL)",className:"uppercase",onChange:C=>O.onChange(C.target.value.toUpperCase())})}),o.jsx(ft,{})]})}),o.jsxs(jh,{children:[o.jsx(ee,{type:"button",variant:"outline",onClick:w,children:"Cancel"}),o.jsx(ee,{type:"submit",disabled:m,children:m?"Saving...":h?"Update":"Create"})]})]})})]})]})]})]}),o.jsxs(ye,{children:[o.jsx(Le,{children:o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(Lc,{className:"h-5 w-5"}),"Search States"]})}),o.jsx(ve,{children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(el,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ye,{placeholder:"Search states...",value:a,onChange:O=>l(O.target.value),className:"pl-10"})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",n.length," of ",t.length," states"]})]})})]}),o.jsxs(ye,{children:[o.jsxs(Le,{children:[o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(fr,{className:"h-5 w-5"}),"States List"]}),o.jsx(nn,{children:"Manage states and territories"})]}),o.jsxs(ve,{children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Mi,{children:[o.jsx(Li,{children:o.jsxs(Pn,{children:[o.jsx(Fe,{children:"Name"}),o.jsx(Fe,{children:"Code"}),o.jsx(Fe,{children:"Districts"}),o.jsx(Fe,{children:"Actions"})]})}),o.jsx(Vi,{children:n.map(O=>o.jsxs(Pn,{className:"hover:bg-muted/50",children:[o.jsx(Ue,{children:o.jsx("div",{children:o.jsx("p",{className:"font-medium",children:O.name})})}),o.jsx(Ue,{children:o.jsx("code",{className:"bg-muted px-2 py-1 rounded text-sm",children:O.code})}),o.jsx(Ue,{children:o.jsx("span",{className:"text-sm text-muted-foreground",children:"0 districts"})}),o.jsx(Ue,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>b(O),children:o.jsx(ch,{className:"h-4 w-4"})}),o.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>T(O.id),className:"text-destructive hover:text-destructive",children:o.jsx(Vc,{className:"h-4 w-4"})})]})})]},O.id))})]})}),n.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(fr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"No states found matching your criteria."}),o.jsxs(ee,{onClick:()=>b(),children:[o.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Add First State"]})]})]})]})]})},uee=ia({name:pt().min(2,"District name must be at least 2 characters"),stateId:pt().min(1,"Please select a state")}),dee=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState([]),[a,l]=p.useState(!0),[c,u]=p.useState(""),[h,f]=p.useState("all"),[m,y]=p.useState(!1),[x,g]=p.useState(null),[_,b]=p.useState(!1),{toast:w}=cn(),E=ra({resolver:sa(uee),defaultValues:{name:"",stateId:""}});p.useEffect(()=>{T()},[]),p.useEffect(()=>{let A=t;c&&(A=A.filter(D=>D.name.toLowerCase().includes(c.toLowerCase()))),h!=="all"&&(A=A.filter(D=>D.stateId===h)),r(A)},[t,c,h]);const T=async()=>{try{const[A,D]=await Promise.all([cO(),nu()]);e(A),r(A),i(D)}catch(A){console.error("Error fetching data:",A),w({title:"Error",description:"Failed to load districts.",variant:"destructive"})}finally{l(!1)}},I=A=>{A?(g(A),E.reset({name:A.name,stateId:A.stateId})):(g(null),E.reset({name:"",stateId:""})),y(!0)},O=()=>{y(!1),g(null),E.reset()},C=async A=>{b(!0);try{x?(await IX(x.id,A),w({title:"District Updated",description:"District has been successfully updated."})):(await CX(A),w({title:"District Created",description:"District has been successfully created."})),await T(),O()}catch(D){console.error("Error saving district:",D),w({title:"Save Failed",description:"Failed to save district.",variant:"destructive"})}finally{b(!1)}},N=async A=>{if(confirm("Are you sure you want to delete this district? This will also delete all associated tehsils."))try{await PX(A),e(t.filter(D=>D.id!==A)),w({title:"District Deleted",description:"District has been successfully deleted."})}catch(D){console.error("Error deleting district:",D),w({title:"Delete Failed",description:"Failed to delete district.",variant:"destructive"})}},P=A=>{const D=s.find(j=>j.id===A);return D?D.name:A},R=()=>{w({title:"Bulk Import",description:"Bulk import feature coming soon!"})};return a?o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Districts"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage districts"})]})}),o.jsx(ye,{children:o.jsx(ve,{className:"p-6",children:o.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((A,D)=>o.jsx("div",{className:"h-12 bg-muted rounded"},D))})})})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Districts"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage districts by state"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ee,{variant:"outline",onClick:R,children:[o.jsx(Rd,{className:"h-4 w-4 mr-2"}),"Bulk Import"]}),o.jsxs(Bg,{open:m,onOpenChange:y,children:[o.jsx(zg,{asChild:!0,children:o.jsxs(ee,{onClick:()=>I(),children:[o.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Add District"]})}),o.jsxs(Ih,{className:"sm:max-w-[425px]",children:[o.jsxs(Ph,{children:[o.jsx(Rh,{children:x?"Edit District":"Add New District"}),o.jsx(kh,{children:x?"Update the district details below.":"Create a new district."})]}),o.jsx(oa,{...E,children:o.jsxs("form",{onSubmit:E.handleSubmit(C),className:"space-y-4",children:[o.jsx(gt,{control:E.control,name:"stateId",render:({field:A})=>o.jsxs(ut,{children:[o.jsx(dt,{children:"State"}),o.jsxs(Sn,{onValueChange:A.onChange,defaultValue:A.value,children:[o.jsx(ht,{children:o.jsx(mn,{children:o.jsx(Tn,{placeholder:"Select state"})})}),o.jsx(pn,{children:s.map(D=>o.jsx(Ze,{value:D.id,children:D.name},D.id))})]}),o.jsx(ft,{})]})}),o.jsx(gt,{control:E.control,name:"name",render:({field:A})=>o.jsxs(ut,{children:[o.jsx(dt,{children:"District Name"}),o.jsx(ht,{children:o.jsx(Ye,{...A,placeholder:"Enter district name"})}),o.jsx(ft,{})]})}),o.jsxs(jh,{children:[o.jsx(ee,{type:"button",variant:"outline",onClick:O,children:"Cancel"}),o.jsx(ee,{type:"submit",disabled:_,children:_?"Saving...":x?"Update":"Create"})]})]})})]})]})]})]}),o.jsxs(ye,{children:[o.jsx(Le,{children:o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(Lc,{className:"h-5 w-5"}),"Search & Filter"]})}),o.jsx(ve,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(el,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ye,{placeholder:"Search districts...",value:c,onChange:A=>u(A.target.value),className:"pl-10"})]}),o.jsxs(Sn,{value:h,onValueChange:f,children:[o.jsx(mn,{children:o.jsx(Tn,{placeholder:"Filter by state"})}),o.jsxs(pn,{children:[o.jsx(Ze,{value:"all",children:"All States"}),s.map(A=>o.jsx(Ze,{value:A.id,children:A.name},A.id))]})]}),o.jsxs("div",{className:"text-sm text-muted-foreground flex items-center",children:["Showing ",n.length," of ",t.length," districts"]})]})})]}),o.jsxs(ye,{children:[o.jsxs(Le,{children:[o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(fr,{className:"h-5 w-5"}),"Districts List"]}),o.jsx(nn,{children:"Manage districts by state"})]}),o.jsxs(ve,{children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Mi,{children:[o.jsx(Li,{children:o.jsxs(Pn,{children:[o.jsx(Fe,{children:"Name"}),o.jsx(Fe,{children:"State"}),o.jsx(Fe,{children:"Tehsils"}),o.jsx(Fe,{children:"Actions"})]})}),o.jsx(Vi,{children:n.map(A=>o.jsxs(Pn,{className:"hover:bg-muted/50",children:[o.jsx(Ue,{children:o.jsx("div",{children:o.jsx("p",{className:"font-medium",children:A.name})})}),o.jsx(Ue,{children:o.jsx(Ht,{variant:"outline",children:P(A.stateId)})}),o.jsx(Ue,{children:o.jsx("span",{className:"text-sm text-muted-foreground",children:"0 tehsils"})}),o.jsx(Ue,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>I(A),children:o.jsx(ch,{className:"h-4 w-4"})}),o.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>N(A.id),className:"text-destructive hover:text-destructive",children:o.jsx(Vc,{className:"h-4 w-4"})})]})})]},A.id))})]})}),n.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(fr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"No districts found matching your criteria."}),o.jsxs(ee,{onClick:()=>I(),children:[o.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Add First District"]})]})]})]})]})},hee=ia({name:pt().min(2,"Tehsil name must be at least 2 characters"),districtId:pt().min(1,"Please select a district")}),fee=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState([]),[a,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState(!0),[m,y]=p.useState(""),[x,g]=p.useState("all"),[_,b]=p.useState("all"),[w,E]=p.useState(!1),[T,I]=p.useState(null),[O,C]=p.useState(!1),{toast:N}=cn(),P=ra({resolver:sa(hee),defaultValues:{name:"",districtId:""}});p.useEffect(()=>{R()},[]),p.useEffect(()=>{let V=t;if(m&&(V=V.filter(L=>L.name.toLowerCase().includes(m.toLowerCase()))),_!=="all")V=V.filter(L=>L.districtId===_);else if(x!=="all"){const G=a.filter(ue=>ue.stateId===x).map(ue=>ue.id);V=V.filter(ue=>G.includes(ue.districtId))}r(V)},[t,m,x,_,a]),p.useEffect(()=>{u(x==="all"?a:a.filter(V=>V.stateId===x)),b("all")},[x,a]);const R=async()=>{try{const[V,L,G]=await Promise.all([DX(),nu(),cO()]);e(V),r(V),i(L),l(G),u(G)}catch(V){console.error("Error fetching data:",V),N({title:"Error",description:"Failed to load tehsils.",variant:"destructive"})}finally{f(!1)}},A=V=>{V?(I(V),P.reset({name:V.name,districtId:V.districtId})):(I(null),P.reset({name:"",districtId:""})),E(!0)},D=()=>{E(!1),I(null),P.reset()},j=async V=>{C(!0);try{T?(await kX(T.id,V),N({title:"Tehsil Updated",description:"Tehsil has been successfully updated."})):(await RX(V),N({title:"Tehsil Created",description:"Tehsil has been successfully created."})),await R(),D()}catch(L){console.error("Error saving tehsil:",L),N({title:"Save Failed",description:"Failed to save tehsil.",variant:"destructive"})}finally{C(!1)}},B=async V=>{if(confirm("Are you sure you want to delete this tehsil?"))try{await AX(V),e(t.filter(L=>L.id!==V)),N({title:"Tehsil Deleted",description:"Tehsil has been successfully deleted."})}catch(L){console.error("Error deleting tehsil:",L),N({title:"Delete Failed",description:"Failed to delete tehsil.",variant:"destructive"})}},re=V=>{const L=a.find(G=>G.id===V);return L?L.name:V},Y=V=>{const L=a.find(ue=>ue.id===V);if(!L)return"";const G=s.find(ue=>ue.id===L.stateId);return G?G.name:""},le=()=>{N({title:"Bulk Import",description:"Bulk import feature coming soon!"})};return h?o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Tehsils"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage tehsils"})]})}),o.jsx(ye,{children:o.jsx(ve,{className:"p-6",children:o.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((V,L)=>o.jsx("div",{className:"h-12 bg-muted rounded"},L))})})})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Tehsils"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage tehsils by district"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ee,{variant:"outline",onClick:le,children:[o.jsx(Rd,{className:"h-4 w-4 mr-2"}),"Bulk Import"]}),o.jsxs(Bg,{open:w,onOpenChange:E,children:[o.jsx(zg,{asChild:!0,children:o.jsxs(ee,{onClick:()=>A(),children:[o.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Add Tehsil"]})}),o.jsxs(Ih,{className:"sm:max-w-[425px]",children:[o.jsxs(Ph,{children:[o.jsx(Rh,{children:T?"Edit Tehsil":"Add New Tehsil"}),o.jsx(kh,{children:T?"Update the tehsil details below.":"Create a new tehsil."})]}),o.jsx(oa,{...P,children:o.jsxs("form",{onSubmit:P.handleSubmit(j),className:"space-y-4",children:[o.jsx(gt,{control:P.control,name:"districtId",render:({field:V})=>o.jsxs(ut,{children:[o.jsx(dt,{children:"District"}),o.jsxs(Sn,{onValueChange:V.onChange,defaultValue:V.value,children:[o.jsx(ht,{children:o.jsx(mn,{children:o.jsx(Tn,{placeholder:"Select district"})})}),o.jsx(pn,{children:a.map(L=>o.jsxs(Ze,{value:L.id,children:[L.name," (",Y(L.id),")"]},L.id))})]}),o.jsx(ft,{})]})}),o.jsx(gt,{control:P.control,name:"name",render:({field:V})=>o.jsxs(ut,{children:[o.jsx(dt,{children:"Tehsil Name"}),o.jsx(ht,{children:o.jsx(Ye,{...V,placeholder:"Enter tehsil name"})}),o.jsx(ft,{})]})}),o.jsxs(jh,{children:[o.jsx(ee,{type:"button",variant:"outline",onClick:D,children:"Cancel"}),o.jsx(ee,{type:"submit",disabled:O,children:O?"Saving...":T?"Update":"Create"})]})]})})]})]})]})]}),o.jsxs(ye,{children:[o.jsx(Le,{children:o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(Lc,{className:"h-5 w-5"}),"Search & Filter"]})}),o.jsx(ve,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(el,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ye,{placeholder:"Search tehsils...",value:m,onChange:V=>y(V.target.value),className:"pl-10"})]}),o.jsxs(Sn,{value:x,onValueChange:g,children:[o.jsx(mn,{children:o.jsx(Tn,{placeholder:"Filter by state"})}),o.jsxs(pn,{children:[o.jsx(Ze,{value:"all",children:"All States"}),s.map(V=>o.jsx(Ze,{value:V.id,children:V.name},V.id))]})]}),o.jsxs(Sn,{value:_,onValueChange:b,children:[o.jsx(mn,{children:o.jsx(Tn,{placeholder:"Filter by district"})}),o.jsxs(pn,{children:[o.jsx(Ze,{value:"all",children:"All Districts"}),c.map(V=>o.jsx(Ze,{value:V.id,children:V.name},V.id))]})]}),o.jsxs("div",{className:"text-sm text-muted-foreground flex items-center",children:["Showing ",n.length," of ",t.length," tehsils"]})]})})]}),o.jsxs(ye,{children:[o.jsxs(Le,{children:[o.jsxs(Ve,{className:"flex items-center gap-2",children:[o.jsx(fr,{className:"h-5 w-5"}),"Tehsils List"]}),o.jsx(nn,{children:"Manage tehsils by district and state"})]}),o.jsxs(ve,{children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Mi,{children:[o.jsx(Li,{children:o.jsxs(Pn,{children:[o.jsx(Fe,{children:"Name"}),o.jsx(Fe,{children:"District"}),o.jsx(Fe,{children:"State"}),o.jsx(Fe,{children:"Actions"})]})}),o.jsx(Vi,{children:n.map(V=>o.jsxs(Pn,{className:"hover:bg-muted/50",children:[o.jsx(Ue,{children:o.jsx("div",{children:o.jsx("p",{className:"font-medium",children:V.name})})}),o.jsx(Ue,{children:o.jsx(Ht,{variant:"outline",children:re(V.districtId)})}),o.jsx(Ue,{children:o.jsx(Ht,{variant:"secondary",children:Y(V.districtId)})}),o.jsx(Ue,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>A(V),children:o.jsx(ch,{className:"h-4 w-4"})}),o.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>B(V.id),className:"text-destructive hover:text-destructive",children:o.jsx(Vc,{className:"h-4 w-4"})})]})})]},V.id))})]})}),n.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(fr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"No tehsils found matching your criteria."}),o.jsxs(ee,{onClick:()=>A(),children:[o.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Add First Tehsil"]})]})]})]})]})},mee=new LU,pee=()=>o.jsx(FU,{client:mee,children:o.jsx(pG,{children:o.jsxs(fU,{children:[o.jsx(XF,{}),o.jsx(P3,{}),o.jsx(F6,{children:o.jsx("div",{className:"min-h-screen",children:o.jsxs(VE,{children:[o.jsxs(mt,{path:"/admin",element:o.jsx(VQ,{children:o.jsx(zQ,{})}),children:[o.jsx(mt,{path:"dashboard",element:o.jsx(VJ,{})}),o.jsx(mt,{path:"orders",element:o.jsx(FJ,{})}),o.jsx(mt,{path:"orders/:id",element:o.jsx(UJ,{})}),o.jsx(mt,{path:"catalog/products",element:o.jsx($J,{})}),o.jsx(mt,{path:"catalog/products/new",element:o.jsx(PN,{})}),o.jsx(mt,{path:"catalog/products/:id/edit",element:o.jsx(PN,{})}),o.jsx(mt,{path:"catalog/categories",element:o.jsx(see,{})}),o.jsx(mt,{path:"catalog/bulk-upload",element:o.jsx(aee,{})}),o.jsx(mt,{path:"geo/states",element:o.jsx(cee,{})}),o.jsx(mt,{path:"geo/districts",element:o.jsx(dee,{})}),o.jsx(mt,{path:"geo/tehsils",element:o.jsx(fee,{})}),o.jsx(mt,{path:"users",element:o.jsxs("div",{className:"p-6",children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Users Management"}),o.jsx("p",{className:"text-muted-foreground",children:"Coming soon..."})]})}),o.jsx(mt,{path:"reports",element:o.jsxs("div",{className:"p-6",children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Reports"}),o.jsx("p",{className:"text-muted-foreground",children:"Coming soon..."})]})}),o.jsx(mt,{path:"settings",element:o.jsxs("div",{className:"p-6",children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Settings"}),o.jsx("p",{className:"text-muted-foreground",children:"Coming soon..."})]})})]}),o.jsx(mt,{path:"/*",element:o.jsxs(o.Fragment,{children:[o.jsx(LQ,{}),o.jsx("main",{children:o.jsxs(VE,{children:[o.jsx(mt,{path:"/",element:o.jsx(HQ,{})}),o.jsx(mt,{path:"/login",element:o.jsx(HY,{})}),o.jsx(mt,{path:"/register",element:o.jsx(GY,{})}),o.jsx(mt,{path:"/otp-login",element:o.jsx(MJ,{})}),o.jsx(mt,{path:"/my-orders",element:o.jsx(DJ,{})}),o.jsx(mt,{path:"/order/:id",element:o.jsx(OJ,{})}),o.jsx(mt,{path:"/select-state",element:o.jsx(XX,{})}),o.jsx(mt,{path:"/select-district",element:o.jsx(iZ,{})}),o.jsx(mt,{path:"/party-details",element:o.jsx(lZ,{})}),o.jsx(mt,{path:"/stamp-selection",element:o.jsx(wZ,{})}),o.jsx(mt,{path:"/checkout",element:o.jsx(TZ,{})}),o.jsx(mt,{path:"/order-confirmation",element:o.jsx(NZ,{})}),o.jsx(mt,{path:"*",element:o.jsx(LJ,{})})]})})]})})]})})})]})})});ZI(document.getElementById("root")).render(o.jsx(pee,{}));
